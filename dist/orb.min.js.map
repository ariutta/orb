{"version":3,"sources":["orb.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","orb","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length",1,"_dereq_","default","__esModule","core-js/library/fn/json/stringify",2,"core-js/library/fn/symbol",3,"_Symbol","obj","constructor","babel-runtime/core-js/symbol",4,"core","it","JSON","stringify","apply","arguments","../../modules/$.core",5,"Symbol","../../modules/es6.object.to-string","../../modules/es6.symbol",6,"TypeError",7,"isObject","./$.is-object",8,"toString","slice",9,"version","__e",10,"aFunction","fn","that","undefined","b","c","./$.a-function",11,12,"Object","defineProperty","get","./$.fails",13,"$","keys","getKeys","getSymbols","key","symbols","isEnum","push","./$",14,"ctx","PROTOTYPE","$export","type","name","source","own","out","IS_FORCED","F","IS_GLOBAL","G","IS_STATIC","S","IS_PROTO","P","IS_BIND","B","IS_WRAP","W","target","C","param","Function","./$.core","./$.ctx","./$.global",15,"exec",16,"toIObject","getNames","windowNames","getOwnPropertyNames","getWindowNames","./$.to-iobject",17,"Math","__g",18,"hasOwnProperty",19,"createDesc","object","value","setDesc","./$.descriptors","./$.property-desc",20,"cof","propertyIsEnumerable","split","./$.cof",21,"Array","isArray","arg",22,23,"$Object","create","getProto","getPrototypeOf","getDesc","getOwnPropertyDescriptor","setDescs","defineProperties","getOwnPropertySymbols","each","forEach",24,"el","O","index",25,26,"bitmap","enumerable","configurable","writable",27,"./$.hide",28,"def","has","TAG","tag","stat","prototype","./$.has","./$.wks",29,"SHARED","store",30,"IObject","defined","./$.defined","./$.iobject",31,"id","px","random","concat",32,"uid","./$.shared","./$.uid",33,34,"DESCRIPTORS","redefine","$fails","shared","setToStringTag","wks","keyOf","$names","enumKeys","anObject","_create","$Symbol","$JSON","_stringify","setter","HIDDEN","SymbolRegistry","AllSymbols","useNative","ObjectProto","setSymbolDesc","D","protoDesc","wrap","sym","_k","set","isSymbol","$defineProperty","$defineProperties","$create","$propertyIsEnumerable","E","$getOwnPropertyDescriptor","$getOwnPropertyNames","names","result","$getOwnPropertySymbols","$stringify","replacer","$replacer","args","$$","buggyJSON","symbolStatics","for","keyFor","useSetter","useSimple","./$.an-object","./$.enum-keys","./$.export","./$.get-names","./$.is-array","./$.keyof","./$.library","./$.redefine","./$.set-to-string-tag",35,"calcVariance","datafield","intersection","datasource","population","variance","avg","len","forEachIntersection","val","NaN","callback","all","Aggregations","toAggregateFunc","func","sum","count","min","max","prod","stdev","sqrt","stdevp","var","varp",36,"utils","Dimension","AxeType","COLUMNS","ROWS","DATA","pgrid","getfieldindex","field","fields","fill","filteredDataSource","dimensionsCount","rowIndex","dataLength","row","dim","root","findex","depth","subfield","subvalue","subdimvals","values","dimid","rowIndexes","dimensionsByDepth","config","columnFields","rowFields","dataFields","update","ffield","sort","order","donottoggle","parents","customfunc","reverse","flattenValues","map","currDim","isRoot","parent","Type","./orb.dimension","./orb.utils",37,"getpropertyvalue","property","configs","defaultvalue","mergefieldconfigs","merged","sorts","subtotals","functions","nnconfig","subTotal","aggregateFuncName","aggregateFunc","formatFunc","createfield","rootconfig","axetype","fieldconfig","defaultfieldconfig","defaultFormatFunc","axeconfig","fieldAxeconfig","axe","rowSettings","columnSettings","dataSettings","Field","caption","visible","collapsible","collapsed","aggregation","GrandTotalConfig","options","rowsvisible","columnsvisible","SubTotalConfig","setdefaults","defaults","SortConfig","ChartConfig","enabled","filtering","themeManager","createSubOptions","_aggregatefunc","_formatfunc","isString","ensureFieldConfig","captionToName","getfield","axefields","fieldname","fieldindex","fi","dataSource","canMoveFields","dataHeadersLocation","grandTotal","width","height","toolbar","theme","chartMode","current","dataSourceFieldNames","dataSourceFieldCaptions","fcaptionIndex","indexOf","nameToCaption","fnameIndex","setTheme","newTheme","allFields","rows","columns","data","dataFieldsCount","runtimeVisibility","getField","getRowField","getColumnField","getDataField","availablefields","filter","notequalfield","otherfield","every","getDataSourceFieldCaptions","row0","fieldNames","ownProperties","headers","getPreFilters","prefilters","preFilters","filteredField","prefilterConfig","expressionFilter","opname","moveField","oldaxetype","newaxetype","position","oldaxe","oldposition","newaxe","fieldConfig","defaultFieldConfig","newAxeSubtotalsState","areSubtotalsVisible","splice","toggleSubtotals","axeFields","newState","toggleGrandtotal","isGrandtotalVisible","./orb.aggregation","./orb.axe","./orb.filtering","./orb.themes",38,"isLeaf","getRowIndexes","j",39,"uiheaders","uriHeader","docHeader","docFooter","pgridwidget","createButtonCell","buttonStyle","buttonTextColor","createButtons","buttons","cellsCountBefore","cellsCountAfter","prefix","str","reduce","tr","toBase64","btoa","unescape","encodeURIComponent","currTheme","override","themeColor","themes","themeFadeout","fadeoutColor","headerStyle","cellsHorizontalCount","layout","pivotTable","sep","rowHeaders","columnHeaders","currRow","rowStr","header","HeaderType","DATA_HEADER","hspan","vspan","rowHeadersAndDataCells","dataRow","dataRows","dataCell","./orb.ui.header",40,"ALL","NONE","BLANK","operator","term","staticValue","excludeStatic","ops","regexpMode","regexpSupported","isRegExp","ignoreCase","RegExp","test","found","isAlwaysTrue","Operators","MATCH","NOTMATCH","EQ","NEQ","GT","GTE","LT","LTE","search",41,"query","./orb.export.excel","./orb.pgrid","./orb.query","./orb.ui.pgridwidget",42,"PubSub","configuration","refresh","refreshFilters","refreshFilteredDataSource","computeValues","publish","EVENT_UPDATED","filterFields","filters","exclude","fieldFilter","computeValue","colIndexes","origRowIndexes","res","ri","rowindex","colrowindex","emptyIntersection","datafields","fieldnameIndex","datafieldIndex","defaultfield","dfi","computeRowValues","rowDim","rid","_iCache","p","rowindexes","subdim","cid","ur","vr","dataMatrix","EVENT_SORT_CHANGED","applyFilter","refreshData","EVENT_CONFIG_CHANGED","getFieldValues","filterFunc","values1","containsBlank","isNumber","isDate","vi","unshift","getFieldFilter","isFieldFiltered","getData","rowdim","coldim","datafieldName","calcAggregation","getChartData","getAxisLabel","axisFields","ti","hAxisLabel","vAxisLabel","legendsLabel","rowLeafDimensions","colLeafDimensions","ci","cdim","currData","rri","title","colNames","d","dataTable","./orb.config","./orb.pubsub",43,"_topics","subscribe","topic","isFunction",44,"_interopRequireDefault","_typeof2","_typeof3","queryBase","extractResult","aggs","outerArgs","multi","ai","multiFieldNames","getCaptionName","datafieldname","measureFunc","fieldsConfig","cleanOptions","compute","setDefaultAggFunctions","valname","aggFunctions","funcIndex","funcName","pgridQuery","filterDimensions","upperDims","some","upperDim","innerArgs","opts","setup","parameters","fIndex","colFields","df","dfname","dfcaption","applyFilters","sortedFilters","f1","f2","currAxe","filterIndex","filtered","rowdims","coldims","rdi","cdi","arrayQuery","array","setCaptionName","fname","fcaption","toAggregate","include","aggFunc","babel-runtime/helpers/typeof",45,"states","state",46,"isBootstrap","currentTheme","red","blue","green","orange","flower","gray","black","white","rfi","validateTheme","themeName","trim","getPivotClasses","container","table","getButtonClasses","pivotButton","orbButton","scrollBar","getFilterClasses","getGridClasses","getDialogClasses","classes","overlay","dialog","content","body","hexToRgb","hex","parseInt","rgbaToHex","rgba","matches","match","alpha","parseFloat","applyAlphaAndToHex","rgbaToHexA","floor","substr","color",47,"axeModel","isMultiDataFields","toggleFieldExpansion","hIndex","toToggle","allExpanded","SUB_TOTAL","expanded","collapse","expand",48,"axeUi","columnsAxe","generateLeafsHeaders","pushsubtotal","pheader","leafsHeaders","subtotalHeader","infos","currparent","prevpar","grandpar","prevgrandpar","leafIndex","datafieldindex","dataHeader","getUiInfo","pi","parentDim","di","build","GRAND_TOTAL","INNER","./orb.ui.axe",49,"CellBase","template","cssclass","isvisible","getState","setState","EMPTY","DATA_VALUE","FIELD_BUTTON","WRAPPER","getHeaderClass","headerType","getCellClass","rowHeaderType","colHeaderType","datafieldscount","isParentExpanded","hparent","isexpanded","par","calcSpan","ignoreVisibility","subSpan","tspan","addone","isRowsAxe","subheaders","subheader","rowinfo","colinfo","rowDimension","columnDimension","rowType","colType","buttonCell","emptyCell","_hspan","_vspan","./orb.state",50,"ReactDOM","React","uirows","uicols","Dialog","PivotChart","PivotTable","Grid","init","buildUiAndRender","buildUi","createVisibleFunc","rowvisible","colvisible","rowsHeaders","columnsLeafHeaders","arr","rowHeadersRow","rowLeafHeader","colHeaderIndex","columnLeafHeader","render","renderElement","pivotComponent","expandRow","cell","collapseRow","oldAxeType","newAxeType","axeToExpand","changeTheme","element","pivotTableFactory","createFactory","pivottable","drilldown","pivotId","show","comp","props","style","fontStyle","./orb.ui.cols","./orb.ui.rows","./react/orb.react.Dialog.jsx","./react/orb.react.Grid.jsx","./react/orb.react.PivotChart.jsx","./react/orb.react.PivotTable.jsx","react","react-dom",51,"rowsAxe","addDataHeaders","lastInfosArray","dimension","infosMaxIndex","valIndex","subTotalHeader","newHeader","grandtotalHeader","lastrow",52,"replaceHyphenByUcase","replace","reHyphenToUcase","m","m1","toUpperCase","removeClass","classname","className","addClass","getOffset","rect","getBoundingClientRect","x","left","y","top","getParentOffset","rectParent","parentNode","getSize","right","bottom","getStyle","styleProps","keepString","currStyle","fixProp","currentStyle","prop","getComputedStyle","getPropertyValue","ceil","isVisible","display","offsetWidth","offsetHeight","updateTableColGroup","tableNode","widths","colGroupNode","firstChild","nodeName","tableLayout","removeChild","col","document","createElement","appendChild",53,"_stringify2","ns","identifier","parts","list","forceContinue","ret","escapeRegex","re","findInArray","predicate","item","jsonStringify","censorKeywords","censor","addEventListener","eventName","handler","attachEvent","removeEventListener","detachEvent","preventDefault","event","returnValue","stopPropagation","cancelBubble","getEventButton","button","getMousePageXY","pageX","pageY","clientX","scrollLeft","documentElement","clientY","scrollTop","InvalidCharacterError","message","chars","input","block","charCode","String","idx","output","charAt","charCodeAt","atob","bs","buffer","bc","fromCharCode","babel-runtime/core-js/json/stringify",54,"createClass","displayName","getInitialState","canRender","google","visualization","drawChart","chartData","pivotTableComp","DataTable","addColumn","addRows","fontName","chartStyle","fontFamily","fontSize","hAxis","vAxis","chart","findDOMNode","draw","componentDidMount","componentDidUpdate",55,"createOverlay","overlayElement","statics","dialogFactory","setOverlayClass","close","dialogElement","children","dialogBodyElement","screenWidth","clientWidth","innerWidth","screenHeight","clientHeight","innerHeight","maxHeight","dWidth","dHeight","srcElement","unmountComponentAtNode","onClick","../orb.utils",56,"doElementsOverlap","elem1Rect","elem2Rect","setCurrDropTarget","dropTarget","_currDropTarget","signalDragEnd","signalDragOver","setCurrDropIndicator","dropIndicator","_currDropIndicator","onDragOver","onDragEnd","_pivotComp","_currDragElement","_dragNode","_dropTargets","_dropIndicators","_initialized","pivotComp","setDragElement","elem","prevDragElement","moveButton","component","registerTarget","dragOverHandler","dargEndHandler","unregisterTarget","tindex","registerIndicator","indicator","unregisterIndicator","iindex","elementMoved","foundTarget","dragNodeRect","tnodeRect","isOverlap","foundIndicator","elementOwnIndicator","targetIndicator","axeIndicators",57,"DragManager","isover","componentWillUnmount","isMounted","isVertical","isFirst","isLast","./orb.react.DragManager.jsx",58,"DropIndicator","dtid","../orb.axe","./orb.react.DropIndicator.jsx",59,"currButton",60,"openOrClose","valueNode","refs","valueElement","valuesListNode","valuesList","onMouseEnter","backgroundPosition","onMouseLeave","selectValue","listNode","isli","textContent","onValueChanged","dangerouslySetInnerHTML","__html","ref","selectedValue",61,"FilterManager","reactComp","initialFilterObject","checkboxVisible","checkbox","applyInitialFilterObject","staticInfos","toExclude","isSearchMode","toggleRegexpButtonVisibility","isRegexMode","toggleRegexpButtonState","lastSearchTerm","elems","searchBox","applyFilterTerm","savedCheckedValues","updateCheckboxes","updateAllCheckbox","addEventListeners","filterContainer","valueChecked","searchChanged","clearSearchButton","clearSearchBox","okButton","checkedObj","getCheckedValues","onFilter","cancelButton","destroy","ResizeManager","outerContainerElem","valuesTableElem","resizeGripElem","minContainerWidth","minContainerHeight","mousedownpos","isMouseDown","resizeMouseDown","mousePageXY","cursor","resizeMouseUp","resizeMouseMove","resizeGripSize","outerContainerSize","valuesTableSize","tBodies","outerContainerWidth","outerContainerHeight","offset","newContainerWidth","newContainerHeight","resizeManager","INDETERMINATE","checkboxes","operatorBox","allCheckbox","addCheckbox","enableRegexButton","resizeGrip","filterContainerElement","cells","blanckCheckbox","onOperatorChanged","newOperator","regexpActiveChanged","domUtils","checked","defaultVisible","opterm","previousIsSearchMode","indeterminate","valuesCount","checkedCount","excludeUnchecked","checkedList","allchecked","valInList","Dropdown","filterManager","onMouseDown","onMouseWheel","valuesTable","scrollHeight","componentWillMount","addCheckboxRow","text","defaultChecked","buttonClass","currentFilter","placeholder","clearFilter","colSpan","float","../orb.filtering","../orb.utils.dom","./orb.react.Dropdown.jsx",62,"tableClasses","headerRow","h",63,"FilterPanel","pbid","pos","startpos","mousedown","dragging","onFilterMouseDown","filterButton","filterButtonPos","filterPanelFactory","filterPanel","onMouseMove","registerThemeChanged","updateClasses","unregisterThemeChanged","ctrlKey","thispos","mouseoffset","onMouseUp","isdragged","size","newpos","divstyle","zIndex","sortDirectionClass","filterClass","fieldAggFunc","./orb.react.FilterPanel.jsx",64,"getClassname","compProps","leftmost","topmost","_paddingLeft","_borderLeft","updateCellInfos","node","__orb","cellContentNode","cellContent","propList","retPaddingLeft","retBorderLeft","innerText","nodeStyle","_visible","_lastText","_textWidth","_colSpan","_rowSpan","_paddingRight","_borderLeftWidth","_borderRightWidth","shouldComponentUpdate","nextProps","nextState","_latestVisibleState","cellClick","divcontent","headerPushed","isWrapper","isSubtotal","headerClassName","onDoubleClick","rowSpan","../orb.ui.header",65,"SizingManager","UpperButtons","ColumnButtons","RowButtons","Chart","themeChangeCallbacks","compCallback","thisnode","synchronizeWidths","fontInfos","tblStyle","padding","./orb.react.Chart.jsx","./orb.react.PivotTable.ColumnButtons.jsx","./orb.react.PivotTable.RowButtons.jsx","./orb.react.PivotTable.SizingManager.jsx","./orb.react.PivotTable.UpperButtons.jsx","./orb.react.Toolbar.jsx",66,"PivotCell","leftmostCellFound","layoutInfos","rowstyle","istopmost","isleftmost","topMostCells","lastLeftMostCellVSpan","./orb.react.PivotCell.jsx",67,"PivotButton","DropTarget","columnButtons","./orb.react.DropTarget.jsx","./orb.react.PivotButton.jsx",68,"PivotRow","cntrClass","onWheel","./orb.react.PivotRow.jsx",69,"dataCells",70,"DropTargetVertical","rowButtons","./orb.react.DropTargetVertical.jsx",71,"setColGroup","colgroup","innerHTML",72,"ComponentSizeInfo","childType","w","setStyle","styleProp","setParentStyle","getLargestWidths","otherCompInfo","total","colWidths","addToWidth","getAllColumnsWidth","tblObject","tbl","arrayIndex","currWidth","cellIndex","currCell","cellwidth","cspan","inhibit","synchronizePivotChartWidths","synchronizePivotTableWidths","pivotWrapperTable","pivot","topBtns","upperButtons","cBtns","colButtons","rBtnsTbl","rBtnsWidth","chartWidth","pivotHeight","chartHeight","cHeadersTbl","colHeaders","rHeadersTbl","dataCellsTbl","hScroll","horizontalScrollBar","vScroll","verticalScrollBar","dataCellsWidths","rHeadersWidth","dataCellsContainerWidth","dataCellsRemHeight","dataCellsTableHeight",73,"fieldsDropTarget","fieldsButtons","dataButtons","dataDropTarget",74,"Toolbar","RowHeaders","ColumnHeaders","DataCells","ScrollBars","HorizontalScrollBar","VerticalScrollBar","dataCellsNode","dataCellsTableNode","colHeadersNode","rowHeadersNode","setScrollClient","scrollPercent","scrollAmount","scrollbar","amount","currentTarget","deltaX","deltaY","scroll","deltaMode","./orb.react.PivotTable.ColumnHeaders.jsx","./orb.react.PivotTable.DataCells.jsx","./orb.react.PivotTable.RowHeaders.jsx","./orb.react.ScrollBars.jsx",75,"ScrollEvent","scrollBarComp","raise","getScrollPercent","scrollBarMixin","scrollEvent","scrollClient","thumbOffset","thumbElem","scrollThumb","thumbposInParent","mousePosProp","posProp","getScrollSize","sizeProp","scrollCallback","maxOffset","scrolledElement","clientSize","elementSize","scrollBarContainerSize","newSize","containerSize","mode","newOffset","thumbStyle","offsetCssProp","thisStyle","thumbClass","cssClass","mixins",76,"_toInit","btn","createCallback","action","pgridComponent","configButtons","defaultToolbarConfig","btnConfig","refName","tooltip","excelExport","exportToExcel","download","href","click","expandAllRows","collapseAllRows","expandAllColumns","collapseAllColumns","updateSubtotalsButton","subTotalsState","classToAdd","classToRemove","initSubtotals","updateGrandtotalButton","initGrandtotal","../orb.export.excel"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,AAGA,cACA,SAAUA,GACR,GAAuB,gBAAZC,UAA0C,mBAAXC,QACxCA,OAAOD,QAAUD,QACZ,IAAsB,kBAAXG,SAAyBA,OAAOC,IAChDD,UAAWH,OACN,CACL,GAAIK,EAEFA,GADoB,mBAAXC,QACLA,OACuB,mBAAXC,QACZA,OACqB,mBAATC,MACZA,KAEAC,KAENJ,EAAEK,IAAMV,MAET,WAED,MAAO,SAAUW,GAAEC,EAAGC,EAAGC,GACvB,QAASC,GAAEC,EAAGC,GACZ,IAAKJ,EAAEG,GAAI,CACT,IAAKJ,EAAEI,GAAI,CACT,GAAIE,GAAsB,kBAAXC,UAAyBA,OACxC,KAAKF,GAAKC,EAAG,MAAOA,GAAEF,GAAG,EACzB,IAAII,EAAG,MAAOA,GAAEJ,GAAG,EACnB,IAAIhB,GAAI,GAAIqB,OAAM,uBAAyBL,EAAI,IAC/C,MAAMhB,GAAEsB,KAAO,mBAAoBtB,EAErC,GAAIuB,GAAIV,EAAEG,IACRf,WAEFW,GAAEI,GAAG,GAAGQ,KAAKD,EAAEtB,QAAS,SAASU,GAC/B,GAAIE,GAAID,EAAEI,GAAG,GAAGL,EAChB,OAAOI,GAAEF,EAAIA,EAAIF,IAChBY,EAAGA,EAAEtB,QAASU,EAAGC,EAAGC,EAAGC,GAE5B,MAAOD,GAAEG,GAAGf,QAGd,IAAK,GADDmB,GAAsB,kBAAXD,UAAyBA,QAC/BH,EAAI,EAAGA,EAAIF,EAAEW,OAAQT,IAAKD,EAAED,EAAEE,GACvC,OAAOD,KAEPW,GAAI,SAASC,EAASzB,EAAQD,GAC5BC,EAAOD,SACL2B,UAAWD,EAAQ,qCACnBE,YAAY,KAGdC,oCAAqC,IAEvCC,GAAI,SAASJ,EAASzB,EAAQD,GAC5BC,EAAOD,SACL2B,UAAWD,EAAQ,6BACnBE,YAAY,KAGdG,4BAA6B,IAE/BC,GAAI,SAASN,EAASzB,EAAQD,GAE5B,GAAIiC,GAAUP,EAAQ,gCAAgC,UAEtD1B,GAAQ,WAAa,SAASkC,GAC5B,MAAOA,IAAOA,EAAIC,cAAgBF,EAAU,eAAkBC,IAGhElC,EAAQ4B,YAAa,IAErBQ,+BAAgC,IAElCC,GAAI,SAASX,EAASzB,EAAQD,GAC5B,GAAIsC,GAAOZ,EAAQ,uBACnBzB,GAAOD,QAAU,SAAmBuC,GAClC,OAAQD,EAAKE,MAAQF,EAAKE,KAAKC,WAAaD,KAAKC,WAAWC,MAAMF,KAAMG,cAG1EC,uBAAwB,IAE1BC,GAAI,SAASnB,EAASzB,EAAQD,GAC5B0B,EAAQ,4BACRA,EAAQ,sCACRzB,EAAOD,QAAU0B,EAAQ,wBAAwBoB,SAEjDF,uBAAwB,EACxBG,qCAAsC,GACtCC,2BAA4B,KAE9BC,GAAI,SAASvB,EAASzB,EAAQD,GAC5BC,EAAOD,QAAU,SAASuC,GACxB,GAAiB,kBAANA,GAAkB,KAAMW,WAAUX,EAAK,sBAClD,OAAOA,SAGXY,GAAI,SAASzB,EAASzB,EAAQD,GAC5B,GAAIoD,GAAW1B,EAAQ,gBACvBzB,GAAOD,QAAU,SAASuC,GACxB,IAAKa,EAASb,GAAK,KAAMW,WAAUX,EAAK,qBACxC,OAAOA,MAGTc,gBAAiB,KAEnBC,GAAI,SAAS5B,EAASzB,EAAQD,GAC5B,GAAIuD,MAAcA,QAElBtD,GAAOD,QAAU,SAASuC,GACxB,MAAOgB,GAAShC,KAAKgB,GAAIiB,MAAM,EAAG,UAGtCC,GAAI,SAAS/B,EAASzB,EAAQD,GAC5B,GAAIsC,GAAOrC,EAAOD,SAChB0D,QAAS,QAEO,iBAAPC,OAAiBA,IAAMrB,QAEpCsB,IAAK,SAASlC,EAASzB,EAAQD,GAE7B,GAAI6D,GAAYnC,EAAQ,iBACxBzB,GAAOD,QAAU,SAAS8D,EAAIC,EAAMvC,GAElC,GADAqC,EAAUC,GACGE,SAATD,EAAoB,MAAOD,EAC/B,QAAQtC,GACN,IAAK,GACH,MAAO,UAASP,GACd,MAAO6C,GAAGvC,KAAKwC,EAAM9C,GAEzB,KAAK,GACH,MAAO,UAASA,EAAGgD,GACjB,MAAOH,GAAGvC,KAAKwC,EAAM9C,EAAGgD,GAE5B,KAAK,GACH,MAAO,UAAShD,EAAGgD,EAAGC,GACpB,MAAOJ,GAAGvC,KAAKwC,EAAM9C,EAAGgD,EAAGC,IAGjC,MAAO,YACL,MAAOJ,GAAGpB,MAAMqB,EAAMpB,eAI1BwB,iBAAkB,IAEpBC,IAAK,SAAS1C,EAASzB,EAAQD,GAE7BC,EAAOD,QAAU,SAASuC,GACxB,GAAUyB,QAANzB,EAAiB,KAAMW,WAAU,yBAA2BX,EAChE,OAAOA,SAGX8B,IAAK,SAAS3C,EAASzB,EAAQD,GAE7BC,EAAOD,SAAW0B,EAAQ,aAAa,WACrC,MAIQ,IAJD4C,OAAOC,kBAAmB,KAC/BC,IAAK,WACH,MAAO,MAERvD,MAGLwD,YAAa,KAEfC,IAAK,SAAShD,EAASzB,EAAQD,GAE7B,GAAI2E,GAAIjD,EAAQ,MAChBzB,GAAOD,QAAU,SAASuC,GACxB,GAAIqC,GAAOD,EAAEE,QAAQtC,GACnBuC,EAAaH,EAAEG,UACjB,IAAIA,EAKF,IAJA,GAGEC,GAHEC,EAAUF,EAAWvC,GACvB0C,EAASN,EAAEM,OACX9D,EAAI,EAEC6D,EAAQxD,OAASL,GAClB8D,EAAO1D,KAAKgB,EAAIwC,EAAMC,EAAQ7D,OAAOyD,EAAKM,KAAKH,EAEvD,OAAOH,MAGTO,MAAO,KAETC,IAAK,SAAS1D,EAASzB,EAAQD,GAC7B,GAAIM,GAASoB,EAAQ,cACnBY,EAAOZ,EAAQ,YACf2D,EAAM3D,EAAQ,WACd4D,EAAY,YAEVC,EAAU,SAASC,EAAMC,EAAMC,GACjC,GAQEX,GAAKY,EAAKC,EARRC,EAAYL,EAAOD,EAAQO,EAC7BC,EAAYP,EAAOD,EAAQS,EAC3BC,EAAYT,EAAOD,EAAQW,EAC3BC,EAAWX,EAAOD,EAAQa,EAC1BC,EAAUb,EAAOD,EAAQe,EACzBC,EAAUf,EAAOD,EAAQiB,EACzBxG,EAAU+F,EAAYzD,EAAOA,EAAKmD,KAAUnD,EAAKmD,OACjDgB,EAASV,EAAYzF,EAAS2F,EAAY3F,EAAOmF,IAASnF,EAAOmF,QAAaH,EAE5ES,KAAWL,EAASD,EACxB,KAAKV,IAAOW,GAEVC,GAAOE,GAAaY,GAAU1B,IAAO0B,GACjCd,GAAOZ,IAAO/E,KAElB4F,EAAMD,EAAMc,EAAO1B,GAAOW,EAAOX,GAEjC/E,EAAQ+E,GAAOgB,GAAmC,kBAAfU,GAAO1B,GAAqBW,EAAOX,GAElEsB,GAAWV,EAAMN,EAAIO,EAAKtF,GAE1BiG,GAAWE,EAAO1B,IAAQa,EAAM,SAAUc,GAC1C,GAAIZ,GAAI,SAASa,GACf,MAAOnG,gBAAgBkG,GAAI,GAAIA,GAAEC,GAASD,EAAEC,GAG9C,OADAb,GAAER,GAAaoB,EAAEpB,GACVQ,GAENF,GAAOO,GAA0B,kBAAPP,GAAoBP,EAAIuB,SAASrF,KAAMqE,GAAOA,EACzEO,KAAUnG,EAAQsF,KAAetF,EAAQsF,QAAkBP,GAAOa,IAI1EL,GAAQO,EAAI,EACZP,EAAQS,EAAI,EACZT,EAAQW,EAAI,EACZX,EAAQa,EAAI,EACZb,EAAQe,EAAI,GACZf,EAAQiB,EAAI,GACZvG,EAAOD,QAAUuF,IAEjBsB,WAAY,EACZC,UAAW,GACXC,aAAc,KAEhBC,IAAK,SAAStF,EAASzB,EAAQD,GAC7BC,EAAOD,QAAU,SAASiH,GACxB,IACE,QAASA,IACT,MAAOvG,GACP,OAAO,SAIbwG,IAAK,SAASxF,EAASzB,EAAQD,GAE7B,GAAImH,GAAYzF,EAAQ,kBACtB0F,EAAW1F,EAAQ,OAAO0F,SAC1B7D,KAAcA,SAEZ8D,EAA+B,gBAAVhH,SAAsBiE,OAAOgD,oBAAsBhD,OAAOgD,oBAAoBjH,WAEnGkH,EAAiB,SAAShF,GAC5B,IACE,MAAO6E,GAAS7E,GAChB,MAAO7B,GACP,MAAO2G,GAAY7D,SAIvBvD,GAAOD,QAAQwE,IAAM,SAA6BjC,GAChD,MAAI8E,IAAoC,mBAArB9D,EAAShC,KAAKgB,GAAiCgF,EAAehF,GAC1E6E,EAASD,EAAU5E,OAG5B4C,MAAO,GACPqC,iBAAkB,KAEpBC,IAAK,SAAS/F,EAASzB,EAAQD,GAE7B,GAAIM,GAASL,EAAOD,QAA2B,mBAAVK,SAAyBA,OAAOqH,MAAQA,KAAOrH,OAAwB,mBAARE,OAAuBA,KAAKmH,MAAQA,KAAOnH,KAAOqG,SAAS,gBAC7I,iBAAPe,OAAiBA,IAAMrH,QAEpCsH,IAAK,SAASlG,EAASzB,EAAQD,GAC7B,GAAI6H,MAAoBA,cACxB5H,GAAOD,QAAU,SAASuC,EAAIwC,GAC5B,MAAO8C,GAAetG,KAAKgB,EAAIwC,SAGnC+C,IAAK,SAASpG,EAASzB,EAAQD,GAC7B,GAAI2E,GAAIjD,EAAQ,OACdqG,EAAarG,EAAQ,oBACvBzB,GAAOD,QAAU0B,EAAQ,mBAAqB,SAASsG,EAAQjD,EAAKkD,GAClE,MAAOtD,GAAEuD,QAAQF,EAAQjD,EAAKgD,EAAW,EAAGE,KAC1C,SAASD,EAAQjD,EAAKkD,GAExB,MADAD,GAAOjD,GAAOkD,EACPD,KAGT7C,MAAO,GACPgD,kBAAmB,GACnBC,oBAAqB,KAEvBC,IAAK,SAAS3G,EAASzB,EAAQD,GAE7B,GAAIsI,GAAM5G,EAAQ,UAClBzB,GAAOD,QAAUsE,OAAO,KAAKiE,qBAAqB,GAAKjE,OAAS,SAAS/B,GACvE,MAAkB,UAAX+F,EAAI/F,GAAkBA,EAAGiG,MAAM,IAAMlE,OAAO/B,MAGrDkG,UAAW,IAEbC,IAAK,SAAShH,EAASzB,EAAQD,GAE7B,GAAIsI,GAAM5G,EAAQ,UAClBzB,GAAOD,QAAU2I,MAAMC,SAAW,SAASC,GACzC,MAAmB,SAAZP,EAAIO,MAGbJ,UAAW,IAEbK,IAAK,SAASpH,EAASzB,EAAQD,GAC7BC,EAAOD,QAAU,SAASuC,GACxB,MAAqB,gBAAPA,GAAyB,OAAPA,EAA4B,kBAAPA,SAGzDwG,IAAK,SAASrH,EAASzB,EAAQD,GAC7B,GAAIgJ,GAAU1E,MACdrE,GAAOD,SACLiJ,OAAQD,EAAQC,OAChBC,SAAUF,EAAQG,eAClBlE,UAAWsD,qBACXa,QAASJ,EAAQK,yBACjBnB,QAASc,EAAQzE,eACjB+E,SAAUN,EAAQO,iBAClB1E,QAASmE,EAAQpE,KACjBwC,SAAU4B,EAAQ1B,oBAClBxC,WAAYkE,EAAQQ,sBACpBC,QAASC,cAGbC,IAAK,SAASjI,EAASzB,EAAQD,GAC7B,GAAI2E,GAAIjD,EAAQ,OACdyF,EAAYzF,EAAQ,iBACtBzB,GAAOD,QAAU,SAASgI,EAAQ4B,GAMhC,IALA,GAIE7E,GAJE8E,EAAI1C,EAAUa,GAChBpD,EAAOD,EAAEE,QAAQgF,GACjBrI,EAASoD,EAAKpD,OACdsI,EAAQ,EAEHtI,EAASsI,GACd,GAAID,EAAE9E,EAAMH,EAAKkF,QAAcF,EAAI,MAAO7E,MAG9CI,MAAO,GACPqC,iBAAkB,KAEpBuC,IAAK,SAASrI,EAASzB,EAAQD,GAC7BC,EAAOD,SAAU,OAEnBgK,IAAK,SAAStI,EAASzB,EAAQD,GAC7BC,EAAOD,QAAU,SAASiK,EAAQhC,GAChC,OACEiC,aAAuB,EAATD,GACdE,eAAyB,EAATF,GAChBG,WAAqB,EAATH,GACZhC,MAAOA,SAIboC,IAAK,SAAS3I,EAASzB,EAAQD,GAC7BC,EAAOD,QAAU0B,EAAQ,cAEzB4I,WAAY,KAEdC,IAAK,SAAS7I,EAASzB,EAAQD,GAC7B,GAAIwK,GAAM9I,EAAQ,OAAOwG,QACvBuC,EAAM/I,EAAQ,WACdgJ,EAAMhJ,EAAQ,WAAW,cAE3BzB,GAAOD,QAAU,SAASuC,EAAIoI,EAAKC,GAC7BrI,IAAOkI,EAAIlI,EAAKqI,EAAOrI,EAAKA,EAAGsI,UAAWH,IAAMF,EAAIjI,EAAImI,GAC1DP,cAAc,EACdlC,MAAO0C,OAIXxF,MAAO,GACP2F,UAAW,GACXC,UAAW,KAEbC,IAAK,SAAStJ,EAASzB,EAAQD,GAC7B,GAAIM,GAASoB,EAAQ,cACnBuJ,EAAS,qBACTC,EAAQ5K,EAAO2K,KAAY3K,EAAO2K,MACpChL,GAAOD,QAAU,SAAS+E,GACxB,MAAOmG,GAAMnG,KAASmG,EAAMnG,UAG9BgC,aAAc,KAEhBoE,IAAK,SAASzJ,EAASzB,EAAQD,GAE7B,GAAIoL,GAAU1J,EAAQ,eACpB2J,EAAU3J,EAAQ,cACpBzB,GAAOD,QAAU,SAASuC,GACxB,MAAO6I,GAAQC,EAAQ9I,OAGzB+I,cAAe,GACfC,cAAe,KAEjBC,IAAK,SAAS9J,EAASzB,EAAQD,GAC7B,GAAIyL,GAAK,EACPC,EAAKhE,KAAKiE,QACZ1L,GAAOD,QAAU,SAAS+E,GACxB,MAAO,UAAU6G,OAAe5H,SAARe,EAAoB,GAAKA,EAAK,QAAS0G,EAAKC,GAAInI,SAAS,WAGrFsI,IAAK,SAASnK,EAASzB,EAAQD,GAC7B,GAAIkL,GAAQxJ,EAAQ,cAAc,OAChCoK,EAAMpK,EAAQ,WACdoB,EAASpB,EAAQ,cAAcoB,MACjC7C,GAAOD,QAAU,SAASyF,GACxB,MAAOyF,GAAMzF,KAAUyF,EAAMzF,GAC3B3C,GAAUA,EAAO2C,KAAU3C,GAAUgJ,GAAK,UAAYrG,OAG1DsB,aAAc,GACdgF,aAAc,GACdC,UAAW,KAEbC,IAAK,SAASvK,EAASzB,EAAQD,SAG/BkM,IAAK,SAASxK,EAASzB,EAAQD,GAG7B,GAAI2E,GAAIjD,EAAQ,OACdpB,EAASoB,EAAQ,cACjB+I,EAAM/I,EAAQ,WACdyK,EAAczK,EAAQ,mBACtB6D,EAAU7D,EAAQ,cAClB0K,EAAW1K,EAAQ,gBACnB2K,EAAS3K,EAAQ,aACjB4K,EAAS5K,EAAQ,cACjB6K,EAAiB7K,EAAQ,yBACzBoK,EAAMpK,EAAQ,WACd8K,EAAM9K,EAAQ,WACd+K,EAAQ/K,EAAQ,aAChBgL,EAAShL,EAAQ,iBACjBiL,EAAWjL,EAAQ,iBACnBkH,EAAUlH,EAAQ,gBAClBkL,EAAWlL,EAAQ,iBACnByF,EAAYzF,EAAQ,kBACpBqG,EAAarG,EAAQ,qBACrB0H,EAAUzE,EAAEyE,QACZlB,EAAUvD,EAAEuD,QACZ2E,EAAUlI,EAAEsE,OACZ7B,EAAWsF,EAAOlI,IAClBsI,EAAUxM,EAAOwC,OACjBiK,EAAQzM,EAAOkC,KACfwK,EAAaD,GAASA,EAAMtK,UAC5BwK,GAAS,EACTC,EAASV,EAAI,WACbvH,EAASN,EAAEM,OACXkI,EAAiBb,EAAO,mBACxBc,EAAad,EAAO,WACpBe,EAA8B,kBAAXP,GACnBQ,EAAchJ,OAAOuG,UAGnB0C,EAAgBpB,GAAeE,EAAO,WACxC,MAMS,IANFQ,EAAQ3E,KAAY,KACzB1D,IAAK,WACH,MAAO0D,GAAQ1H,KAAM,KACnByH,MAAO,IACNhH,MAEHA,IACD,SAASsB,EAAIwC,EAAKyI,GACrB,GAAIC,GAAYrE,EAAQkE,EAAavI,EACjC0I,UAAkBH,GAAYvI,GAClCmD,EAAQ3F,EAAIwC,EAAKyI,GACbC,GAAalL,IAAO+K,GAAapF,EAAQoF,EAAavI,EAAK0I,IAC7DvF,EAEAwF,EAAO,SAAS/C,GAClB,GAAIgD,GAAMP,EAAWzC,GAAOkC,EAAQC,EAAQjC,UAS5C,OARA8C,GAAIC,GAAKjD,EACTwB,GAAec,GAAUM,EAAcD,EAAa3C,GAClDR,cAAc,EACd0D,IAAK,SAAS5F,GACRwC,EAAIjK,KAAM0M,IAAWzC,EAAIjK,KAAK0M,GAASvC,KAAMnK,KAAK0M,GAAQvC,IAAO,GACrE4C,EAAc/M,KAAMmK,EAAK5C,EAAW,EAAGE,OAGpC0F,GAGLG,EAAW,SAASvL,GACtB,MAAoB,gBAANA,IAGZwL,EAAkB,SAAwBxL,EAAIwC,EAAKyI,GACrD,MAAIA,IAAK/C,EAAI2C,EAAYrI,IAClByI,EAAEtD,YAIDO,EAAIlI,EAAI2K,IAAW3K,EAAG2K,GAAQnI,KAAMxC,EAAG2K,GAAQnI,IAAO,GAC1DyI,EAAIX,EAAQW,GACVtD,WAAYnC,EAAW,GAAG,OALvB0C,EAAIlI,EAAI2K,IAAShF,EAAQ3F,EAAI2K,EAAQnF,EAAW,OACrDxF,EAAG2K,GAAQnI,IAAO,GAObwI,EAAchL,EAAIwC,EAAKyI,IAEzBtF,EAAQ3F,EAAIwC,EAAKyI,IAEtBQ,EAAoB,SAA0BzL,EAAI6D,GACpDwG,EAASrK,EAKT,KAJA,GAGEwC,GAHEH,EAAO+H,EAASvG,EAAIe,EAAUf,IAChCjF,EAAI,EACJG,EAAIsD,EAAKpD,OAEJF,EAAIH,GAAG4M,EAAgBxL,EAAIwC,EAAMH,EAAKzD,KAAMiF,EAAErB,GACrD,OAAOxC,IAEL0L,EAAU,SAAgB1L,EAAI6D,GAChC,MAAapC,UAANoC,EAAkByG,EAAQtK,GAAMyL,EAAkBnB,EAAQtK,GAAK6D,IAEpE8H,EAAwB,SAA8BnJ,GACxD,GAAIoJ,GAAIlJ,EAAO1D,KAAKf,KAAMuE,EAC1B,OAAOoJ,KAAM1D,EAAIjK,KAAMuE,KAAS0F,EAAI2C,EAAYrI,IAAQ0F,EAAIjK,KAAM0M,IAAW1M,KAAK0M,GAAQnI,GAAOoJ,GAAI,GAEnGC,EAA4B,SAAkC7L,EAAIwC,GACpE,GAAIyI,GAAIpE,EAAQ7G,EAAK4E,EAAU5E,GAAKwC,EAEpC,QADIyI,IAAK/C,EAAI2C,EAAYrI,IAAU0F,EAAIlI,EAAI2K,IAAW3K,EAAG2K,GAAQnI,KAAOyI,EAAEtD,YAAa,GAChFsD,GAELa,EAAuB,SAA6B9L,GAKtD,IAJA,GAGEwC,GAHEuJ,EAAQlH,EAASD,EAAU5E,IAC7BgM,KACApN,EAAI,EAECmN,EAAM9M,OAASL,GACfsJ,EAAI2C,EAAYrI,EAAMuJ,EAAMnN,OAAS4D,GAAOmI,GAAQqB,EAAOrJ,KAAKH,EACvE,OAAOwJ,IAELC,EAAyB,SAA+BjM,GAK1D,IAJA,GAGEwC,GAHEuJ,EAAQlH,EAASD,EAAU5E,IAC7BgM,KACApN,EAAI,EAECmN,EAAM9M,OAASL,GAChBsJ,EAAI2C,EAAYrI,EAAMuJ,EAAMnN,OAAOoN,EAAOrJ,KAAKkI,EAAWrI,GAChE,OAAOwJ,IAELE,EAAa,SAAmBlM,GAClC,GAAWyB,SAAPzB,IAAoBuL,EAASvL,GAAjC,CAKA,IAJA,GAGEmM,GAAUC,EAHRC,GAAQrM,GACVpB,EAAI,EACJ0N,EAAKlM,UAEAkM,EAAGrN,OAASL,GAAGyN,EAAK1J,KAAK2J,EAAG1N,KAQnC,OAPAuN,GAAWE,EAAK,GACO,kBAAZF,KAAwBC,EAAYD,IAC3CC,GAAc/F,EAAQ8F,KAAWA,EAAW,SAAS3J,EAAKkD,GAE5D,MADI0G,KAAW1G,EAAQ0G,EAAUpN,KAAKf,KAAMuE,EAAKkD,IAC5C6F,EAAS7F,GAAd,OAA6BA,IAE/B2G,EAAK,GAAKF,EACH1B,EAAWtK,MAAMqK,EAAO6B,KAE7BE,EAAYzC,EAAO,WACrB,GAAInG,GAAI4G,GAIR,OAA0B,UAAnBE,GAAY9G,KAEb,MAFgC8G,GACpC/L,EAAGiF,KACkC,MAAzB8G,EAAW1I,OAAO4B,KAI7BmH,KACHP,EAAU,WACR,GAAIgB,EAAStN,MAAO,KAAM0C,WAAU,8BACpC,OAAOwK,GAAK5B,EAAInJ,UAAUnB,OAAS,EAAImB,UAAU,GAAKqB,UAExDoI,EAASU,EAAQjC,UAAW,WAAY,WACtC,MAAOrK,MAAKoN,KAGdE,EAAW,SAASvL,GAClB,MAAOA,aAAcuK,IAGvBnI,EAAEsE,OAASgF,EACXtJ,EAAEM,OAASiJ,EACXvJ,EAAEyE,QAAUgF,EACZzJ,EAAEuD,QAAU6F,EACZpJ,EAAE2E,SAAW0E,EACbrJ,EAAEyC,SAAWsF,EAAOlI,IAAM6J,EAC1B1J,EAAEG,WAAa0J,EAEXrC,IAAgBzK,EAAQ,gBAC1B0K,EAASkB,EAAa,uBAAwBY,GAAuB,GAIzE,IAAIa,IAEFC,MAAO,SAASjK,GACd,MAAO0F,GAAI0C,EAAgBpI,GAAO,IAAMoI,EAAepI,GAAOoI,EAAepI,GAAO+H,EAAQ/H,IAG9FkK,OAAQ,SAAgBlK,GACtB,MAAO0H,GAAMU,EAAgBpI,IAE/BmK,UAAW,WACTjC,GAAS,GAEXkC,UAAW,WACTlC,GAAS,GAcbtI,GAAE8E,KAAKlI,KAAK,iHAGViH,MAAM,KAAM,SAASjG,GACrB,GAAIoL,GAAMnB,EAAIjK,EACdwM,GAAcxM,GAAM8K,EAAYM,EAAMD,EAAKC,KAG7CV,GAAS,EAET1H,EAAQA,EAAQS,EAAIT,EAAQiB,GAC1B1D,OAAQgK,IAGVvH,EAAQA,EAAQW,EAAG,SAAU6I,GAE7BxJ,EAAQA,EAAQW,EAAIX,EAAQO,GAAKuH,EAAW,UAE1CpE,OAAQgF,EAER1J,eAAgBwJ,EAEhBxE,iBAAkByE,EAElB3E,yBAA0B+E,EAE1B9G,oBAAqB+G,EAErB7E,sBAAuBgF,IAIzBzB,GAASxH,EAAQA,EAAQW,EAAIX,EAAQO,IAAMuH,GAAayB,GAAY,QAClErM,UAAWgM,IAIblC,EAAeO,EAAS,UAExBP,EAAe7E,KAAM,QAAQ,GAE7B6E,EAAejM,EAAOkC,KAAM,QAAQ,KAEpC2C,MAAO,GACPiK,gBAAiB,EACjBjH,kBAAmB,GACnBkH,gBAAiB,GACjBC,aAAc,GACd7K,YAAa,GACb8K,gBAAiB,GACjBxI,aAAc,GACd+D,UAAW,GACX0E,eAAgB,GAChBC,YAAa,GACbC,cAAe,GACftH,oBAAqB,GACrBuH,eAAgB,GAChBC,wBAAyB,GACzB7D,aAAc,GACdvE,iBAAkB,GAClBwE,UAAW,GACXjB,UAAW,KAEb8E,IAAK,SAASnO,EAASzB,EAAQD,GAgF7B,QAAS8P,GAAaC,EAAWC,EAAcC,EAAYC,GACzD,GAAIC,GAAW,EACXC,EAAM,EACNC,GAAwB,QAAjBL,EAAyBC,EAAaD,GAAcxO,MAe/D,OAdI6O,GAAM,IACJH,GAAcG,EAAM,GACtBC,EAAoBP,EAAWC,EAAcC,EAAY,SAASM,GAChEH,GAAOG,IAETH,GAAOC,EACPC,EAAoBP,EAAWC,EAAcC,EAAY,SAASM,GAChEJ,IAAaI,EAAMH,IAAQG,EAAMH,KAEnCD,GAAuBD,EAAaG,EAAMA,EAAM,GAEhDF,EAAWK,KAGRL,EAGT,QAASG,GAAoBP,EAAWC,EAAcC,EAAYQ,GAChE,GAAIC,GAAuB,QAAjBV,CAEV,IADAA,EAAeU,EAAMT,EAAaD,EAC9BA,EAAaxO,OAAS,EACxB,IAAK,GAAIL,GAAI,EAAGA,EAAI6O,EAAaxO,OAAQL,IACvCsP,GAAUC,EAAMV,EAAa7O,GAAK8O,EAAWD,EAAa7O,KAAK4O,IAxGrE,GAAIY,GAAe1Q,EAAOD,SACxB4Q,gBAAiB,SAAyBC,GACxC,MAAIA,GACkB,gBAATA,IAAqBF,EAAaE,GACpCF,EAAaE,GACK,kBAATA,GACTA,EAEAF,EAAaG,IAGfH,EAAaG,KAGxBC,MAAO,SAAehB,EAAWC,EAAcC,GAC7C,MAAwB,QAAjBD,EAAyBC,EAAWzO,OAASwO,EAAaxO,QAEnEsP,IAAK,QAASA,GAAIf,EAAWC,EAAcC,GACzC,GAAIa,GAAM,CAIV,OAHAR,GAAoBP,EAAWC,EAAcC,EAAY,SAASM,GAChEO,GAAOP,IAEFO,GAETE,IAAK,QAASA,GAAIjB,EAAWC,EAAcC,GACzC,GAAIe,GAAM,IAMV,OALAV,GAAoBP,EAAWC,EAAcC,EAAY,SAASM,IACrD,MAAPS,GAAqBA,EAANT,KACjBS,EAAMT,KAGHS,GAETC,IAAK,QAASA,GAAIlB,EAAWC,EAAcC,GACzC,GAAIgB,GAAM,IAMV,OALAX,GAAoBP,EAAWC,EAAcC,EAAY,SAASM,IACrD,MAAPU,GAAeV,EAAMU,KACvBA,EAAMV,KAGHU,GAETb,IAAK,QAASA,GAAIL,EAAWC,EAAcC,GACzC,GAAIG,GAAM,EACNC,GAAwB,QAAjBL,EAAyBC,EAAaD,GAAcxO,MAO/D,OANI6O,GAAM,IACRC,EAAoBP,EAAWC,EAAcC,EAAY,SAASM,GAChEH,GAAOG,IAETH,GAAOC,GAEFD,GAETc,KAAM,QAASA,GAAKnB,EAAWC,EAAcC,GAC3C,GAAIiB,GACAb,GAAwB,QAAjBL,EAAyBC,EAAaD,GAAcxO,MAO/D,OANI6O,GAAM,IACRa,EAAO,EACPZ,EAAoBP,EAAWC,EAAcC,EAAY,SAASM,GAChEW,GAAQX,KAGLW,GAETC,MAAO,SAAepB,EAAWC,EAAcC,GAC7C,MAAOvI,MAAK0J,KAAKtB,EAAaC,EAAWC,EAAcC,GAAY,KAErEoB,OAAQ,SAAgBtB,EAAWC,EAAcC,GAC/C,MAAOvI,MAAK0J,KAAKtB,EAAaC,EAAWC,EAAcC,GAAY,KAErEqB,MAAO,SAAcvB,EAAWC,EAAcC,GAC5C,MAAOH,GAAaC,EAAWC,EAAcC,GAAY,IAE3DsB,KAAM,SAAcxB,EAAWC,EAAcC,GAC3C,MAAOH,GAAaC,EAAWC,EAAcC,GAAY,UAoC/DuB,IAAK,SAAS9P,EAASzB,EAAQD,GAE7B,GAAIyR,GAAQ/P,EAAQ,eAChBgQ,EAAYhQ,EAAQ,mBAEpBiQ,GACFC,QAAS,EACTC,KAAM,EACNC,KAAM,EAGR7R,GAAOD,QAAU,SAAS+R,EAAOvM,GAsG/B,QAASwM,GAAcC,GACrB,IAAK,GAAI9Q,GAAI,EAAGA,EAAIZ,EAAK2R,OAAO1Q,OAAQL,IACtC,GAAIZ,EAAK2R,OAAO/Q,GAAGsE,OAASwM,EAAMxM,KAChC,MAAOtE,EAGX,OAAO,GAIT,QAASgR,KAEP,GAAqC,MAAjC5R,EAAKwR,MAAMK,oBAA8B7R,EAAK8R,gBAAkB,EAAG,CAErE,GAAIpC,GAAa1P,EAAKwR,MAAMK,kBAC5B,IAAkB,MAAdnC,GAAsBwB,EAAM7I,QAAQqH,IAAeA,EAAWzO,OAAS,EACzE,IAAK,GAAI8Q,GAAW,EAAGC,EAAatC,EAAWzO,OAAmB+Q,EAAXD,EAAuBA,IAG5E,IAAK,GAFDE,GAAMvC,EAAWqC,GACjBG,EAAMlS,EAAKmS,KACNC,EAAS,EAAGA,EAASpS,EAAK8R,gBAAiBM,IAAU,CAC5D,GAAIC,GAAQrS,EAAK8R,gBAAkBM,EAC/BE,EAAWtS,EAAK2R,OAAOS,GACvBG,EAAWN,EAAIK,EAASpN,MACxBsN,EAAaN,EAAIM,UAEQ/O,UAAzB+O,EAAWD,GACbL,EAAMM,EAAWD,IAEjBL,EAAIO,OAAO9N,KAAK4N,GAChBL,EAAM,GAAIf,KAAYuB,EAAOR,EAAKK,EAAUD,EAAUD,GAAO,EAAOD,GAAUpS,EAAK8R,gBAAkB,GACrGU,EAAWD,GAAYL,EACvBA,EAAIS,cACJ3S,EAAK4S,kBAAkBP,GAAO1N,KAAKuN,IAGrCA,EAAIS,WAAWhO,KAAKoN,KAvI9B,GAAI/R,GAAOC,KACPyS,EAAQ,CAEC,OAATlB,GAAiC,MAAhBA,EAAMqB,SAGzB5S,KAAKuR,MAAQA,EAGbvR,KAAKgF,KAAOA,EAGZhF,KAAK0R,OAAS,WACZ,OAAQ1M,GACN,IAAKmM,GAAQC,QACX,MAAOrR,GAAKwR,MAAMqB,OAAOC,YAC3B,KAAK1B,GAAQE,KACX,MAAOtR,GAAKwR,MAAMqB,OAAOE,SAC3B,KAAK3B,GAAQG,KACX,MAAOvR,GAAKwR,MAAMqB,OAAOG,UAC3B,SACE,aAKN/S,KAAK6R,gBAAkB,KAGvB7R,KAAKkS,KAAO,KAGZlS,KAAK2S,kBAAoB,KAEzB3S,KAAKgT,OAAS,WACZjT,EAAK8R,gBAAkB9R,EAAK2R,OAAO1Q,OACnCjB,EAAKmS,KAAO,GAAIhB,KAAYuB,EAAO,KAAM,KAAM,KAAM1S,EAAK8R,gBAAkB,GAAG,GAE/E9R,EAAK4S,oBACL,KAAK,GAAIP,GAAQ,EAAGA,GAASrS,EAAK8R,gBAAiBO,IACjDrS,EAAK4S,kBAAkBP,KAIzBT,IAGA,KAAK,GAAIQ,GAAS,EAAGA,EAASpS,EAAK2R,OAAO1Q,OAAQmR,IAAU,CAC1D,GAAIc,GAASlT,EAAK2R,OAAOS,EACC,SAAtBc,EAAOC,KAAKC,OAAyC,SAAtBF,EAAOC,KAAKC,OAC7CpT,EAAKmT,KAAKD,GAAQ,KAKxBjT,KAAKkT,KAAO,SAASzB,EAAO2B,GAC1B,GAAa,MAAT3B,EAAe,CACb2B,KAAgB,IACO,QAArB3B,EAAMyB,KAAKC,MACb1B,EAAMyB,KAAKC,MAAQ,MAEnB1B,EAAMyB,KAAKC,MAAQ,OAMvB,KAAK,GAFDf,GAAQrS,EAAK8R,gBAAkBL,EAAcC,GAC7C4B,EAAUjB,IAAUrS,EAAK8R,iBAAmB9R,EAAKmS,MAAQnS,EAAK4S,kBAAkBP,EAAQ,GACnFzR,EAAI,EAAGA,EAAI0S,EAAQrS,OAAQL,IACL,MAAzB8Q,EAAMyB,KAAKI,WACbD,EAAQ1S,GAAG6R,OAAOU,KAAKzB,EAAMyB,KAAKI,YAElCD,EAAQ1S,GAAG6R,OAAOU,OAEK,SAArBzB,EAAMyB,KAAKC,OACbE,EAAQ1S,GAAG6R,OAAOe,YAM1BvT,KAAKwT,cAAgB,WACnB,MAAOzT,GAAK4S,kBAAkB,GAAGc,IAAI,SAASxB,GAG5C,IAFA,GAAIhN,GAAO,GACPyO,EAAUzB,GACNyB,EAAQC,QACd1O,EAAOyO,EAAQjM,OAAkB,KAATxC,EAAc,IAAMA,EAAO,IACnDyO,EAAUA,EAAQE,MAEpB,QACE3O,KAAMA,EACNgN,IAAKA,KAENiB,KAAK,SAASzS,EAAGgD,GAClB,MAAIhD,GAAEwE,KAAOxB,EAAEwB,KAAa,GACxBxE,EAAEwE,KAAOxB,EAAEwB,KAAa,EACrB,OAgDfxF,EAAOD,QAAQqU,KAAO1C,IAGtB2C,kBAAmB,GACnBC,cAAe,KAEjBC,IAAK,SAAS9S,EAASzB,EAAQD,GAQ7B,QAASyU,GAAiBC,EAAUC,EAASC,GAC3C,IAAK,GAAIzT,GAAI,EAAGA,EAAIwT,EAAQnT,OAAQL,IAClC,GAA4B,MAAxBwT,EAAQxT,GAAGuT,GACb,MAAOC,GAAQxT,GAAGuT,EAGtB,OAAOE,GAGT,QAASC,KASP,IAAK,GAPDC,IACFH,WACAI,SACAC,aACAC,cAGO9T,EAAI,EAAGA,EAAIwB,UAAUnB,OAAQL,IAAK,CACzC,GAAI+T,GAAWvS,UAAUxB,MACzB2T,GAAOH,QAAQzP,KAAKgQ,GACpBJ,EAAOC,MAAM7P,KAAKgQ,EAASxB,UAC3BoB,EAAOE,UAAU9P,KAAKgQ,EAASC,cAC/BL,EAAOG,UAAU/P,MACfkQ,kBAAmBF,EAASE,kBAC5BC,cAAqB,IAANlU,EAAU+T,EAASG,cAAgBH,EAASG,cAAgBH,EAASG,gBAAkB,KACtGC,WAAkB,IAANnU,EAAU+T,EAASI,WAAaJ,EAASI,WAAaJ,EAASI,aAAe,OAI9F,MAAOR,GAGT,QAASS,GAAYC,EAAYC,EAASC,EAAaC,GA+BrD,QAASC,GAAkBrF,GACzB,MAAc,OAAPA,EAAcA,EAAIhN,WAAa,GA9BxC,GAAIsS,GACAC,CAEJ,IAAIH,EACF,OAAQF,GACN,IAAKM,GAAI1B,KAAKxC,KACZgE,EAAYL,EAAWQ,YACvBF,EAAiBH,EAAmBK,WACpC,MACF,KAAKD,GAAI1B,KAAKzC,QACZiE,EAAYL,EAAWS,eACvBH,EAAiBH,EAAmBM,cACpC,MACF,KAAKF,GAAI1B,KAAKvC,KACZ+D,EAAYL,EAAWU,aACvBJ,EAAiBH,EAAmBO,YACpC,MACF,SACEL,EAAY,KACZC,EAAiB,SAIrBD,GAAY,KACZC,EAAiB,IAGnB,IAAIhB,GAASD,EAAkBa,EAAaI,EAAgBD,EAAWF,EAAoBH,EAM3F,OAAO,IAAIW,IACT1Q,KAAMgP,EAAiB,OAAQK,EAAOH,QAAS,IAE/CyB,QAAS3B,EAAiB,UAAWK,EAAOH,QAAS,IAErDjB,MACEC,MAAOc,EAAiB,QAASK,EAAOC,MAAO,MAC/CjB,WAAYW,EAAiB,aAAcK,EAAOC,MAAO,OAE3DI,UACEkB,QAAS5B,EAAiB,UAAWK,EAAOE,WAAW,GACvDsB,YAAa7B,EAAiB,cAAeK,EAAOE,WAAW,GAC/DuB,UAAW9B,EAAiB,YAAaK,EAAOE,WAAW,IAAUP,EAAiB,cAAeK,EAAOE,WAAW,IAGzHI,kBAAmBX,EAAiB,oBAAqBK,EAAOG,UAAW,OAC3EI,cAAeZ,EAAiB,gBAAiBK,EAAOG,UAAWuB,EAAY1F,KAC/EwE,WAAYb,EAAiB,aAAcK,EAAOG,UAAWW,KAC5D,GAGL,QAASa,GAAiBC,GAExBA,EAAUA,MAEVlW,KAAKmW,YAAsC3S,SAAxB0S,EAAQC,YAA4BD,EAAQC,aAAc,EAC7EnW,KAAKoW,eAA4C5S,SAA3B0S,EAAQE,eAA+BF,EAAQE,gBAAiB,EAGxF,QAASC,GAAeH,EAASI,GAE/B,GAAIC,IACFV,QAASS,KAAgB,GAAO,EAAO9S,OACvCsS,YAAaQ,KAAgB,GAAO,EAAO9S,OAC3CuS,UAAWO,KAAgB,GAAO,EAAQ9S,OAE5C0S,GAAUA,MAEVlW,KAAK6V,QAA8BrS,SAApB0S,EAAQL,QAAwBK,EAAQL,QAAUU,EAASV,QAC1E7V,KAAK8V,YAAsCtS,SAAxB0S,EAAQJ,YAA4BI,EAAQJ,YAAcS,EAAST,YACtF9V,KAAK+V,UAAkCvS,SAAtB0S,EAAQH,UAA0BG,EAAQH,UAAYQ,EAASR,UAGlF,QAASS,GAAWN,GAClBA,EAAUA,MAEVlW,KAAKmT,MAAQ+C,EAAQ/C,QAAU+C,EAAQ5C,WAAa,MAAQ,MAC5DtT,KAAKsT,WAAa4C,EAAQ5C,WAG5B,QAASmD,GAAYP,GACnBA,EAAUA,MAEVlW,KAAK0W,QAAUR,EAAQQ,UAAW,EAElC1W,KAAKgF,KAAOkR,EAAQlR,MAAQ,YAjI9B,GAAIiM,GAAQ/P,EAAQ,eAChBqU,EAAMrU,EAAQ,aACd8U,EAAc9U,EAAQ,qBACtByV,EAAYzV,EAAQ,mBACpB0V,EAAe1V,EAAQ,gBAgIvByU,EAAQlW,EAAOD,QAAQiS,MAAQ,SAASyE,EAASW,GAEnDX,EAAUA,MAGVlW,KAAKiF,KAAOiR,EAAQjR,KAGpBjF,KAAK4V,QAAUM,EAAQN,SAAW5V,KAAKiF,KAGvCjF,KAAKkT,KAAO,GAAIsD,GAAWN,EAAQhD,MACnClT,KAAK2U,SAAW,GAAI0B,GAAeH,EAAQvB,SAG3C,IAAImC,GACAC,CAEJ/W,MAAK6U,cAAgB,SAASxE,GAC5B,MAAIA,QACFyG,EAAiBd,EAAY5F,gBAAgBC,IAEtCyG,GAIX9W,KAAK8U,WAAa,SAASzE,GACzB,MAAIA,QACF0G,EAAc1G,GAEP0G,GAIX/W,KAAK4U,kBAAoBsB,EAAQtB,oBAAsBsB,EAAQrB,cAAgB5D,EAAM+F,SAASd,EAAQrB,eAAiBqB,EAAQrB,cAAgB,SAAW,MAE1J7U,KAAK6U,cAAcqB,EAAQrB,eAC3B7U,KAAK8U,WAAWoB,EAAQpB,YAEpB+B,KAAqB,KACtB7W,KAAKwV,YAAc,GAAIG,GAAMO,EAAQV,aAAa,IAAQvQ,KAAOjF,KAAKiF,MACtEjF,KAAKyV,eAAiB,GAAIE,GAAMO,EAAQT,gBAAgB,IAAQxQ,KAAOjF,KAAKiF,MAC5EjF,KAAK0V,aAAe,GAAIC,GAAMO,EAAQR,cAAc,IAAQzQ,KAAOjF,KAAKiF,MAI7ExF,GAAOD,QAAQoT,OAAS,SAASA,GAgD/B,QAASqE,GAAkBvV,GACzB,MAAmB,gBAARA,IAEPuD,KAAMlF,EAAKmX,cAAcxV,IAGtBA,EA2BT,QAASyV,GAASC,EAAWC,GAC3B,GAAIC,GAAa9F,EAAc4F,EAAWC,EAC1C,OAAIC,GAAa,GACRF,EAAUE,GAEZ,KAGT,QAAS9F,GAAc4F,EAAWC,GAChC,IAAK,GAAIE,GAAK,EAAGA,EAAKH,EAAUpW,OAAQuW,IACtC,GAAIH,EAAUG,GAAItS,OAASoS,EACzB,MAAOE,EAGX,OAAO,GA7FT,GAAIxX,GAAOC,IAEXA,MAAKwX,WAAa5E,EAAO4E,eACzBxX,KAAKyX,cAAyCjU,SAAzBoP,EAAO6E,gBAAgC7E,EAAO6E,eAAgB,EACnFzX,KAAK0X,oBAAqD,YAA/B9E,EAAO8E,oBAAoC,UAAY,OAClF1X,KAAK2X,WAAa,GAAI1B,GAAiBrD,EAAO+E,YAC9C3X,KAAK2U,SAAW,GAAI0B,GAAezD,EAAO+B,UAAU,GACpD3U,KAAK4X,MAAQhF,EAAOgF,MACpB5X,KAAK6X,OAASjF,EAAOiF,OACrB7X,KAAK8X,QAAUlF,EAAOkF,QACtB9X,KAAK+X,MAAQnB,EACb5W,KAAKgY,UAAY,GAAIvB,GAAY7D,EAAOoF,WAExCpB,EAAaqB,QAAQrF,EAAOmF,OAE5B/X,KAAKwV,YAAc,GAAIG,GAAM/C,EAAO4C,aAAa,GACjDxV,KAAKyV,eAAiB,GAAIE,GAAM/C,EAAO6C,gBAAgB,GACvDzV,KAAK0V,aAAe,GAAIC,GAAM/C,EAAO8C,cAAc,GAGnD1V,KAAKkY,wBAELlY,KAAKmY,2BAELnY,KAAKkX,cAAgB,SAAStB,GAC5B,GAAIwC,GAAgBrY,EAAKoY,wBAAwBE,QAAQzC,EACzD,OAAOwC,IAAiB,EAAIrY,EAAKmY,qBAAqBE,GAAiBxC,GAGzE5V,KAAKsY,cAAgB,SAASrT,GAC5B,GAAIsT,GAAaxY,EAAKmY,qBAAqBG,QAAQpT,EACnD,OAAOsT,IAAc,EAAIxY,EAAKoY,wBAAwBI,GAActT,GAGtEjF,KAAKwY,SAAW,SAASC,GACvB,MAAO1Y,GAAKgY,MAAME,YAAclY,EAAKgY,MAAME,QAAQQ,IAGrDzY,KAAK0Y,WAAa9F,EAAOlB,YAAc+B,IAAI,SAASyB,GAClD,GAAI3V,GAAI,GAAIoW,GAAMT,EAIlB,OAFAnV,GAAKmY,qBAAqBxT,KAAKnF,EAAE0F,MACjClF,EAAKoY,wBAAwBzT,KAAKnF,EAAEqW,SAC7BrW,IAYTS,KAAK8S,WAAaF,EAAO+F,UAAYlF,IAAI,SAASyB,GAEhD,MADAA,GAAc+B,EAAkB/B,GACzBH,EAAYhV,EAAMwV,EAAI1B,KAAKxC,KAAM6D,EAAaiC,EAASpX,EAAK2Y,UAAWxD,EAAYjQ,SAG5FjF,KAAK6S,cAAgBD,EAAOgG,aAAenF,IAAI,SAASyB,GAEtD,MADAA,GAAc+B,EAAkB/B,GACzBH,EAAYhV,EAAMwV,EAAI1B,KAAKzC,QAAS8D,EAAaiC,EAASpX,EAAK2Y,UAAWxD,EAAYjQ,SAG/FjF,KAAK+S,YAAcH,EAAOiG,UAAYpF,IAAI,SAASyB,GAEjD,MADAA,GAAc+B,EAAkB/B,GACzBH,EAAYhV,EAAMwV,EAAI1B,KAAKvC,KAAM4D,EAAaiC,EAASpX,EAAK2Y,UAAWxD,EAAYjQ,SAG5FjF,KAAK8Y,gBAAkB9Y,KAAK+S,WAAa/S,KAAK+S,WAAW/R,QAAU,EAAI,CAEvE,IAAI+X,IACFvE,WACEmE,KAA4CnV,SAAtCzD,EAAKyV,YAAYb,SAASkB,QAAwB9V,EAAKyV,YAAYb,SAASkB,SAAU,EAC5F+C,QAAkDpV,SAAzCzD,EAAK0V,eAAed,SAASkB,QAAwB9V,EAAK0V,eAAed,SAASkB,SAAU,GAqBzG7V,MAAKgZ,SAAW,SAAS3B,GACvB,MAAOF,GAASpX,EAAK2Y,UAAWrB,IAGlCrX,KAAKiZ,YAAc,SAAS5B,GAC1B,MAAOF,GAASpX,EAAK+S,UAAWuE,IAGlCrX,KAAKkZ,eAAiB,SAAS7B,GAC7B,MAAOF,GAASpX,EAAK8S,aAAcwE,IAGrCrX,KAAKmZ,aAAe,SAAS9B,GAC3B,MAAOF,GAASpX,EAAKgT,WAAYsE,IAGnCrX,KAAKoZ,gBAAkB,WACrB,MAAOrZ,GAAK2Y,UAAUW,OAAO,SAAS5H,GACpC,GAAI6H,GAAgB,SAAuBC,GACzC,MAAO9H,GAAMxM,OAASsU,EAAWtU,KAGnC,OAAOlF,GAAKgT,WAAWyG,MAAMF,IAAkBvZ,EAAK+S,UAAU0G,MAAMF,IAAkBvZ,EAAK8S,aAAa2G,MAAMF,MAIlHtZ,KAAKyZ,2BAA6B,WAChC,GAAIC,EACJ,IAAI3Z,EAAKyX,aAAekC,EAAO3Z,EAAKyX,WAAW,IAAK,CAGlD,IAAK,GAFDmC,GAAa1I,EAAM2I,cAAcF,GACjCG,KACKlZ,EAAI,EAAGA,EAAIgZ,EAAW3Y,OAAQL,IACrCkZ,EAAQnV,KAAK3E,EAAKuY,cAAcqB,EAAWhZ,IAE7C,OAAOkZ,GAET,MAAO,OAGT7Z,KAAK8Z,cAAgB,WACnB,GAAIC,KAeJ,OAdInH,GAAOoH,YACT/I,EAAM/H,QAAQ+H,EAAM2I,cAAchH,EAAOoH,YAAa,SAASC,GAC7D,GAAIC,GAAkBtH,EAAOoH,WAAWC,EACxC,IAAIhJ,EAAM7I,QAAQ8R,GAChBH,EAAWha,EAAKmX,cAAc+C,IAAkB,GAAItD,GAAUwD,iBAAiB,KAAM,KAAMD,GAAiB,OACvG,CACL,GAAIE,GAASnJ,EAAM2I,cAAcM,GAAiB,EAC9CE,KACFL,EAAWha,EAAKmX,cAAc+C,IAAkB,GAAItD,GAAUwD,iBAAiBC,EAAQF,EAAgBE,QAMxGL,GAGT/Z,KAAKqa,UAAY,SAAShD,EAAWiD,EAAYC,EAAYC,GAE3D,GAAIC,GAAQC,EACRC,EACAC,EACAC,EAAqB1D,EAASpX,EAAK2Y,UAAWrB,EAElD,IAAIwD,EAAoB,CAEtB,OAAQP,GACN,IAAK/E,GAAI1B,KAAKxC,KACZoJ,EAAS1a,EAAK+S,SACd,MACF,KAAKyC,GAAI1B,KAAKzC,QACZqJ,EAAS1a,EAAK8S,YACd,MACF,KAAK0C,GAAI1B,KAAKvC,KACZmJ,EAAS1a,EAAKgT,WAMlB,OAAQwH,GACN,IAAKhF,GAAI1B,KAAKxC,KACZsJ,EAAS5a,EAAK+S,UACd8H,EAAc7a,EAAKkZ,YAAY5B,EAC/B,MACF,KAAK9B,GAAI1B,KAAKzC,QACZuJ,EAAS5a,EAAK8S,aACd+H,EAAc7a,EAAKmZ,eAAe7B,EAClC,MACF,KAAK9B,GAAI1B,KAAKvC,KACZqJ,EAAS5a,EAAKgT,WACd6H,EAAc7a,EAAKoZ,aAAa9B,GAMpC,GAAIoD,GAAUE,EAAQ,CAEpB,GAAIG,GAAuB/a,EAAKgb,oBAAoBR,EAEpD,IAAIE,EAAQ,CAEV,GADAC,EAAclJ,EAAciJ,EAAQpD,GAChCiD,IAAeC,IACbG,GAAeD,EAAOzZ,OAAS,GAAiB,MAAZwZ,GAAoBE,IAAgBF,EAAW,GACrF,OAAO,CAGXC,GAAOO,OAAON,EAAa,GAG7B,GAAIjJ,GAAQsD,EAAYhV,EAAMwa,EAAYK,EAAaC,EAiBvD,OAfKC,IAAwBrJ,EAAMkD,SAASkB,WAAY,IACtDpE,EAAMkD,SAASkB,QAAU,MAGvB8E,IACc,MAAZH,EACFG,EAAOK,OAAOR,EAAU,EAAG/I,GAE3BkJ,EAAOjW,KAAK+M,IAKhB1R,EAAK+Y,gBAAkB/Y,EAAKgT,WAAahT,EAAKgT,WAAW/R,QAAU,EAAI,GAEhE,KAKbhB,KAAKib,gBAAkB,SAAShG,GAE9B,GAAItU,GACAua,EACAC,GAAYpb,EAAKgb,oBAAoB9F,EAEzC,IAAIA,IAAYM,EAAI1B,KAAKxC,KACvB0H,EAAkBvE,UAAUmE,KAAOwC,EACnCD,EAAYnb,EAAK+S,cACZ,CAAA,GAAImC,IAAYM,EAAI1B,KAAKzC,QAI9B,OAAO,CAHP2H,GAAkBvE,UAAUoE,QAAUuC,EACtCD,EAAYnb,EAAK8S,aAMnB,IADAsI,EAAWA,KAAa,EAAQ,MAAO,EAClCxa,EAAI,EAAGA,EAAIua,EAAUla,OAAQL,IAC5Bua,EAAUva,GAAGgU,SAASkB,WAAY,IACpCqF,EAAUva,GAAGgU,SAASkB,QAAUsF,EAGpC,QAAO,GAGTnb,KAAK+a,oBAAsB,SAAS9F,GAClC,MAAIA,KAAYM,EAAI1B,KAAKxC,KAChB0H,EAAkBvE,UAAUmE,KAC1B1D,IAAYM,EAAI1B,KAAKzC,QACvB2H,EAAkBvE,UAAUoE,QAE5B,MAIX5Y,KAAKob,iBAAmB,SAASnG,GAC/B,GAAIkG,IAAYpb,EAAKsb,oBAAoBpG,EAEzC,IAAIA,IAAYM,EAAI1B,KAAKxC,KACvBtR,EAAK4X,WAAWxB,YAAcgF,MACzB,CAAA,GAAIlG,IAAYM,EAAI1B,KAAKzC,QAG9B,OAAO,CAFPrR,GAAK4X,WAAWvB,eAAiB+E,EAInC,OAAO,GAGTnb,KAAKqb,oBAAsB,SAASpG,GAClC,MAAIA,KAAYM,EAAI1B,KAAKxC,KAChBtR,EAAK4X,WAAWxB,YACdlB,IAAYM,EAAI1B,KAAKzC,QACvBrR,EAAK4X,WAAWvB,gBAEhB,MAMbkF,oBAAqB,GACrBC,YAAa,GACbC,kBAAmB,GACnBC,eAAgB,GAChB1H,cAAe,KAEjB2H,IAAK,SAASxa,EAASzB,EAAQD,GAE7BC,EAAOD,QAAU,SAASyL,EAAI2I,EAAQnM,EAAOgK,EAAOW,EAAOuB,EAAQgI,GAEjE,GAAI5b,GAAOC,IAEXA,MAAKiL,GAAKA,EAEVjL,KAAK4T,OAASA,EAEd5T,KAAKyH,MAAQA,EAEbzH,KAAK2T,OAASA,EAEd3T,KAAK2b,OAASA,EAEd3b,KAAKyR,MAAQA,EAEbzR,KAAKoS,MAAQA,EAEbpS,KAAKwS,UAELxS,KAAKuS,cAELvS,KAAK0S,WAAa,KAElB1S,KAAK4b,cAAgB,SAAS7N,GAC5B,GAAuB,MAAnBhO,EAAK2S,WAAoB,CAC3B3S,EAAK2S,aACL,KAAK,GAAI/R,GAAI,EAAGA,EAAIZ,EAAKyS,OAAOxR,OAAQL,IACtCZ,EAAKwS,WAAWxS,EAAKyS,OAAO7R,IAAIib,cAAc7b,EAAK2S,YAGvD,GAAc,MAAV3E,EAAgB,CAClB,IAAK,GAAI8N,GAAI,EAAGA,EAAI9b,EAAK2S,WAAW1R,OAAQ6a,IAC1C9N,EAAOrJ,KAAK3E,EAAK2S,WAAWmJ,GAE9B,OAAO9N,GAEP,MAAOhO,GAAK2S,kBAMpBoJ,IAAK,SAAS5a,EAASzB,EAAQD,GAE7B,GAAIyR,GAAQ/P,EAAQ,eAChB6a,EAAY7a,EAAQ,mBACpB0V,EAAe1V,EAAQ,gBAEvB8a,EAAY,wCACZC,EAAY,itBACZC,EAAY,gBAEhBzc,GAAOD,QAAU,SAAS2c,GAexB,QAASC,GAAiBxG,GACxB,MAAO,OAASyG,EAAc,iBAAmBC,EAAkB,KAAO1G,EAAU,eAGtF,QAAS2G,GAAcC,EAASC,EAAkBC,EAAiBC,GACjE,GAAIhc,GACAic,EAAMD,GAAU,MACpB,KAAKhc,EAAI,EAAO8b,EAAJ9b,EAAsBA,IAChCic,GAAO,WAOT,KAJAA,GAAOJ,EAAQK,OAAO,SAASC,EAAIrL,GACjC,MAAOqL,IAAMV,EAAiB3K,EAAMmE,UACnC,IAEEjV,EAAI,EAAO+b,EAAJ/b,EAAqBA,IAC/Bic,GAAO,WAET,OAAOA,GAAM,QAwDf,QAASG,GAASH,GAChB,MAAO3L,GAAM+L,KAAKC,SAASC,mBAAmBN,KAxFhD,GAAIhK,GAASuJ,EAAY5K,MAAMqB,OAE3BuK,EAAYvG,EAAaqB,SAC7BkF,GAA0B,cAAdA,EAA4B,QAAUA,CAClD,IAAIC,GAAyB,UAAdD,EAEXb,EAAkBc,EAAW,QAAU,QACvCC,EAAazG,EAAa0G,OAAOH,GACjCI,EAAe3G,EAAa3F,MAAMuM,aAAaH,EAAY,IAE3DhB,EAAc,oCAAsCC,EAAkB,uBAAyBe,EAAa,eAAiBA,EAAa,IAC1II,EAAc,4BAA8BF,EAAe,eAAiBA,EAAe,IAuB3FG,EAAuBxW,KAAKuJ,IAAImC,EAAOG,WAAW/R,OAAS,EAAGmb,EAAYwB,OAAOC,WAAWhG,OAE5F7E,EAAawJ,EAAc3J,EAAOG,WAAY,EAAG2K,EAAuB9K,EAAOG,WAAW/R,OAAQ,+CAElG6c,EAAM,0CAA4CH,EAAuB,eAEzE7K,EAAe0J,EAAc3J,EAAOC,aAAcsJ,EAAYwB,OAAOG,WAAWlG,MAAO8F,GAAwBvB,EAAYwB,OAAOG,WAAWlG,MAAQhF,EAAOC,aAAa7R,SAEzK+c,EAAgB,WAGlB,IAAK,GADDlC,GADAe,EAAM,GAEDjc,EAAI,EAAGA,EAAIwb,EAAYvD,QAAQiB,QAAQ7Y,OAAQL,IAAK,CAC3D,GAAIqd,GAAU7B,EAAYvD,QAAQiB,QAAQlZ,GACtCsd,EAAS,MACb,IAAItd,EAAIwb,EAAYvD,QAAQiB,QAAQ7Y,OAAS,EAC3C,IAAK6a,EAAI,EAAGA,EAAIM,EAAYwB,OAAOG,WAAWlG,MAAOiE,IACnDoC,GAAU,gBAGZA,IAAUrL,EAAOE,UAAU+J,OAAO,SAASC,EAAIrL,GAC7C,MAAOqL,IAAMV,EAAiB3K,EAAMmE,UACnC,GAGLqI,IAAUD,EAAQnB,OAAO,SAASC,EAAIoB,GACpC,GAAIzW,GAAQyW,EAAOlZ,OAAS+W,EAAUoC,WAAWC,YAAcF,EAAOzW,MAAMmO,QAAUsI,EAAOzW,KAC7F,OAAOqV,IAAM,OAASW,EAAc,aAAeS,EAAOG,OAAM,GAAQ,cAAgBH,EAAOI,OAAM,GAAQ,KAAO7W,EAAQ,SAC3H,IACHmV,GAAOqB,EAAS,QAElB,MAAOrB,MAGL2B,EAAyB,WAG3B,IAAK,GAFD3B,GAAM,GAEDjc,EAAI,EAAGA,EAAIwb,EAAYxD,KAAKkB,QAAQ7Y,OAAQL,IAAK,CACxD,GAAIqd,GAAU7B,EAAYxD,KAAKkB,QAAQlZ,GACnCsd,EAAS,MACbA,IAAUD,EAAQnB,OAAO,SAASC,EAAIoB,GACpC,MAAOpB,IAAM,OAASW,EAAc,aAAeS,EAAOG,OAAM,GAAQ,cAAgBH,EAAOI,OAAM,GAAQ,KAAOJ,EAAOzW,MAAQ,SAClI,GACH,IAAI+W,GAAUrC,EAAYsC,SAAS9d,EACnCsd,IAAUO,EAAQ3B,OAAO,SAASC,EAAI4B,EAAUpV,GAC9C,GAAIwL,GAAalC,EAAOG,WAAWzJ,GAAgBsJ,EAAOG,WAAW/R,QAAQ8T,WACzErN,EAA0B,MAAlBiX,EAASjX,MAAgB,GAAKqN,EAAaA,IAAa4J,EAASjX,OAASiX,EAASjX,KAC/F,OAAOqV,IAAM,OAASrV,EAAQ,SAC7B,IACHmV,GAAOqB,EAAS,QAElB,MAAOrB,KAOT,OAAOZ,GAAYe,EAASd,EAAY,UAAYlJ,EAAa8K,EAAMhL,EAAekL,EAAgBQ,EAAyB,WAAarC,MAI9IT,eAAgB,GAChBkD,kBAAmB,GACnB5K,cAAe,KAEjB6K,IAAK,SAAS1d,EAASzB,EAAQD,GAE7B,GAAIyR,GAAQ/P,EAAQ,eAEhByV,EAAYlX,EAAOD,SACrBqf,IAAK,QACLC,KAAM,SACNC,MAAO,WAGTpI,GAAUwD,iBAAmB,SAAS6E,EAAUC,EAAMC,EAAaC,GACjE,GAAIpf,GAAOC,IAEXA,MAAKgf,SAAWI,EAAIpb,IAAIgb,GACxBhf,KAAKqf,YAAa,EAClBrf,KAAKif,KAAOA,GAAQ,KAChBjf,KAAKif,MAAQjf,KAAKgf,UAAYhf,KAAKgf,SAASM,iBAC1CrO,EAAMsO,SAASvf,KAAKif,QACtBjf,KAAKqf,YAAa,EACbrf,KAAKif,KAAKO,aACbxf,KAAKif,KAAO,GAAIQ,QAAOzf,KAAKif,KAAK/Z,OAAQ,OAK/ClF,KAAKkf,YAAcA,EACnBlf,KAAKmf,cAAgBA,EAErBnf,KAAK0f,KAAO,SAASjY,GACnB,GAAIwJ,EAAM7I,QAAQrI,EAAKmf,aAAc,CACnC,GAAIS,GAAQ5f,EAAKmf,YAAY7G,QAAQ5Q,IAAU,CAC/C,OAAO1H,GAAKof,gBAAkBQ,IAAU5f,EAAKof,eAAiBQ,EACzD,MAAI5f,GAAKkf,KACPlf,EAAKif,SAAS3O,KAAK5I,EAAO1H,EAAKkf,MAC7Blf,EAAKmf,eAAgB,GAAQnf,EAAKmf,cAAgBvI,EAAUkI,KAC9D,EACE9e,EAAKmf,eAAgB,GAASnf,EAAKmf,cAAgBvI,EAAUmI,MAO1E9e,KAAK4f,aAAe,WAClB,QAAS7f,EAAKkf,MAAQhO,EAAM7I,QAAQrI,EAAKmf,cAAgBnf,EAAKmf,cAAgBvI,EAAUmI,MAAQ/e,EAAKmf,eAAgB,IAIzH,IAAIE,GAAMzI,EAAUkJ,WAClB7b,IAAK,SAAaoW,GAChB,OAAQA,GACN,IAAKgF,GAAIU,MAAM7a,KACb,MAAOma,GAAIU,KACb,KAAKV,GAAIW,SAAS9a,KAChB,MAAOma,GAAIW,QACb,KAAKX,GAAIY,GAAG/a,KACV,MAAOma,GAAIY,EACb,KAAKZ,GAAIa,IAAIhb,KACX,MAAOma,GAAIa,GACb,KAAKb,GAAIc,GAAGjb,KACV,MAAOma,GAAIc,EACb,KAAKd,GAAIe,IAAIlb,KACX,MAAOma,GAAIe,GACb,KAAKf,GAAIgB,GAAGnb,KACV,MAAOma,GAAIgB,EACb,KAAKhB,GAAIiB,IAAIpb,KACX,MAAOma,GAAIiB,GACb,SACE,MAAOjB,GAAIN,OAGjBA,KAAM,KACNgB,OACE7a,KAAM,UACNoL,KAAM,SAAc5I,EAAOwX,GACzB,MAAIxX,GACKA,EAAM1E,WAAWud,OAAOrP,EAAMsO,SAASN,GAAQA,EAAO,GAAIQ,QAAOR,EAAM,OAAS,GAE7EA,GAGdK,iBAAiB,GAEnBS,UACE9a,KAAM,iBACNoL,KAAM,SAAc5I,EAAOwX,GACzB,MAAIxX,GACKA,EAAM1E,WAAWud,OAAOrP,EAAMsO,SAASN,GAAQA,EAAO,GAAIQ,QAAOR,EAAM,MAAQ,IAE7EA,GAGbK,iBAAiB,GAEnBU,IACE/a,KAAM,IACNoL,KAAM,SAAc5I,EAAOwX,GACzB,MAAOxX,IAASwX,GAElBK,iBAAiB,GAEnBW,KACEhb,KAAM,KACNoL,KAAM,SAAc5I,EAAOwX,GACzB,MAAOxX,IAASwX,GAElBK,iBAAiB,GAEnBY,IACEjb,KAAM,IACNoL,KAAM,SAAc5I,EAAOwX,GACzB,MAAOxX,GAAQwX,GAEjBK,iBAAiB,GAEnBa,KACElb,KAAM,KACNoL,KAAM,SAAc5I,EAAOwX,GACzB,MAAOxX,IAASwX,GAElBK,iBAAiB,GAEnBc,IACEnb,KAAM,IACNoL,KAAM,SAAc5I,EAAOwX,GACzB,MAAeA,GAARxX,GAET6X,iBAAiB,GAEnBe,KACEpb,KAAM,KACNoL,KAAM,SAAc5I,EAAOwX,GACzB,MAAgBA,IAATxX,GAET6X,iBAAiB,MAKrBvL,cAAe,KAEjBwM,IAAK,SAASrf,EAASzB,EAAQD,GAE7BC,EAAOD,QAAQyR,MAAQ/P,EAAQ,eAC/BzB,EAAOD,QAAQ+R,MAAQrQ,EAAQ,eAC/BzB,EAAOD,QAAQ2c,YAAcjb,EAAQ,wBACrCzB,EAAOD,QAAQghB,MAAQtf,EAAQ,eAC/BzB,EAAOD,QAAQ,UAAY0B,EAAQ,wBAGnCuf,qBAAsB,GACtBC,cAAe,GACfC,cAAe,GACfC,uBAAwB,GACxB7M,cAAe,KAEjB8M,IAAK,SAAS3f,EAASzB,EAAQD,GAE7B,GAAIshB,GAAS5f,EAAQ,gBACnBqU,EAAMrU,EAAQ,aACd6f,EAAgB7f,EAAQ,gBAAgB0R,OACxC+D,EAAYzV,EAAQ,mBACpBsf,EAAQtf,EAAQ,eAChB+P,EAAQ/P,EAAQ,eAEdqQ,EAAQ9R,EAAOD,QAAU,SAASoT,GAmBpC,QAASoO,GAAQC,GACXA,KAAmB,GACrBC,IAEFnhB,EAAK4Y,KAAK3F,SACVjT,EAAK6Y,QAAQ5F,SACbmO,IAGAphB,EAAKqhB,QAAQ7P,EAAM8P,eAGrB,QAASH,KACP,GAAII,GAAerQ,EAAM2I,cAAc7Z,EAAKwhB,QAC5C,IAAID,EAAatgB,OAAS,EAAG,CAC3BjB,EAAK6R,qBAEL,KAAK,GAAIjR,GAAI,EAAGA,EAAIZ,EAAK6S,OAAO4E,WAAWxW,OAAQL,IAAK,CAGtD,IAAK,GAFDqR,GAAMjS,EAAK6S,OAAO4E,WAAW7W,GAC7B6gB,GAAU,EACLjK,EAAK,EAAGA,EAAK+J,EAAatgB,OAAQuW,IAAM,CAC/C,GAAIF,GAAYiK,EAAa/J,GACzBkK,EAAc1hB,EAAKwhB,QAAQlK,EAE/B,IAAIoK,IAAgBA,EAAY/B,KAAK1N,EAAIqF,IAAa,CACpDmK,GAAU,CACV,QAGCA,GACHzhB,EAAK6R,mBAAmBlN,KAAKsN,QAIjCjS,GAAK6R,mBAAqB7R,EAAK6S,OAAO4E,WA+K1C,QAASkK,GAAahP,EAAYiP,EAAYC,EAAgBjI,EAAY9E,GAExE,GAAIgN,KAEJ,IAAI9hB,EAAK6S,OAAOkG,gBAAkB,EAAG,CAEnC,GAAItJ,EAEJ,IAAkB,MAAdkD,EACFlD,EAAemS,MACV,IAAkB,MAAdA,EACTnS,EAAekD,MACV,CACLlD,IACA,KAAK,GAAIsS,GAAK,EAAGA,EAAKpP,EAAW1R,OAAQ8gB,IAAM,CAC7C,GAAIC,GAAWrP,EAAWoP,EAC1B,IAAIC,GAAY,EAAG,CACjB,GAAIC,GAAcL,EAAWtJ,QAAQ0J,EACjCC,IAAe,IACjBtP,EAAWoP,GAAM,GAAKC,EAAW,GACjCvS,EAAa9K,KAAKqd,MAM1B,GAEIxS,GAFA0S,EAAoBzS,GAAwC,IAAxBA,EAAaxO,OAGjDkhB,GAFaniB,EAAK6R,sBAItB,IAAI+H,EACF,IAAK,GAAIwI,GAAiB,EAAGA,EAAiBxI,EAAW3Y,OAAQmhB,IAC/D5S,EAAYxP,EAAK6S,OAAOuG,aAAaQ,EAAWwI,IAC3CtN,IACEtF,EAMHsF,EAAgBtF,EAAUsF,iBAL1BtF,EAAYxP,EAAK6S,OAAOoG,SAASW,EAAWwI,IACxC5S,IACFsF,EAAgBtF,EAAUmG,aAAenG,EAAUmG,aAAab,gBAAkBtF,EAAUsF,mBAO9FtF,GAAasF,GACfqN,EAAWxd,MACT+M,MAAOlC,EACPsF,cAAeA,QAKrB,KAAK,GAAIuN,GAAiB,EAAGA,EAAiBriB,EAAK6S,OAAOkG,gBAAiBsJ,IACzE7S,EAAYxP,EAAK6S,OAAOG,WAAWqP,IAAmBC,GAClDxN,GAAiBtF,EAAUsF,gBAC7BqN,EAAWxd,MACT+M,MAAOlC,EACPsF,cAAeA,GAAiBtF,EAAUsF,iBAMlD,KAAK,GAAIyN,GAAM,EAAGA,EAAMJ,EAAWlhB,OAAQshB,IACzC/S,EAAY2S,EAAWI,GAEnBL,EACFJ,EAAItS,EAAUkC,MAAMxM,MAAQ,KAE5B4c,EAAItS,EAAUkC,MAAMxM,MAAQsK,EAAUsF,cAActF,EAAUkC,MAAMxM,KAAMuK,GAAgB,MAAOzP,EAAK6R,mBAAoBgQ,GAAkBlP,EAAYiP,GAK9J,MAAOE,GAGT,QAASU,GAAiBC,GAExB,GAAIA,EAAQ,CACV,GAAI3J,MACA4J,EAAM,IAAMD,EAAOvX,EAUvB,IAPqBzH,SAAjBkf,EAAQD,KACVC,EAAQD,GAAOD,EAAO7O,OAAS,KAAO+O,EAAQF,EAAO5O,OAAO3I,KAAOuX,EAAO5G,iBAI5E/C,EAAK9Y,EAAK6Y,QAAQ1G,KAAKjH,IAAMyW,EAAac,EAAO7O,OAAS,KAAO+O,EAAQD,GAAKzf,MAAM,GAAI,MAEpFjD,EAAK6Y,QAAQ/G,gBAAkB,EAIjC,IAHA,GAAI8Q,GAAI,EACJtP,GAAWtT,EAAK6Y,QAAQ1G,MAErByQ,EAAItP,EAAQrS,QAAQ,CAIzB,IAAK,GAHD4S,GAASP,EAAQsP,GACjBC,EAAaJ,EAAO7O,OAAS,KAAOC,EAAOD,OAAS+O,EAAQD,GAAKzf,MAAM,GAAK0f,EAAQ,IAAM9O,EAAO3I,IAAIjI,MAAM,GAEtGrC,EAAI,EAAGA,EAAIiT,EAAOpB,OAAOxR,OAAQL,IAAK,CAC7C,GAAIkiB,GAASjP,EAAOrB,WAAWqB,EAAOpB,OAAO7R,IACzCmiB,EAAM,IAAMD,EAAO5X,EASvB,IANqBzH,SAAjBkf,EAAQI,KACVJ,EAAQI,GAAOJ,EAAQI,IAAQD,EAAOjH,gBAAgB5Y,MAAM,IAG9D6V,EAAKgK,EAAO5X,IAAMyW,EAAakB,EAAYF,EAAQI,GAAMN,EAAO7O,OAAS,KAAO6O,EAAO5G,kBAElFiH,EAAOlH,SACVtI,EAAQ3O,KAAKme,GACTD,GAAY,CACdF,EAAQI,KACR,KAAK,GAAIC,GAAK,EAAGA,EAAKH,EAAW5hB,OAAQ+hB,IAAM,CAC7C,GAAIC,GAAKJ,EAAWG,EACV,KAANC,GAAiB,EAALA,IACdN,EAAQI,GAAKpe,KAAK,GAAKse,EAAK,IAC5BJ,EAAWG,GAAM,MAM3BL,EAAQ,IAAM9O,EAAO3I,IAAMzH,OAC3Bmf,IAIJ,MAAO9J,IAIX,QAASsI,KAOP,GANAphB,EAAKkjB,cACLP,KAGA3iB,EAAKkjB,WAAWljB,EAAK4Y,KAAKzG,KAAKjH,IAAMsX,EAAiBxiB,EAAK4Y,KAAKzG,MAE5DnS,EAAK4Y,KAAK9G,gBAAkB,EAI9B,IAHA,GAEI+B,GAFAP,GAAWtT,EAAK4Y,KAAKzG,MACrByQ,EAAI,EAEDA,EAAItP,EAAQrS,QAAQ,CACzB4S,EAASP,EAAQsP,EAEjB,KAAK,GAAIhiB,GAAI,EAAGA,EAAIiT,EAAOpB,OAAOxR,OAAQL,IAAK,CAC7C,GAAIkiB,GAASjP,EAAOrB,WAAWqB,EAAOpB,OAAO7R,GAE7CZ,GAAKkjB,WAAWJ,EAAO5X,IAAMsX,EAAiBM,GAEzCA,EAAOlH,QACVtI,EAAQ3O,KAAKme,GAIjBF,KAhYN,GAIED,GAJE3iB,EAAOC,KACTqiB,GACEpd,KAAM,cAKV6b,GAAO/f,KAAKf,MAEZA,KAAK4S,OAAS,GAAImO,GAAcnO,GAChC5S,KAAKuhB,QAAUxhB,EAAK6S,OAAOkH,gBAC3B9Z,KAAK4R,mBAAqB7R,EAAK6S,OAAO4E,WAEtCxX,KAAK2Y,KAAO,GAAIpD,GAAIxV,EAAMwV,EAAI1B,KAAKxC,MACnCrR,KAAK4Y,QAAU,GAAIrD,GAAIxV,EAAMwV,EAAI1B,KAAKzC,SACtCpR,KAAKijB,cAwCLjjB,KAAKkT,KAAO,SAAS+B,EAASxD,GAC5B,GAAIwD,IAAYM,EAAI1B,KAAKxC,KACvBtR,EAAK4Y,KAAKzF,KAAKzB,OACV,CAAA,GAAIwD,IAAYM,EAAI1B,KAAKzC,QAG9B,MAFArR,GAAK6Y,QAAQ1F,KAAKzB,GAKpB1R,EAAKqhB,QAAQ7P,EAAM2R,qBAGrBljB,KAAKqa,UAAY,SAAShD,EAAWiD,EAAYC,EAAYC,GAC3D,MAAIza,GAAK6S,OAAOyH,UAAUhD,EAAWiD,EAAYC,EAAYC,IAC3DwG,GAAQ,IACD,IAEF,GAGThhB,KAAKmjB,YAAc,SAAS9L,EAAW2H,EAAUC,EAAMC,EAAaC,GAClEpf,EAAKwhB,QAAQlK,GAAa,GAAIV,GAAUwD,iBAAiB6E,EAAUC,EAAMC,EAAaC,GACtF6B,KAGFhhB,KAAKojB,YAAc,SAASvK,GAC1B9Y,EAAK6S,OAAO4E,WAAaqB,EACzBmI,KAGFhhB,KAAKib,gBAAkB,SAAShG,GAC1BlV,EAAK6S,OAAOqI,gBAAgBhG,IAC9BlV,EAAKqhB,QAAQ7P,EAAM8R,uBAIvBrjB,KAAKob,iBAAmB,SAASnG,GAC3BlV,EAAK6S,OAAOwI,iBAAiBnG,IAC/BlV,EAAKqhB,QAAQ7P,EAAM8R,uBAIvBrjB,KAAK+a,oBAAsB,SAAS9F,GAClC,MAAOlV,GAAK6S,OAAOmI,oBAAoB9F,IAGzCjV,KAAKqb,oBAAsB,SAASpG,GAClC,MAAOlV,GAAK6S,OAAOyI,oBAAoBpG,IAGzCjV,KAAKsjB,eAAiB,SAAS7R,EAAO8R,GAIpC,IAAK,GAHDC,MACAhR,KACAiR,GAAgB,EACX9iB,EAAI,EAAGA,EAAIZ,EAAK6S,OAAO4E,WAAWxW,OAAQL,IAAK,CACtD,GAAIqR,GAAMjS,EAAK6S,OAAO4E,WAAW7W,GAC7BoP,EAAMiC,EAAIP,EACKjO,UAAf+f,GACEA,KAAe,GAA8B,kBAAfA,IAA6BA,EAAWxT,KACxEyT,EAAQ9e,KAAKqL,GAGJ,MAAPA,EACFyT,EAAQ9e,KAAKqL,GAEb0T,GAAgB,EAItB,GAAID,EAAQxiB,OAAS,EAAG,CAClBiQ,EAAMyS,SAASF,EAAQ,KAAOvS,EAAM0S,OAAOH,EAAQ,IACrDA,EAAQtQ,KAAK,SAASzS,EAAGgD,GACvB,MAAOhD,GAAIgD,EAAIhD,EAAIgD,EAAI,EAAIA,EAAI,GAAK,IAGtC+f,EAAQtQ,MAGV,KAAK,GAAI0Q,GAAK,EAAGA,EAAKJ,EAAQxiB,OAAQ4iB,IACzB,IAAPA,GAAYJ,EAAQI,KAAQpR,EAAOA,EAAOxR,OAAS,IACrDwR,EAAO9N,KAAK8e,EAAQI,QAIxBpR,GAASgR,CAKX,OAHIC,IACFjR,EAAOqR,QAAQ,MAEVrR,GAGTxS,KAAK8jB,eAAiB,SAASrS,GAC7B,MAAO1R,GAAKwhB,QAAQ9P,IAGtBzR,KAAK+jB,gBAAkB,SAAStS,GAC9B,GAAI4H,GAAStZ,EAAK+jB,eAAerS,EACjC,OAAiB,OAAV4H,IAAmBA,EAAOuG,gBAGnC5f,KAAKgkB,QAAU,SAASvS,EAAOwS,EAAQC,EAAQrP,GAC7C,GAAIpN,EACJ,IAAIwc,GAAUC,EAAQ,CAEpB,GAAIC,GAAgB1S,IAAU1R,EAAK6S,OAAOG,WAAW,IAAMsP,GAAcpd,KACrEsK,EAAYxP,EAAK6S,OAAOuG,aAAagL,EAGvC1c,IADG8H,GAAasF,GAAiBtF,EAAUsF,eAAiBA,EACpD9U,EAAKqkB,gBAAgBH,EAAOtQ,OAAS,KAAOsQ,EAAOrI,gBAAgB5Y,MAAM,GAAIkhB,EAAOvQ,OAAS,KAAOuQ,EAAOtI,gBAAgB5Y,MAAM,IAAKmhB,GAAgBtP,GAAesP,GAEzKpkB,EAAKkjB,WAAWgB,EAAOhZ,KAAOlL,EAAKkjB,WAAWgB,EAAOhZ,IAAIiZ,EAAOjZ,IAC1DlL,EAAKkjB,WAAWgB,EAAOhZ,IAAIiZ,EAAOjZ,IAAIkZ,GAEtC,KAKd,MAAiB3gB,UAAViE,EAAsB,KAAOA,GAGtCzH,KAAKokB,gBAAkB,SAAS1R,EAAYiP,EAAYhI,EAAY9E,GAClE,MAAO6M,GAAahP,EAAYiP,EAAYjP,EAAYiH,EAAY9E,IAGtE7U,KAAKqkB,aAAe,WAIlB,QAASC,GAAaC,GAEpB,IAAK,GADD3H,GAAM,GACD4H,EAAK,EAAGA,EAAKD,EAAWvjB,OAAQwjB,IACvC5H,IAAQ4H,EAAK,EAAI,MAAQ,IAAMD,EAAWC,GAAI5O,OAEhD,OAAOgH,GAWT,IAAK,GAlBDhK,GAAS7S,EAAK6S,OAUd6R,EAAaH,EAAa1R,EAAOC,cACjC6R,EAAa9R,EAAOG,WAAW,GAAG6B,kBAAoB,IAAMhC,EAAOG,WAAW,GAAG6C,QAAU,IAC3F+O,EAAeL,EAAa1R,EAAOE,WAEnC8R,EAAoB7kB,EAAK4Y,KAAKnF,gBAC9BqR,EAAoB9kB,EAAK6Y,QAAQpF,gBACjCqF,KAEKiM,EAAK,EAAGA,EAAKD,EAAkB7jB,OAAQ8jB,IAAM,CAGpD,IAAK,GAFDC,GAAOF,EAAkBC,GACzBE,GAAYD,EAAK9f,MACZggB,EAAM,EAAGA,EAAML,EAAkB5jB,OAAQikB,IAChDD,EAAStgB,KAAK3E,EAAKikB,QAAQpR,EAAOG,WAAW,GAAG9N,KAAM2f,EAAkBK,GAAKhT,IAAK8S,EAAK9S,KAEzF4G,GAAKnU,KAAKsgB,GAGZ,OACEE,MAAOR,EAAa,KAAOD,EAAa,OAASE,EACjDF,WAAYA,EACZC,WAAYA,EACZC,aAAcA,EACdQ,SAAUP,EAAkBnR,IAAI,SAAS2R,GACvC,MAAOA,GAAEngB,OAEXogB,UAAWxM,IAIf7Y,KAAKwgB,MAAQA,EAAMzgB,GAEnBihB,IAuKFzP,GAAM8P,cAAgB,gBACtB9P,EAAM2R,mBAAqB,qBAC3B3R,EAAM8R,qBAAuB,yBAG7B9H,YAAa,GACb+J,eAAgB,GAChB9J,kBAAmB,GACnB+J,eAAgB,GAChB5E,cAAe,GACf5M,cAAe,KAEjByR,IAAK,SAAStkB,EAASzB,EAAQD,GAE7B,GAAIyR,GAAQ/P,EAAQ,cAEpBzB,GAAOD,QAAU,WACf,GAAIimB,KAEJzlB,MAAK0lB,UAAY,SAASC,EAAO1V,GAC3BgB,EAAM+F,SAAS2O,IAAU1U,EAAM2U,WAAW3V,KAC5CwV,EAAQE,GAASF,EAAQE,OACzBF,EAAQE,GAAOjhB,KAAKuL,KAIxBjQ,KAAKohB,QAAU,SAASuE,GAClB1U,EAAM+F,SAAS2O,IACjB1U,EAAM/H,QAAQuc,EAAQE,GAAQ,SAAS1V,GACrCA,EAAS/N,MAAM,MAAOyjB,GAAOva,OAAOjD,MAAMkC,UAAUrH,MAAMjC,KAAKoB,UAAW,WAOlF4R,cAAe,KAEjB8R,IAAK,SAAS3kB,EAASzB,EAAQD,GAM7B,QAASsmB,GAAuBpkB,GAC9B,MAAOA,IAAOA,EAAIN,WAAaM,GAC7BP,UAASO,GANb,GAAIqkB,GAAW7kB,EAAQ,gCAEnB8kB,EAAWF,EAAuBC,GAQlC9U,EAAQ/P,EAAQ,eAChBqU,EAAMrU,EAAQ,aACd8U,EAAc9U,EAAQ,qBAEtB+kB,EAAY,SAAmB/gB,EAAQsb,EAAOe,GAEhD,GAAIxhB,GAAOC,IAEXA,MAAKkF,OAASA,EACdlF,KAAKwgB,MAAQA,EACbxgB,KAAKuhB,QAAUA,EAEfvhB,KAAKkmB,cAAgB,SAASC,EAAMjQ,EAASkQ,GAC3C,GAAIA,EAAUC,SAAU,EAAM,CAE5B,IAAK,GADDxE,MACKyE,EAAK,EAAGA,EAAKpQ,EAAQqQ,gBAAgBvlB,OAAQslB,IACpDzE,EAAI3L,EAAQqQ,gBAAgBD,IAAOH,EAAKpmB,EAAKymB,eAAetQ,EAAQqQ,gBAAgBD,IAEtF,OAAOzE,GAEP,MAAOsE,GAAKC,EAAUK,gBAI1BzmB,KAAK0mB,YAAc,SAASD,EAAeJ,EAAOxR,EAAe8R,GAE/D,GAAIP,IACFK,cAAe1mB,EAAKymB,eAAeC,GACnCJ,MAAOA,EACPxR,cAAeA,EAGjB,OAAO,UAASqB,GACdA,EAAUnW,EAAK6mB,aAAa1Q,EAAS/T,UAAWikB,EAChD,IAAID,GAAOpmB,EAAK8mB,QAAQ3Q,EAASyQ,EAAcN,EAC/C,OAAOtmB,GAAKmmB,cAAcC,EAAMjQ,EAASkQ,KAI7CpmB,KAAK8mB,uBAAyB,SAAS3gB,GAGrC,GAAI4gB,GAAUhnB,EAAKygB,MAAMzQ,IAAM,OAAS,KACxChQ,GAAKygB,MAAMuG,GAAWhnB,EAAK2mB,YAAYljB,QAAW,EAAMA,OAAW2C,EAInE,KAAK,GADD6gB,GAAe/V,EAAM2I,cAAc5D,GAC9BiR,EAAY,EAAGA,EAAYD,EAAahmB,OAAQimB,IAAa,CACpE,GAAIC,GAAWF,EAAaC,EACX,qBAAbC,IACFnnB,EAAKygB,MAAM0G,GAAYnnB,EAAK2mB,YAAYljB,QAAW,EAAMwS,EAAYkR,GAAW/gB,OAMpFghB,EAAa,SAAoB5V,GAyFnC,QAAS6V,GAAiBC,EAAWhO,GACnC,MAAO,UAASpH,GACd,MAAOA,GAAIxK,QAAU4R,EAAOtJ,OAASsX,GAAaA,EAAUC,KAAK,SAASC,GACxE,GAAI3T,GAAS3B,EAAI2B,MACjB,IAAIA,EACF,KAAOA,EAAOxB,MAAQmV,EAASnV,OAC7BwB,EAASA,EAAOA,MAGpB,OAAOA,KAAW2T,MAhGxBtB,EAAUllB,KAAKf,KAAMuR,QAErB,IAAIxR,GAAOC,IAEXA,MAAKwmB,eAAiB,SAAS5Q,GAC7B,MAAO7V,GAAKmF,OAAO0N,OAAOsE,cAActB,IAG1C5V,KAAK4mB,aAAe,SAAS1Q,EAASsR,EAAWpB,GAC/C,GAAIqB,IACF9N,cAGF,IAAIyM,EAAUC,SAAU,EAAM,CACxBnQ,GAA+F,YAAhE,mBAAZA,GAA0B,aAAc,EAAI8P,EAAAA,YAAkB9P,KACnFuR,EAAK5S,cAAgBqB,EAAQrB,cAC7B4S,EAAKlB,gBAAkBrQ,EAAQxE,SAE/B+V,EAAK5S,cAAgBuR,EAAUvR,cAC/B4S,EAAKlB,gBAAkBiB,EAGzB,KAAK,GAAIlB,GAAK,EAAGA,EAAKmB,EAAKlB,gBAAgBvlB,OAAQslB,IACjDmB,EAAK9N,WAAWjV,KAAK3E,EAAKymB,eAAeiB,EAAKlB,gBAAgBD,SAGhEmB,GAAK5S,cAAgBqB,EACrBuR,EAAK9N,WAAWjV,KAAK0hB,EAAUK,cAOjC,OAJIgB,GAAK5S,gBACP4S,EAAK5S,cAAgBmB,EAAY5F,gBAAgBqX,EAAK5S;AAGjD4S,GAGTznB,KAAK0nB,MAAQ,SAASC,GACpB,GAGIC,GAHA9U,EAAY/S,EAAKmF,OAAO0N,OAAOE,UAC/B+U,EAAY9nB,EAAKmF,OAAO0N,OAAOC,aAC/BqP,EAAaniB,EAAKmF,OAAO0N,OAAOG,UAIpC,KAAK6U,EAAS,EAAGA,EAAS9U,EAAU9R,OAAQ4mB,IAC1C7nB,EAAKiD,MAAM8P,EAAU8U,GAASrS,EAAI1B,KAAKxC,KAAMyB,EAAU9R,OAAS4mB,EAIlE,KAAKA,EAAS,EAAGA,EAASC,EAAU7mB,OAAQ4mB,IAC1C7nB,EAAKiD,MAAM6kB,EAAUD,GAASrS,EAAI1B,KAAKzC,QAASyW,EAAU7mB,OAAS4mB,EAIrE,KAAKA,EAAS,EAAGA,EAAS1F,EAAWlhB,OAAQ4mB,IAAU,CACrD,GAAIE,GAAK5F,EAAW0F,GAChBG,EAASD,EAAG7iB,KACZ+iB,EAAYF,EAAGlS,SAAWmS,CAE9BhoB,GAAKygB,MAAMuH,GAAUhoB,EAAKygB,MAAMwH,GAAajoB,EAAK2mB,YAAYqB,GAGhE,GAAIJ,EACF,IAAK,GAAIxhB,KAASwhB,GACZA,EAAWtgB,eAAelB,IAC5BpG,EAAKygB,MAAMra,GAAOwhB,EAAWxhB,GAOnC,OAFApG,GAAK+mB,yBAEE/mB,EAAKygB,OAGdxgB,KAAKgD,MAAQ,SAASyO,EAAOwD,EAAS7C,GACpCrS,EAAKygB,MAAM/O,EAAMxM,MAAQlF,EAAKygB,MAAM/O,EAAMmE,SAAWnE,EAAMxM,MAAQ,SAAS8K,GAC1E,GAAIxQ,IACF0F,KAAMwM,EAAMxM,KACZ8K,IAAKA,EACLqC,MAAOA,EAGT,QADCrS,EAAKwhB,QAAQtM,GAAWlV,EAAKwhB,QAAQtM,QAAgBvQ,KAAKnF,GACpDQ,EAAKygB,QAkBhBxgB,KAAKioB,aAAe,SAAShT,GAC3B,GAAIlV,EAAKwhB,QAAQtM,GAAU,CAQzB,IAPA,GAAIiT,GAAgBnoB,EAAKwhB,QAAQtM,GAAS/B,KAAK,SAASiV,EAAIC,GAC1D,MAAOA,GAAGhW,MAAQ+V,EAAG/V,QAGnBiW,EAAUtoB,EAAKmF,OAAO+P,IAAYM,EAAI1B,KAAKxC,KAAO,OAAS,WAC3DiX,EAAc,EACdC,EAAW,KACRD,EAAcJ,EAAclnB,QAAQ,CACzC,GAAIqY,GAAS6O,EAAcI,EAC3BC,GAAWF,EAAQ1V,kBAAkB0G,EAAOjH,OAAOiH,OAAO+N,EAAiBmB,EAAUlP,IACrFiP,IAEF,MAAOC,GAET,MAAO,OAGTvoB,KAAK6mB,QAAU,SAAS3Q,GACtB,GAGIiQ,GAHAqC,EAAUzoB,EAAKkoB,aAAa1S,EAAI1B,KAAKxC,QAAUtR,EAAKmF,OAAOyT,KAAKzG,MAChEuW,EAAU1oB,EAAKkoB,aAAa1S,EAAI1B,KAAKzC,WAAarR,EAAKmF,OAAO0T,QAAQ1G,KAI1E,IAAuB,IAAnBsW,EAAQxnB,QAAmC,IAAnBynB,EAAQznB,OAAc,CAChDmlB,IACA,KAAK,GAAIG,GAAK,EAAGA,EAAKpQ,EAAQyD,WAAW3Y,OAAQslB,IAC/CH,EAAKjQ,EAAQyD,WAAW2M,IAAOvmB,EAAKmF,OAAO8e,QAAQ9N,EAAQyD,WAAW2M,GAAKkC,EAAQ,GAAIC,EAAQ,GAAIvS,EAAQrB,mBAExG,CAIL,IAAK,GAHDnC,MACAiP,KAEK+G,EAAM,EAAGA,EAAMF,EAAQxnB,OAAQ0nB,IACtChW,EAAaA,EAAWtH,OAAOod,EAAQE,GAAK9M,gBAE9C,KAAK,GAAI+M,GAAM,EAAGA,EAAMF,EAAQznB,OAAQ2nB,IACtChH,EAAaA,EAAWvW,OAAOqd,EAAQE,GAAK/M,gBAG9CuK,GAAOpmB,EAAKmF,OAAOkf,gBAAgB1R,EAAYiP,EAAYzL,EAAQyD,WAAYzD,EAAQrB,eAGzF,MAAOsR,KAIPyC,EAAa,SAAoBC,GAEnC5C,EAAUllB,KAAKf,KAAM6oB,QAErB,IAAI9oB,GAAOC,KACPkX,IAEJlX,MAAK8oB,eAAiB,SAASlT,EAAS3Q,GACtCiS,EAActB,GAAW3Q,GAAQA,GAGnCjF,KAAKwmB,eAAiB,SAAS5Q,GAC7B,MAAOsB,GAActB,IAAYA,GAGnC5V,KAAK4mB,aAAe,SAAS1Q,EAASsR,EAAWpB,GAC/C,GAAIqB,IACF9N,cAGF,IAAIyM,EAAUC,SAAU,EAAM,CACxBnQ,GAA+F,YAAhE,mBAAZA,GAA0B,aAAc,EAAI8P,EAAAA,YAAkB9P,KACnFuR,EAAK5S,cAAgBqB,EAAQrB,cAC7B4S,EAAKlB,gBAAkBrQ,EAAQxE,SAE/B+V,EAAK5S,cAAgBuR,EAAUvR,cAC/B4S,EAAKlB,gBAAkBiB,EAGzB,KAAK,GAAIlB,GAAK,EAAGA,EAAKmB,EAAKlB,gBAAgBvlB,OAAQslB,IACjDmB,EAAK9N,WAAWjV,KAAK3E,EAAKymB,eAAeiB,EAAKlB,gBAAgBD,SAGhEmB,GAAK5S,cAAgBqB,GAAWkQ,EAAUvR,cAC1C4S,EAAK9N,WAAWjV,KAAK0hB,EAAUK,cAGjC,OAAOgB,IAGTznB,KAAK0nB,MAAQ,SAASf,GAWpB,GATA5mB,EAAKygB,MAAMxd,MAAQ,SAASyO,EAAO1B,GACjC,GAAIxQ,IACF0F,KAAMwM,EACN1B,IAAKA,EAGP,OADAhQ,GAAKwhB,QAAQ7c,KAAKnF,GACXQ,EAAKygB,OAGVmG,EAIF,IAAK,GAFDhN,GAAa1I,EAAM2I,cAAc+M,GAE5BpP,EAAK,EAAGA,EAAKoC,EAAW3Y,OAAQuW,IAAM,CAC7C,GAAIwR,GAAQpP,EAAWpC,GACnBhY,EAAIonB,EAAaoC,GACjBC,EAAWzpB,EAAEqW,SAAWrW,EAAE0F,IAC9B1F,GAAE0F,KAAO8jB,EAEThpB,EAAK+oB,eAAeE,EAAUD,GAE1BxpB,EAAE0pB,YACJlpB,EAAKygB,MAAMuI,GAAShpB,EAAKygB,MAAMwI,GAAYjpB,EAAK2mB,YAAYqC,GAAO,EAAOxpB,EAAEsV,eAE5E9U,EAAKiD,MAAMzD,GAOjB,MAFAQ,GAAK+mB,uBAAuBH,GAErB5mB,EAAKygB,OAGdxgB,KAAKgD,MAAQ,SAASyO,GACpB1R,EAAKygB,MAAM/O,EAAMxM,MAAQlF,EAAKygB,MAAM/O,EAAMmE,SAAWnE,EAAMxM,MAAQ,SAAS8K,GAC1E,MAAOhQ,GAAKygB,MAAMxd,MAAMyO,EAAMxM,KAAM8K,KAIxC/P,KAAKioB,aAAe,WAGlB,IAAK,GAFDvV,MAEK/R,EAAI,EAAGA,EAAIZ,EAAKmF,OAAOlE,OAAQL,IAAK,CAG3C,IAAK,GAFDqR,GAAMjS,EAAKmF,OAAOvE,GAClBuoB,GAAU,EACLrN,EAAI,EAAGA,EAAI9b,EAAKwhB,QAAQvgB,OAAQ6a,IAAK,CAC5C,GAAIxC,GAAStZ,EAAKwhB,QAAQ1F,EAC1B,IAAI7J,EAAIqH,EAAOpU,QAAUoU,EAAOtJ,IAAK,CACnCmZ,GAAU,CACV,QAGAA,GACFxW,EAAWhO,KAAK/D,GAIpB,MAAO+R,IAGT1S,KAAK6mB,QAAU,SAAS3Q,EAASyQ,EAAcN,GAK7C,IAAK,GAJD3T,GAAa3S,EAAKkoB,eAElB9B,KAEKG,EAAK,EAAGA,EAAKpQ,EAAQyD,WAAW3Y,OAAQslB,IAAM,CACrD,GAAI/W,GAAY2G,EAAQyD,WAAW2M,GAC/B6C,EAAUnT,EAAY5F,gBAAgBiW,KAAU,EAAOnQ,EAAQrB,gBAAkB8R,GAAgBA,EAAapX,GAAaoX,EAAapX,GAAWsF,cAAgBrR,QAAa0S,EAAQrB,cAE5LsR,GAAK5W,GAAa4Z,EAAQ5Z,EAAWmD,GAAc,MAAO3S,EAAKmF,OAAQwN,EAAY,MAGrF,MAAOyT,IAIX1mB,GAAOD,QAAU,SAAS0F,EAAQyhB,GAChC,MAAI1V,GAAM7I,QAAQlD,GACT,GAAI0jB,GAAW1jB,GAAQwiB,MAAMf,GAG7B,SAASgB,GACd,MAAO,IAAIR,GAAWjiB,GAAQwiB,MAAMC,OAM1CrM,oBAAqB,GACrBC,YAAa,GACbxH,cAAe,GACfqV,+BAAgC,IAElCC,IAAK,SAASnoB,EAASzB,EAAQD,GAE7BC,EAAOD,QAAU,WACf,GAAI8pB,KAEJtpB,MAAKqN,IAAM,SAAS9I,EAAKglB,GACvBD,EAAO/kB,GAAOglB,GAGhBvpB,KAAKgE,IAAM,SAASO,GAClB,MAAO+kB,GAAO/kB,UAKpBilB,IAAK,SAAStoB,EAASzB,EAAQD,GAE7BC,EAAOD,QAAU,WAKf,QAASiqB,KACP,MAAwB,cAAjBC,EAJT,GAAIA,GAAe,OACf9S,IAMJA,GAAa0G,QACXqM,IAAK,UACLC,KAAM,UACNC,MAAO,UACPC,OAAQ,UACRC,OAAQ,UACRC,KAAM,UACNC,MAAO,UACPC,MAAO,UACPC,IAAK,WAGPvT,EAAaqB,QAAU,SAASQ,GAK9B,MAJIA,KACFiR,EAAe9S,EAAawT,cAAc3R,IAGrCiR,GAGT9S,EAAawT,cAAgB,SAASC,GAEpC,MADAA,IAAaA,GAAa,IAAItnB,WAAWunB,OACpC1T,EAAa0G,OAAO+M,IAA4B,cAAdA,EAG9BA,EAFA,QAMXzT,EAAa2T,gBAAkB,WAC7B,OACEC,UAAW,qBAAuBd,EAClCe,MAAO,OAAShB,IAAgB,SAAW,MAI/C7S,EAAa8T,iBAAmB,WAC9B,OACEC,YAAa,WAAalB,IAAgB,0BAA4B,IACtEmB,UAAW,WAAanB,IAAgB,0BAA4B,IACpEoB,UAAWpB,IAAgB,0BAA4B,KAI3D7S,EAAakU,iBAAmB,WAC9B,OACEN,UAAW,OAASd,EAAe,oBAIvC9S,EAAamU,eAAiB,WAC5B,OACEN,MAAOhB,IAAgB,wBAA0B,cAIrD7S,EAAaoU,iBAAmB,SAASnV,GACvC,GAAIoV,IACFC,QAAS,4BAA8BrV,EAAU,UAAY,UAAY,QAAU6T,EACnFyB,OAAQ,aACRC,QAAS,GACTlN,OAAQ,oBACRgH,MAAO,GACPmG,KAAM,kBAWR,OARI5B,OACFwB,EAAQC,SAAW,SACnBD,EAAQE,QAAU,gBAClBF,EAAQG,QAAU,gBAClBH,EAAQ/M,QAAU,gBAClB+M,EAAQ/F,MAAQ,cAChB+F,EAAQI,MAAQ,eAEXJ,EAGT,IAAIha,GAAQ2F,EAAa3F,OACvBqa,SAAU,SAAkBC,GAC1B,GAAIxd,GAAS,4CAA4CtH,KAAK8kB,EAC9D,OAAOxd,IACL1N,EAAGmrB,SAASzd,EAAO,GAAI,IACvBnO,EAAG4rB,SAASzd,EAAO,GAAI,IACvBtK,EAAG+nB,SAASzd,EAAO,GAAI,KACrB,MAEN0d,UAAW,SAAmBC,GAC5B,GAAIC,GAAUD,EAAKE,MAAM,iEACzB,IAAID,EAAS,CACX,GAAIE,GAAQC,WAAWH,EAAQ,GAC/B,OAAO,IAAM1a,EAAM8a,mBAAmBJ,EAAQ,GAAIE,GAAS5a,EAAM8a,mBAAmBJ,EAAQ,GAAIE,GAAS5a,EAAM8a,mBAAmBJ,EAAQ,GAAIE,GAEhJ,MAAO,OAETG,WAAY,SAAoBN,GAC9B,GAAIC,GAAUD,EAAKE,MAAM,iEACzB,IAAID,EAAS,CACX,GAAIE,GAAQC,WAAWH,EAAQ,GAC/B,OAAO,IAAM1a,EAAM8a,mBAAmB,EAAGF,GAAS5a,EAAM8a,mBAAmBJ,EAAQ,GAAI,GAAK1a,EAAM8a,mBAAmBJ,EAAQ,GAAI,GAAK1a,EAAM8a,mBAAmBJ,EAAQ,GAAI,GAE7K,MAAO,OAETI,mBAAoB,SAA4BtkB,EAAOokB,GACrD,OAAQ3kB,KAAK+kB,MAAMJ,EAAQL,SAAS/jB,GAAuB,KAAb,EAAIokB,IAAgB,KAAK9oB,SAAS,IAAImpB,OAAO,EAAG,IAEhG1O,aAAc,SAAsB2O,EAAON,GAEzC,MADAM,GAAQlb,EAAMqa,SAASa,GAChB,IAAMlb,EAAM8a,mBAAmBI,EAAM9rB,EAAGwrB,GAAS5a,EAAM8a,mBAAmBI,EAAMvsB,EAAGisB,GAAS5a,EAAM8a,mBAAmBI,EAAM1oB,EAAGooB,IAIzI,OAAOjV,WAIXwV,IAAK,SAASlrB,EAASzB,EAAQD,GAE7B,GAAI+V,GAAMrU,EAAQ,aACd6a,EAAY7a,EAAQ,kBAExBzB,GAAOD,QAAU,SAAS6sB,GAExB,GAAItsB,GAAOC,IAGXA,MAAKuV,IAAM8W,EAGXrsB,KAAK6Z,WAEL7Z,KAAK8Y,gBAAkB,WACrB,MAAqD,YAA9C/Y,EAAKwV,IAAIhE,MAAMqB,OAAO8E,qBAAqC3X,EAAKwV,IAAIvQ,OAASuQ,EAAI1B,KAAKzC,SAAyD,SAA9CrR,EAAKwV,IAAIhE,MAAMqB,OAAO8E,qBAAkC3X,EAAKwV,IAAIvQ,OAASuQ,EAAI1B,KAAKxC,KAAOtR,EAAKwV,IAAIhE,MAAMqB,OAAOkG,gBAAkB,GAG5O9Y,KAAKssB,kBAAoB,WACvB,MAAOvsB,GAAK+Y,kBAAoB,GAGlC9Y,KAAKusB,qBAAuB,SAAS9a,EAAO0J,GAK1C,IAAK,GAFDqR,GAFAC,KACAC,GAAc,EAGT/rB,EAAI,EAAGA,EAAIX,KAAK6Z,QAAQ7Y,OAAQL,IACvC,IAAK6rB,EAAS,EAAGA,EAASxsB,KAAK6Z,QAAQlZ,GAAGK,OAAQwrB,IAAU,CAC1D,GAAItO,GAASle,KAAK6Z,QAAQlZ,GAAG6rB,EACzBtO,GAAOlZ,OAAS+W,EAAUoC,WAAWwO,WAAuB,MAATlb,GAAiByM,EAAOjM,IAAIR,MAAMxM,MAAQwM,EAAMxM,OACrGwnB,EAAS/nB,KAAKwZ,GACdwO,EAAcA,GAAexO,EAAO0O,UAS1C,GAJiBppB,SAAb2X,IACFuR,GAAevR,GAGbsR,EAASzrB,OAAS,EAAG,CACvB,IAAKwrB,EAAS,EAAGA,EAASC,EAASzrB,OAAQwrB,IACrCE,EACFD,EAASD,GAAQK,WAEjBJ,EAASD,GAAQM,QAGrB,QAAO,EAGT,OAAO,MAKXvR,YAAa,GACboD,kBAAmB,KAErBoO,IAAK,SAAS7rB,EAASzB,EAAQD,GAE7B,GAAI+V,GAAMrU,EAAQ,aACd8rB,EAAQ9rB,EAAQ,gBAChB6a,EAAY7a,EAAQ,kBAExBzB,GAAOD,QAAU,SAASytB,GAkCxB,QAASC,KAIP,QAASC,GAAaC,GAChBA,GAAWA,EAAQnb,IAAIR,MAAMkD,SAASkB,SACxCwX,EAAa3oB,KAAK0oB,EAAQE,gBAJ9B,GAAID,KAQJ,IAAIttB,EAAK8Z,QAAQ7Y,OAAS,EAAG,CAE3B,GAAIusB,GAAQxtB,EAAK8Z,QAAQ9Z,EAAK8Z,QAAQ7Y,OAAS,GAC3Ckd,EAASqP,EAAM,EAEnB,IAAIrP,EAAQ,CAIV,IAAK,GAHDsP,GACFC,EAAUvP,EAAOtK,OAEVjT,EAAI,EAAGA,EAAI4sB,EAAMvsB,OAAQL,IAAK,CAKrC,GAJAud,EAASqP,EAAM5sB,GACf6sB,EAAatP,EAAOtK,OAGhB4Z,GAAcC,EAAS,CAEzB,GADAN,EAAaM,GACK,MAAdD,EAKF,IAFA,GAAIE,GAAWF,EAAW5Z,OACtB+Z,EAAeF,EAAUA,EAAQ7Z,OAAS,KACvC8Z,GAAYC,GAAgC,MAAhBA,GACjCR,EAAaQ,GACbD,EAAWA,EAAWA,EAAS9Z,OAAS,KACxC+Z,EAAeA,EAAeA,EAAa/Z,OAAS,IAIxD6Z,GAAUD,EAMZ,GAHAH,EAAa3oB,KAAK6oB,EAAM5sB,IAGpBA,IAAM4sB,EAAMvsB,OAAS,EACvB,KAAkB,MAAXysB,GACLN,EAAaM,GACbA,EAAUA,EAAQ7Z,OAKpB7T,EAAKwV,IAAIhE,MAAMqB,OAAO+E,WAAWvB,gBAAkBrW,EAAKwV,IAAI1D,gBAAkB,GAEhFwb,EAAa3oB,KAAK3E,EAAK8Z,QAAQ,GAAG9Z,EAAK8Z,QAAQ,GAAG7Y,OAAS,KAMjE,GAAIjB,EAAKusB,oBAAqB,CAC5BvsB,EAAKstB,eACL,KAAK,GAAIO,GAAY,EAAGA,EAAYP,EAAarsB,OAAQ4sB,IACvD,IAAK,GAAIC,GAAiB,EAAGA,EAAiB9tB,EAAK+Y,kBAAmB+U,IACpE9tB,EAAKstB,aAAa3oB,KAAK,GAAIqX,GAAU+R,WAAW/tB,EAAKwV,IAAIhE,MAAMqB,OAAOG,WAAW8a,GAAiBR,EAAaO,IAGnH7tB,GAAK8Z,QAAQnV,KAAK3E,EAAKstB,kBAEvBttB,GAAKstB,aAAeA,EAOxB,QAASU,GAAU3b,EAAOyH,GAOxB,IAAK,GALD0T,GAAQ1T,EAAQA,EAAQ7Y,OAAS,GACjCqS,EAAUtT,EAAKwV,IAAIrD,KAAKE,QAAUA,GAAS,MAAQyH,EAAQ9Z,EAAKwV,IAAIrD,KAAKE,MAAQA,EAAQ,GAAGiH,OAAO,SAASsJ,GAC9G,MAAOA,GAAE3d,OAAS+W,EAAUoC,WAAWwO,YAGhCqB,EAAK,EAAGA,EAAK3a,EAAQrS,OAAQgtB,IAKpC,IAAK,GAHDpa,GAASP,EAAQ2a,GACjBC,EAAsB,MAAVra,EAAiB7T,EAAKwV,IAAIrD,KAAO0B,EAAO3B,IAE/Cic,EAAK,EAAGA,EAAKD,EAAUzb,OAAOxR,OAAQktB,IAAM,CAEnD,GAGIZ,GAHAhb,EAAW2b,EAAUzb,OAAO0b,GAC5BrL,EAASoL,EAAU1b,WAAWD,EAIhCgb,IADGzK,EAAOlH,QAAUkH,EAAOpR,MAAMkD,SAASkB,QACzB,GAAIkG,GAAUmC,OAAO3I,EAAI1B,KAAKzC,QAAS2K,EAAUoC,WAAWwO,UAAW9J,EAAQjP,EAAQ7T,EAAK+Y,mBAE5F,IAGnB,IAAIoF,GAAS,GAAInC,GAAUmC,OAAO3I,EAAI1B,KAAKzC,QAAS,KAAMyR,EAAQjP,EAAQ7T,EAAK+Y,kBAAmBwU,EAClGC,GAAM7oB,KAAKwZ,IAEN2E,EAAOlH,QAAUkH,EAAOpR,MAAMkD,SAASkB,SAC1C0X,EAAM7oB,KAAK4oB,IAxInB,GAAIvtB,GAAOC,IAEXgtB,GAAMjsB,KAAKhB,EAAMktB,GAEjBjtB,KAAKqtB,aAAe,KAEpBrtB,KAAKmuB,MAAQ,WAGX,GAFApuB,EAAK8Z,WAEW,MAAZ9Z,EAAKwV,IAAa,CAEpB,GAAIxV,EAAKwV,IAAIrD,KAAKM,OAAOxR,OAAS,GAAKjB,EAAKwV,IAAIhE,MAAMqB,OAAO+E,WAAWvB,eAAgB,CACtF,IAAK,GAAIhE,GAAQrS,EAAKwV,IAAIrD,KAAKE,MAAOA,EAAQ,EAAGA,IAC/CrS,EAAK8Z,QAAQnV,SACbqpB,EAAU3b,EAAOrS,EAAK8Z,QAGpB9Z,GAAKwV,IAAIhE,MAAMqB,OAAO+E,WAAWvB,iBAElCrW,EAAK8Z,QAAQ,GAAK9Z,EAAK8Z,QAAQ,QAAUnV,KAAK,GAAIqX,GAAUmC,OAAO3I,EAAI1B,KAAKzC,QAAS2K,EAAUoC,WAAWiQ,YAAaruB,EAAKwV,IAAIrD,KAAM,KAAMnS,EAAK+Y,oBAI1H,IAAxB/Y,EAAK8Z,QAAQ7Y,QACfjB,EAAK8Z,QAAQnV,MAAM,GAAIqX,GAAUmC,OAAO3I,EAAI1B,KAAKzC,QAAS2K,EAAUoC,WAAWkQ,MAAOtuB,EAAKwV,IAAIrD,KAAM,KAAMnS,EAAK+Y,qBAIlHoU,MA6EJltB,KAAKmuB,WAuCP5S,YAAa,GACb+S,eAAgB,GAChB3P,kBAAmB,KAErB4P,IAAK,SAASrtB,EAASzB,EAAQD,GA+D7B,QAASgvB,GAAStY,GAEhBlW,KAAKiV,QAAUiB,EAAQjB,QAEvBjV,KAAKgF,KAAOkR,EAAQlR,KAEpBhF,KAAKyuB,SAAWvY,EAAQuY,SAExBzuB,KAAKyH,MAAQyO,EAAQzO,MAErBzH,KAAK4sB,UAAW,EAEhB5sB,KAAK0uB,SAAWxY,EAAQwY,SAExB1uB,KAAKqe,MAAQnI,EAAQmI,OAAS,WAC5B,MAAO,IAGTre,KAAKse,MAAQpI,EAAQoI,OAAS,WAC5B,MAAO,IAGTte,KAAK6V,QAAUK,EAAQyY,WAAa,WAClC,OAAO,GAGT3uB,KAAKuE,IAAMvE,KAAKiV,QAAUjV,KAAKgF,KAAOhF,KAAKyH,MAC3CzH,KAAK4uB,SAAW,WACd,MAAOrF,GAAMvlB,IAAIhE,KAAKuE,MAExBvE,KAAK6uB,SAAW,SAAS1T,GACvBoO,EAAMlc,IAAIrN,KAAKuE,IAAK4W,IA5FxB,GAAI5F,GAAMrU,EAAQ,aAChBqoB,EAAQ,IAAIroB,EAAQ,gBAElBid,EAAa1e,EAAOD,QAAQ2e,YAC9B2Q,MAAO,EACP1Q,YAAa,EACb2Q,WAAY,EACZC,aAAc,EACdX,MAAO,EACPY,QAAS,EACTtC,UAAW,EACXyB,YAAa,EACbc,eAAgB,SAAwBC,EAAYla,GAClD,GAAIyZ,GAAWzZ,IAAYM,EAAI1B,KAAKxC,KAAO,aAAe4D,IAAYM,EAAI1B,KAAKzC,QAAU,aAAe,EACxG,QAAQ+d,GACN,IAAKhR,GAAW2Q,MAChB,IAAK3Q,GAAW6Q,aACdN,EAAW,OACX,MACF,KAAKvQ,GAAWkQ,MACdK,EAAW,UAAYA,CACvB,MACF,KAAKvQ,GAAW8Q,QACdP,EAAW,UAAYA,CACvB,MACF,KAAKvQ,GAAWwO,UACd+B,EAAW,oBAAsBA,CACjC,MACF,KAAKvQ,GAAWiQ,YACdM,EAAW,oBAAsBA,EAIrC,MAAOA,IAETU,aAAc,SAAsBC,EAAeC,GACjD,GAAIZ,GAAW,EACf,QAAQW,GACN,IAAKlR,GAAWiQ,YACdM,EAAW,SACX,MACF,KAAKvQ,GAAWwO,UAEZ+B,EADEY,IAAkBnR,EAAWiQ,YACpB,UAEA,SAEb,MACF,SAEIM,EADEY,IAAkBnR,EAAWiQ,YACpB,UACFkB,IAAkBnR,EAAWwO,UAC3B,UAEA,GAGjB,MAAO+B,IAuCXjvB,GAAOD,QAAQ0e,OAAS,SAASjJ,EAASka,EAAYld,EAAK2B,EAAQ2b,EAAiBjC,GAmElF,QAASkC,KACP,GAAIzvB,EAAKiF,OAASmZ,EAAWwO,UAAW,CAEtC,IADA,GAAI8C,GAAU1vB,EAAK6T,OACD,MAAX6b,GAAiB,CACtB,GAAIA,EAAQnC,iBAAmBmC,EAAQnC,eAAeV,SACpD,OAAO,CAET6C,GAAUA,EAAQ7b,OAEpB,OAAO,EAGP,GAAI8b,GAAa3vB,EAAKkS,IAAI0B,QAAU5T,EAAKkS,IAAI0J,SAAW5b,EAAKkS,IAAIR,MAAMkD,SAASkB,SAAW9V,EAAKutB,eAAeV,QAC/G,KAAK8C,EACH,OAAO,CAIT,KADA,GAAIC,GAAM5vB,EAAK6T,OACD,MAAP+b,KAAiBA,EAAI1d,IAAIR,MAAMkD,SAASkB,SAAiC,MAAtB8Z,EAAIrC,gBAA0BqC,EAAIrC,eAAeV,WACzG+C,EAAMA,EAAI/b,MAEZ,OAAc,OAAP+b,GAAqC,MAAtBA,EAAIrC,eAAyBoC,EAAaC,EAAIrC,eAAeV,SAIvF,QAASgD,GAASC,GAChB,GACIC,GADAC,EAAQ,EAERC,GAAS,CAEb,IAAIC,GAAaJ,GAAoB9vB,EAAK8V,UAAW,CACnD,GAAK9V,EAAKkS,IAAI0J,OAoBZ,MAAO4T,EAlBP,IAAIxvB,EAAKmwB,WAAWlvB,OAAS,EAC3B,IAAK,GAAIL,GAAI,EAAGA,EAAIZ,EAAKmwB,WAAWlvB,OAAQL,IAAK,CAC/C,GAAIwvB,GAAYpwB,EAAKmwB,WAAWvvB,EAE3BwvB,GAAUle,IAAI0J,OAOjBoU,GAASR,GANTO,EAAUG,EAAYE,EAAU7R,QAAU6R,EAAU9R,QACpD0R,GAASD,EACC,IAANnvB,GAAuB,IAAZmvB,IACbE,GAAS,QAOfD,IAASR,CAKb,OAAOQ,IAASC,EAAS,EAAI,GAE/B,MAAOD,GAxHT,GAEI1R,GACAC,EACA7W,EAJA1H,EAAOC,KAMPiwB,EAAYhb,IAAYM,EAAI1B,KAAKxC,IAGrC,QAFA8d,EAAaA,IAA6B,IAAdld,EAAIG,MAAc+L,EAAWkQ,MAAQlQ,EAAW8Q,UAG1E,IAAK9Q,GAAWiQ,YACd3mB,EAAQ,cACR4W,EAAQ4R,EAAYhe,EAAIG,MAAQ,GAAK,EAAImd,EACzCjR,EAAQ2R,EAAYV,EAAkBtd,EAAIG,MAAQ,GAAK,CACvD,MACF,KAAK+L,GAAWwO,UACdllB,EAAQwK,EAAIxK,MACZ4W,EAAQ4R,EAAYhe,EAAIG,MAAQmd,EAChCjR,EAAQ2R,EAAYV,EAAkBtd,EAAIG,KAC1C,MACF,SACE3K,EAAQwK,EAAIxK,MACZ4W,EAAQ4R,EAAY,EAAI,KACxB3R,EAAQ2R,EAAY,KAAO,EAI/BzB,EAASztB,KAAKf,MACZiV,QAASA,EACTjQ,KAAMmqB,EACNV,SAAUwB,EAAY,2BAA6B,8BACnDxoB,MAAOA,EACPinB,SAAUvQ,EAAW+Q,eAAeC,EAAYla,GAChDoJ,MAAgB,MAATA,EAAgB,WACrB,MAAOA,IACLuR,EACJtR,MAAgB,MAATA,EAAgB,WACrB,MAAOA,IACLsR,EACJjB,UAAWa,IAGbxvB,KAAKstB,eAAiBA,EACtBttB,KAAK4T,OAASA,EACd5T,KAAKkwB,cACLlwB,KAAKiS,IAAMA,EACXjS,KAAK4sB,SAAW5sB,KAAK4uB,WAAa5uB,KAAK4uB,WAAWhC,SAAWuC,IAAehR,EAAWwO,YAAc1a,EAAIR,MAAMkD,SAASoB,UAExH/V,KAAK8sB,OAAS,WACZ/sB,EAAK6sB,UAAW,EAChB5sB,KAAK6uB,UACHjC,SAAU7sB,EAAK6sB,YAGnB5sB,KAAK6sB,SAAW,WACd9sB,EAAK6sB,UAAW,EAChB5sB,KAAK6uB,UACHjC,SAAU7sB,EAAK6sB,YAIL,MAAVhZ,GACFA,EAAOsc,WAAWxrB,KAAK1E,OA8D3BP,EAAOD,QAAQsuB,WAAa,SAASve,EAAWqE,GAE9C4a,EAASztB,KAAKf,MACZiV,QAAS,KACTjQ,KAAMmZ,EAAWC,YACjBqQ,SAAU,2BACVhnB,MAAO8H,EACPmf,SAAUvQ,EAAW+Q,eAAetb,EAAO5O,KAAM4O,EAAOqB,SACxD0Z,UAAW/a,EAAOiC,UAGpB7V,KAAK4T,OAASA,GAGhBnU,EAAOD,QAAQkf,SAAW,SAASnN,EAAOod,EAAWyB,EAASC,GAE5DrwB,KAAKswB,aAAeF,EAAQprB,OAASmZ,EAAWC,YAAcgS,EAAQxc,OAAO3B,IAAMme,EAAQne,IAC3FjS,KAAKuwB,gBAAkBF,EAAQrrB,OAASmZ,EAAWC,YAAciS,EAAQzc,OAAO3B,IAAMoe,EAAQpe,IAC9FjS,KAAKwwB,QAAUJ,EAAQprB,OAASmZ,EAAWC,YAAcgS,EAAQxc,OAAO5O,KAAOorB,EAAQprB,KACvFhF,KAAKywB,QAAUJ,EAAQrrB,OAASmZ,EAAWC,YAAciS,EAAQzc,OAAO5O,KAAOqrB,EAAQrrB,KAEvFhF,KAAKuP,UAAYgC,EAAMqB,OAAOkG,gBAAkB,EAAyC,SAArCvH,EAAMqB,OAAO8E,oBAAiC0Y,EAAQ3oB,MAAQ4oB,EAAQ5oB,MAAQ8J,EAAMqB,OAAOG,WAAW,GAE1Jyb,EAASztB,KAAKf,MACZiV,QAAS,KACTjQ,KAAMmZ,EAAW4Q,WACjBN,SAAU,0BACVhnB,MAAO8J,EAAMyS,QAAQhkB,KAAKuP,UAAYvP,KAAKuP,UAAUtK,KAAO,KAAMjF,KAAKswB,aAActwB,KAAKuwB,iBAC1F7B,SAAU,QAAUvQ,EAAWiR,aAAapvB,KAAKwwB,QAASxwB,KAAKywB,SAC/D9B,UAAWA,KAIflvB,EAAOD,QAAQkxB,WAAa,SAASjf,GAEnC+c,EAASztB,KAAKf,MACZiV,QAAS,KACTjQ,KAAMmZ,EAAW6Q,aACjBP,SAAU,4BACVhnB,MAAOgK,EACPid,SAAUvQ,EAAW+Q,eAAe/Q,EAAW6Q,iBAInDvvB,EAAOD,QAAQmxB,UAAY,SAASC,EAAQC,GAE1CrC,EAASztB,KAAKf,MACZiV,QAAS,KACTjQ,KAAMmZ,EAAW2Q,MACjBL,SAAU,sBACVhnB,MAAO,KACPinB,SAAUvQ,EAAW+Q,eAAe/Q,EAAW2Q,OAC/CzQ,MAAO,WACL,MAAOuS,IAETtS,MAAO,WACL,MAAOuS,SAMbtV,YAAa,GACbuV,cAAe,KAEjBC,IAAK,SAAS7vB,EAASzB,EAAQD,GAE7B,GAAIwxB,GAAW9vB,EAAQ,aACrB+vB,EAAQ/vB,EAAQ,SAChBqU,EAAMrU,EAAQ,aACdqQ,EAAQrQ,EAAQ,eAChB6a,EAAY7a,EAAQ,mBACpBgwB,EAAShwB,EAAQ,iBACjBiwB,EAASjwB,EAAQ,iBACjBkwB,EAASlwB,EAAQ,gCACjBmwB,EAAanwB,EAAQ,oCACrBowB,EAAapwB,EAAQ,oCACrBqwB,EAAOrwB,EAAQ,6BAEjBzB,GAAOD,QAAU,SAASoT,GA+IxB,QAAS4e,KACPzxB,EAAKwR,MAAMmU,UAAUnU,EAAM8P,cAAeoQ,GAC1C1xB,EAAKwR,MAAMmU,UAAUnU,EAAM2R,mBAAoBuO,GAC/C1xB,EAAKwR,MAAMmU,UAAUnU,EAAM8R,qBAAsBoO,GAEjDC,IAGF,QAASA,KA6BP,QAASC,GAAkBC,EAAYC,GACrC,MAAO,YACL,MAAOD,MAAgBC,KA5B3B9xB,EAAK4Y,KAAO,GAAIuY,GAAOnxB,EAAKwR,MAAMoH,MAClC5Y,EAAK6Y,QAAU,GAAIuY,GAAOpxB,EAAKwR,MAAMqH,QAErC,IAAIkZ,GAAc/xB,EAAK4Y,KAAKkB,QACxBkY,EAAqBhyB,EAAK6Y,QAAQyU,YAGtCttB,GAAK4d,QACHG,YACElG,OAAQ7X,EAAKwR,MAAMoH,KAAKjH,OAAO1Q,QAAU,IAAgD,SAA1CjB,EAAKwR,MAAMqB,OAAO8E,qBAAkC3X,EAAKwR,MAAMqB,OAAOkG,gBAAkB,EAAI,EAAI,GAC/IjB,OAAQia,EAAY9wB,QAEtB+c,eACEnG,MAAO7X,EAAK6Y,QAAQyU,aAAarsB,OACjC6W,QAAS9X,EAAKwR,MAAMqH,QAAQlH,OAAO1Q,QAAU,IAAgD,YAA1CjB,EAAKwR,MAAMqB,OAAO8E,qBAAqC3X,EAAKwR,MAAMqB,OAAOkG,gBAAkB,EAAI,EAAI,KAI1J/Y,EAAK4d,OAAOC,YACVhG,MAAO7X,EAAK4d,OAAOG,WAAWlG,MAAQ7X,EAAK4d,OAAOI,cAAcnG,MAChEC,OAAQ9X,EAAK4d,OAAOG,WAAWjG,OAAS9X,EAAK4d,OAAOI,cAAclG,OAGpE,IACIma,GADAvT,IAQJ,IAAIqT,EAAY9wB,OAAS,EACvB,IAAK,GAAI8gB,GAAK,EAAGA,EAAKgQ,EAAY9wB,OAAQ8gB,IAAM,CAC9C,GAAImQ,GAAgBH,EAAYhQ,GAC5BoQ,EAAgBD,EAAcA,EAAcjxB,OAAS,EAEzDgxB,KACA,KAAK,GAAIG,GAAiB,EAAGA,EAAiBJ,EAAmB/wB,OAAQmxB,IAAkB,CACzF,GAAIC,GAAmBL,EAAmBI,GACtCxD,EAAYgD,EAAkBO,EAAcrc,QAASuc,EAAiBvc,QAC1Emc,GAAIG,GAAkB,GAAIpW,GAAU2C,SAAS3e,EAAKwR,MAAOod,EAAWuD,EAAeE,GAErF3T,EAAS/Z,KAAKstB,GAGlBjyB,EAAK0e,SAAWA,EAGlB,QAASgT,KACPC,IACA3xB,EAAKsyB,SA1MP,GACIC,GACAC,EAFAxyB,EAAOC,KAGPmrB,EAASiG,EAAO3oB,QAGpBzI,MAAKuR,MAAQ,GAAIA,GAAMqB,GAGvB5S,KAAK2Y,KAAO,KAEZ3Y,KAAK4Y,QAAU,KAGf5Y,KAAKye,YAELze,KAAK2d,QACHG,YAEElG,MAAO,KAEPC,OAAQ,MAEVkG,eAEEnG,MAAO,KAEPC,OAAQ,MAEV+F,YAEEhG,MAAO,KAEPC,OAAQ,OAIZ7X,KAAKwyB,UAAY,SAASC,GACxBA,EAAK3F,SACL9sB,KAAKqyB,UAGPryB,KAAK0yB,YAAc,SAASD,GAC1BA,EAAKnF,eAAeT,WACpB7sB,KAAKqyB,UAGPryB,KAAKkT,KAAO,SAAS+B,EAASxD,GAC5B1R,EAAKwR,MAAM2B,KAAK+B,EAASxD,IAG3BzR,KAAKojB,YAAc,SAASvK,GAC1B9Y,EAAKwR,MAAM6R,YAAYvK,IAGzB7Y,KAAKmjB,YAAc,SAAS9L,EAAW2H,EAAUC,EAAMC,EAAaC,GAClEpf,EAAKwR,MAAM4R,YAAY9L,EAAW2H,EAAUC,EAAMC,EAAaC,IAGjEnf,KAAKqa,UAAY,SAAS5I,EAAOkhB,EAAYC,EAAYpY,GACvDza,EAAKwR,MAAM8I,UAAU5I,EAAOkhB,EAAYC,EAAYpY,IAGtDxa,KAAKusB,qBAAuB,SAAStX,EAASxD,EAAO0J,GACnD,GAAI0X,GAAc5d,IAAYM,EAAI1B,KAAKxC,KAAOtR,EAAK4Y,KAAO1D,IAAYM,EAAI1B,KAAKzC,QAAUrR,EAAK6Y,QAAU,IAEpGia,IAAeA,EAAYtG,qBAAqB9a,EAAO0J,IACzDpb,EAAKsyB,UAITryB,KAAKib,gBAAkB,SAAShG,GAC9BlV,EAAKwR,MAAM0J,gBAAgBhG,IAG7BjV,KAAK+a,oBAAsB,SAAS9F,GAClC,MAAOlV,GAAKwR,MAAMwJ,oBAAoB9F,IAGxCjV,KAAKob,iBAAmB,SAASnG,GAC/BlV,EAAKwR,MAAM6J,iBAAiBnG,IAG9BjV,KAAKqb,oBAAsB,SAASpG,GAClC,MAAOlV,GAAKwR,MAAM8J,oBAAoBpG,IAGxCjV,KAAK8yB,YAAc,SAASra,GAC1B8Z,EAAeO,YAAYra,IAG7BzY,KAAKqyB,OAAS,SAASU,GAErB,GADAT,EAAgBS,GAAWT,EACR,CACjB,GAAIU,GAAoB/B,EAAMgC,cAAclzB,EAAKwR,MAAMqB,OAAOoF,UAAUtB,QAAU2a,EAAaC,GAC3F4B,EAAaF,GACf7W,YAAapc,GAGfwyB,GAAiBvB,EAASqB,OAAOa,EAAYZ,KAIjDtyB,KAAKmzB,UAAY,SAASzU,EAAU0U,GAClC,GAAI1U,EAAU,CACZ,GAOIwG,GAPAvD,EAAajD,EAAS6R,gBAAgB3U,gBACtC/C,EAAO6F,EAAS4R,aAAa1U,gBAAgBvC,OAAO,SAAS/P,GAC/D,MAAOqY,GAAWtJ,QAAQ/O,IAAU,IACnCmK,IAAI,SAASnK,GACd,MAAOvJ,GAAKwR,MAAMK,mBAAmBtI,IAKrC4b,GADExG,EAAS8R,UAAYzU,EAAUoC,WAAWiQ,aAAe1P,EAAS+R,UAAY1U,EAAUoC,WAAWiQ,YAC7F,cAEJ1P,EAAS8R,UAAYzU,EAAUoC,WAAWiQ,YACpC1P,EAAS6R,gBAAgB9oB,MAAQ,gBAChCiX,EAAS+R,UAAY1U,EAAUoC,WAAWiQ,YAC3C1P,EAAS4R,aAAa7oB,MAAQ,gBAE9BiX,EAAS4R,aAAa7oB,MAAQ,IAAMiX,EAAS6R,gBAAgB9oB,MAIzE0jB,EAAOkI,MACLnO,MAAOA,EACPoO,MACEtuB,KAAMusB,EACNgC,OACE1Z,QAAS9Z,EAAKwR,MAAMqB,OAAO6G,6BAC3BZ,KAAMA,EACNd,MAAOhY,EAAKwR,MAAMqB,OAAOmF,QAG7BA,MAAOhY,EAAKwR,MAAMqB,OAAOmF,MACzByb,MAAOjB,EAAekB,cAqE5BjC,OAIFjW,YAAa,GACbmF,cAAe,GACfgT,gBAAiB,GACjB/U,kBAAmB,GACnBgV,gBAAiB,GACjBC,+BAAgC,GAChCC,6BAA8B,GAC9BC,mCAAoC,GACpCC,mCAAoC,GACpCC,MAAS,QACTC,YAAa,cAEfC,IAAK,SAAShzB,EAASzB,EAAQD,GAE7B,GAAI+V,GAAMrU,EAAQ,aACd8rB,EAAQ9rB,EAAQ,gBAChB6a,EAAY7a,EAAQ,kBAExBzB,GAAOD,QAAU,SAAS20B,GA0CxB,QAASC,GAAe7G,EAAO3Z,GAC7B,GAAI7T,EAAKusB,oBAEP,IAAK,GADD+H,GAAiB9G,EAAMA,EAAMvsB,OAAS,GACjC6sB,EAAiB,EAAGA,EAAiB9tB,EAAK+Y,kBAAmB+U,IACpEwG,EAAe3vB,KAAK,GAAIqX,GAAU+R,WAAW/tB,EAAKwV,IAAIhE,MAAMqB,OAAOG,WAAW8a,GAAiBja,IAC3Fia,EAAiB9tB,EAAK+Y,kBAAoB,GAC5CyU,EAAM7oB,KAAK2vB,MAOnB,QAAStG,GAAUR,EAAO+G,GACxB,GAAIA,EAAU9hB,OAAOxR,OAAS,EAM5B,IAAK,GAJDuzB,GAAgBhH,EAAMvsB,OAAS,EAC/BqzB,EAAiB9G,EAAMgH,GACvB3gB,EAASygB,EAAerzB,OAAS,EAAIqzB,EAAeA,EAAerzB,OAAS,GAAK,KAE5EwzB,EAAW,EAAGA,EAAWF,EAAU9hB,OAAOxR,OAAQwzB,IAAY,CACrE,GAGIC,GAHAniB,EAAWgiB,EAAU9hB,OAAOgiB,GAC5B3R,EAASyR,EAAU/hB,WAAWD,EAIhCmiB,IADG5R,EAAOlH,QAAUkH,EAAOpR,MAAMkD,SAASkB,QACzB,GAAIkG,GAAUmC,OAAO3I,EAAI1B,KAAKxC,KAAM0K,EAAUoC,WAAWwO,UAAW9J,EAAQjP,EAAQ7T,EAAK+Y,mBAEzF,IAGnB,IAAI4b,GAAY,GAAI3Y,GAAUmC,OAAO3I,EAAI1B,KAAKxC,KAAM,KAAMwR,EAAQjP,EAAQ7T,EAAK+Y,kBAAmB2b,EAE9FD,GAAW,GACbjH,EAAM7oB,KAAK2vB,MAGbA,EAAe3vB,KAAKgwB,GAEf7R,EAAOlH,OAUVyY,EAAe7G,EAAOmH,IATtB3G,EAAUR,EAAO1K,GACbA,EAAOpR,MAAMkD,SAASkB,UACxB0X,EAAM7oB,MAAM+vB,IAGZL,EAAe7G,EAAOkH,MArFhC,GAAI10B,GAAOC,IAEXgtB,GAAMjsB,KAAKhB,EAAMo0B,GAEjBn0B,KAAKmuB,MAAQ,WACX,GACIwG,GADA9a,IAGJ,IAAgB,MAAZ9Z,EAAKwV,IAAa,CACpB,IAAIxV,EAAKwV,IAAIrD,KAAKM,OAAOxR,OAAS,GAAKjB,EAAKwV,IAAIhE,MAAMqB,OAAO+E,WAAWxB,eACtE0D,EAAQnV,SAGRqpB,EAAUlU,EAAS9Z,EAAKwV,IAAIrD,MAExBnS,EAAKwV,IAAIhE,MAAMqB,OAAO+E,WAAWxB,aAAa,CAChD,GAAIye,GAAU/a,EAAQA,EAAQ7Y,OAAS,EACvC2zB,GAAmB,GAAI5Y,GAAUmC,OAAO3I,EAAI1B,KAAKxC,KAAM0K,EAAUoC,WAAWiQ,YAAaruB,EAAKwV,IAAIrD,KAAM,KAAMnS,EAAK+Y,mBAC5F,IAAnB8b,EAAQ5zB,OACV4zB,EAAQlwB,KAAKiwB,GAEb9a,EAAQnV,MAAMiwB,IAKG,IAAnB9a,EAAQ7Y,QACV6Y,EAAQnV,MAAMiwB,EAAmB,GAAI5Y,GAAUmC,OAAO3I,EAAI1B,KAAKxC,KAAM0K,EAAUoC,WAAWkQ,MAAOtuB,EAAKwV,IAAIrD,KAAM,KAAMnS,EAAK+Y,qBAGzH6b,GAEFP,EAAeva,EAAS8a,GAG5B50B,EAAK8Z,QAAUA,GAGjB7Z,KAAKmuB,WA2DP5S,YAAa,GACb+S,eAAgB,GAChB3P,kBAAmB,KAErBkW,IAAK,SAAS3zB,EAASzB,EAAQD,GAkE7B,QAASs1B,GAAqB/kB,GAC5B,MAAOA,GAAIglB,QAAQC,EAAiB,SAASC,EAAGC,GAC9C,MAAOA,GAAGC,gBAlEd11B,EAAOD,QAAQ41B,YAAc,SAASrC,EAASsC,GAC7C,GAAItC,GAAWsC,EACb,KAAOtC,EAAQuC,UAAUjd,QAAQgd,IAAc,GAC7CtC,EAAQuC,UAAYvC,EAAQuC,UAAUP,QAAQM,EAAW,KAK/D51B,EAAOD,QAAQ+1B,SAAW,SAASxC,EAASsC,GACtCtC,GAAWsC,GACTtC,EAAQuC,UAAUjd,QAAQgd,GAAa,IACzCtC,EAAQuC,WAAa,IAAMD,IAKjC51B,EAAOD,QAAQg2B,UAAY,SAASzC,GAClC,GAAIA,EAAS,CACX,GAAI0C,GAAO1C,EAAQ2C,uBACnB,QACEC,EAAGF,EAAKG,KACRC,EAAGJ,EAAKK,KAGZ,OACEH,EAAG,EACHE,EAAG,IAIPp2B,EAAOD,QAAQu2B,gBAAkB,SAAShD,GACxC,GAAIA,EAAS,CACX,GAAI0C,GAAO1C,EAAQ2C,wBACfM,EAAmC,MAAtBjD,EAAQkD,WAAqBlD,EAAQkD,WAAWP,yBAC/DI,IAAK,EACLF,KAAM,EAER,QACED,EAAGF,EAAKG,KAAOI,EAAWJ,KAC1BC,EAAGJ,EAAKK,IAAME,EAAWF,KAG7B,OACEH,EAAG,EACHE,EAAG,IAIPp2B,EAAOD,QAAQ02B,QAAU,SAASnD,GAChC,GAAIA,EAAS,CACX,GAAI0C,GAAO1C,EAAQ2C,uBACnB,QACE9d,MAAO6d,EAAKU,MAAQV,EAAKG,KACzB/d,OAAQ4d,EAAKW,OAASX,EAAKK,KAG/B,OACEle,MAAO,EACPC,OAAQ,GAIZ,IAAImd,GAAkB,SAQtBv1B,GAAOD,QAAQ62B,SAAW,SAAStD,EAASuD,EAAYC,GACtD,GAAI/jB,KACJ,IAAIugB,GAAWuD,EAAY,CACzB,GAAIE,GAAWj3B,EAAGk3B,CACd1D,GAAQ2D,cACVF,EAAYzD,EAAQ2D,aACpBn3B,EAAI,SAAWo3B,GACb,MAAOH,GAAUG,IAEnBF,GAAU,GACD52B,QAAUA,OAAO+2B,mBAC1BJ,EAAY32B,OAAO+2B,iBAAiB7D,EAAS,MAC7CxzB,EAAI,SAAWo3B,GACb,MAAOH,GAAUK,iBAAiBF,IAItC,KAAK,GAAIh2B,GAAI,EAAGA,EAAI21B,EAAWt1B,OAAQL,IAAK,CAC1C,GAAIoP,GAAMxQ,EAAEk3B,EAAU3B,EAAqBwB,EAAW31B,IAAM21B,EAAW31B,GACvE6R,GAAO9N,KAAKqL,GAAOwmB,KAAe,EAAOrvB,KAAK4vB,KAAKhL,WAAW/b,IAAQA,IAG1E,MAAOyC,IAGT/S,EAAOD,QAAQu3B,UAAY,SAAShE,GAClC,MAAIA,GAC+B,SAA1BA,EAAQS,MAAMwD,UAA+C,IAAxBjE,EAAQkE,aAA8C,IAAzBlE,EAAQmE,eAE5E,GAGTz3B,EAAOD,QAAQ23B,oBAAsB,SAASC,EAAWC,GACvD,GAAID,EAAW,CACb,GAAIE,GAAeF,EAAUG,UAC7B,IAAID,GAA0C,aAA1BA,EAAaE,SAAyB,CAIxD,IAHAJ,EAAU5D,MAAMiE,YAAc,OAC9BL,EAAU5D,MAAM5b,MAAQ,GAEjB0f,EAAaC,YAClBD,EAAaI,YAAYJ,EAAaC,WAExC,KAAK,GAAI52B,GAAI,EAAGA,EAAI02B,EAAOr2B,OAAQL,IAAK,CACtC,GAAIg3B,GAAMC,SAASC,cAAc,MACjCF,GAAInE,MAAM5b,MAAQyf,EAAO12B,GAAK,KAC9B22B,EAAaQ,YAAYH,GAE3BP,EAAU5D,MAAMiE,YAAc,gBAMtCM,IAAK,SAAS72B,EAASzB,EAAQD,IAC7B,SAAUM,GAMR,QAASgmB,GAAuBpkB,GAC9B,MAAOA,IAAOA,EAAIN,WAAaM,GAC7BP,UAASO,GANb,GAAI8K,GAAatL,EAAQ,wCAErB82B,EAAclS,EAAuBtZ,EAQzC/M,GAAOD,SAELy4B,GAAI,SAAYC,EAAYtkB,GAC1B,GAAIukB,GAAQD,EAAWlwB,MAAM,KACzBrH,EAAI,CAER,KADAiT,EAASA,GAAU/T,OACZc,EAAIw3B,EAAMn3B,QACf4S,EAAOukB,EAAMx3B,IAAMiT,EAAOukB,EAAMx3B,QAChCiT,EAASA,EAAOukB,EAAMx3B,IACtBA,GAEF,OAAOiT,IAGTgG,cAAe,SAAuBlY,GACpC,GAAIswB,KACJ,KAAK,GAAI2E,KAAQj1B,GACXA,EAAI2F,eAAesvB,IACrB3E,EAAIttB,KAAKiyB,EAGb,OAAO3E,IAGT9oB,QAAS,SAAiBkvB,EAAMnoB,EAAUooB,GACxC,GAAIC,EACJ,IAAIF,EACF,IAAK,GAAIz3B,GAAI,EAAGG,EAAIs3B,EAAKp3B,OAAYF,EAAJH,IAC/B23B,EAAMroB,EAASmoB,EAAKz3B,GAAIA,IACpB23B,GAAOD,KAAkB,GAFS13B,KAO1C,MAAO23B,IAGTlwB,QAAS,SAAiB1G,GACxB,MAAgD,mBAAzCoC,OAAOuG,UAAUtH,SAASb,MAAMR,IAGzCgiB,SAAU,SAAkBhiB,GAC1B,MAAgD,oBAAzCoC,OAAOuG,UAAUtH,SAASb,MAAMR,IAGzCiiB,OAAQ,SAAgBjiB,GACtB,MAAgD,kBAAzCoC,OAAOuG,UAAUtH,SAASb,MAAMR,IAGzCsV,SAAU,SAAkBtV,GAC1B,MAAgD,oBAAzCoC,OAAOuG,UAAUtH,SAASb,MAAMR,IAGzC6d,SAAU,SAAkB7d,GAC1B,MAAgD,oBAAzCoC,OAAOuG,UAAUtH,SAASb,MAAMR,IAGzCkkB,WAAY,SAAoBlkB,GAC9B,MAAgD,sBAAzCoC,OAAOuG,UAAUtH,SAASb,MAAMR,IAGzC62B,YAAa,SAAqBC,GAChC,MAAOA,GAAGzD,QAAQ,yBAA0B,SAG9C0D,YAAa,SAAqB5P,EAAO6P,GACvC,GAAI14B,KAAKoI,QAAQygB,IAAU6P,EACzB,IAAK,GAAI/3B,GAAI,EAAGA,EAAIkoB,EAAM7nB,OAAQL,IAAK,CACrC,GAAIg4B,GAAO9P,EAAMloB,EACjB,IAAI+3B,EAAUC,GACZ,MAAOA,KAOfC,cAAe,SAAuBl3B,EAAKm3B,GACzC,QAASC,GAAOv0B,EAAKkD,GACnB,MAAOoxB,IAAkBA,EAAexgB,QAAQ9T,GAAO,GAAKf,OAAYiE,EAE1E,OAAO,EAAIuwB,EAAAA,YAAqBt2B,EAAKo3B,EAAQ,IAE/CC,iBAAkB,SAA0BhG,EAASiG,EAAWC,GAC1DlG,EAAQgG,iBACVhG,EAAQgG,iBAAiBC,EAAWC,GAAS,GACpClG,EAAQmG,YACjBnG,EAAQmG,YAAY,KAAOF,EAAWC,GAEtClG,EAAQ,KAAOiG,GAAaC,GAGhCE,oBAAqB,SAA6BpG,EAASiG,EAAWC,GAChElG,EAAQoG,oBACVpG,EAAQoG,oBAAoBH,EAAWC,GAAS,GACvClG,EAAQqG,YACjBrG,EAAQqG,YAAY,KAAOJ,EAAWC,GAEtClG,EAAQ,KAAOiG,GAAa,MAGhCK,eAAgB,SAAwBn5B,GACtCA,EAAIA,GAAKL,OAAOy5B,MAEZp5B,EAAEm5B,eACJn5B,EAAEm5B,iBAEFn5B,EAAEq5B,aAAc,GAGpBC,gBAAiB,SAAyBt5B,GACxCA,EAAIA,GAAKL,OAAOy5B,MAEZp5B,EAAEs5B,gBACJt5B,EAAEs5B,kBAEFt5B,EAAEu5B,cAAe,GAGrBC,eAAgB,SAAwBx5B,GACtC,GAAIy5B,GAASz5B,EAAEy5B,MACf,OAAI,SAAWz5B,GACNy5B,EAGS,IAAXA,EAAe,EACT,IAAXA,EAAe,EACf,GAEJC,eAAgB,SAAwB15B,GACtCA,EAAIA,GAAKL,OAAOy5B,KAEhB,IAAIO,GAAQ35B,EAAE25B,MACVC,EAAQ55B,EAAE45B,KAKd,OAJct2B,UAAVq2B,IACFA,EAAQ35B,EAAE65B,QAAUnC,SAASvM,KAAK2O,WAAapC,SAASqC,gBAAgBD,WACxEF,EAAQ55B,EAAEg6B,QAAUtC,SAASvM,KAAK8O,UAAYvC,SAASqC,gBAAgBE,YAGvEN,MAAOA,EACPC,MAAOA,KAOb,SAAUtyB,GAGR,QAAS4yB,GAAsBC,GAC7Br6B,KAAKq6B,QAAUA,EAHjB,GAAIC,GAAQ,mEAKZF,GAAsB/vB,UAAY,GAAIzJ,OACtCw5B,EAAsB/vB,UAAUpF,KAAO,wBAGvCuC,EAAOwV,KAAOld,GAAUA,EAAOkd,KAAO,SAASJ,GAC7C,MAAO9c,GAAOkd,KAAKJ,IACjB,SAAS2d,GAEX,IAEE,GAAIC,GAAOC,EAHT7d,EAAM8d,OAAOH,GAGMI,EAAM,EAAGlnB,EAAM6mB,EAAOM,EAAS,GAIpDhe,EAAIie,OAAa,EAANF,KAAalnB,EAAM,IAAKknB,EAAM,GAEzCC,GAAUnnB,EAAIonB,OAAO,GAAKL,GAAS,EAAIG,EAAM,EAAI,GAAI,CAErD,GADAF,EAAW7d,EAAIke,WAAWH,GAAO,KAC7BF,EAAW,IACb,KAAM,IAAIL,GAAsB,2FAElCI,GAAQA,GAAS,EAAIC,EAEvB,MAAOG,IAKTpzB,EAAOuzB,KAAOj7B,GAAUA,EAAOi7B,KAAO,SAASne,GAC7C,MAAO9c,GAAOi7B,KAAKne,IACjB,SAAS2d,GACX,GAAI3d,GAAM8d,OAAOH,GAAOxF,QAAQ,MAAO,GACvC,IAAInY,EAAI5b,OAAS,GAAK,EACpB,KAAM,IAAIo5B,GAAsB,oEAElC,KAEE,GAAYY,GAAIC,EAAZC,EAAK,EAAeP,EAAM,EAAGC,EAAS,GAE1CK,EAASre,EAAIie,OAAOF,MAEnBM,IAAWD,EAAKE,EAAK,EAAS,GAALF,EAAUC,EAASA,EAG3CC,IAAO,GAAKN,GAAUF,OAAOS,aAAa,IAAMH,IAAO,GAAKE,EAAK,IAAM,EAEzED,EAASX,EAAMjiB,QAAQ4iB,EAEzB,OAAOL,KAERn7B,EAAOD,WAETuB,KAAKf,KAAwB,mBAAXF,QAAyBA,OAAyB,mBAATC,MAAuBA,KAAyB,mBAAXF,QAAyBA,aAE5Hu7B,uCAAwC,IAE1CC,IAAK,SAASn6B,EAASzB,EAAQD,GAE7B,GAAIyxB,GAAQ/vB,EAAQ,SAClB8vB,EAAW9vB,EAAQ,YAErBzB,GAAOD,QAAUyxB,EAAMqK,aACrBC,YAAa,UAEbC,gBAAiB,WACf,OACEC,WAAW,IAGfA,UAAW,WACT,MAAOz7B,MAAKupB,MAAMkS,WAAkD,gBAA9Bz7B,MAAKuzB,MAAMvb,UAAUhT,MAAgF,kBAApD02B,QAAOC,cAAc37B,KAAKuzB,MAAMvb,UAAUhT,OAEnI42B,UAAW,WACT,GAAI57B,KAAKy7B,YAAa,CACpB,GAAII,GAAY77B,KAAKuzB,MAAMuI,eAAe3f,YAAY5K,MAAM8S,eACxDxL,EAAO,GAAI6iB,QAAOC,cAAcI,SAEpCljB,GAAKmjB,UAAU,SAAUH,EAAUpX,WACnC,KAAK,GAAI3C,GAAK,EAAGA,EAAK+Z,EAAU1W,SAASnkB,OAAQ8gB,IAC/CjJ,EAAKmjB,UAAU,SAAUH,EAAU1W,SAASrD,GAG9CjJ,GAAKojB,QAAQJ,EAAUxW,UAEvB,IAAInP,IACFgP,MAAO2W,EAAU3W,MAEjBgX,SAAUl8B,KAAKupB,MAAM4S,WAAWC,WAChCC,SAAUvQ,WAAW9rB,KAAKupB,MAAM4S,WAAWE,UAC3CC,OACEpX,MAAO2W,EAAUpX,YAEnB8X,OACErX,MAAO2W,EAAUnX,YAIrB,IAA+D,kBAApDgX,QAAOC,cAAc37B,KAAKuzB,MAAMvb,UAAUhT,MAAsB,CACzE,GAAIw3B,GAAQ,GAAId,QAAOC,cAAc37B,KAAKuzB,MAAMvb,UAAUhT,MAAMgsB,EAASyL,YAAYz8B,MACrFw8B,GAAME,KAAK7jB,EAAM3C,MAIvBymB,kBAAmB,WACjB38B,KAAK47B,aAEPgB,mBAAoB,WAClB58B,KAAK47B,aAEPvJ,OAAQ,WACN,MAAIryB,MAAKy7B,YACAxK,EAAM4G,cAAc,OACzBvC,UAAW,QACX9B,MAAOxzB,KAAKupB,MAAM4S,aAGf,UAKXnI,MAAS,QACTC,YAAa,cAEf4I,IAAK,SAAS37B,EAASzB,EAAQD,GAM7B,QAASs9B,KACP,GAAIC,GAAiBnF,SAASC,cAAc,MAG5C,OAFAkF,GAAezH,UAAY,iCAC3BsC,SAASvM,KAAKyM,YAAYiF,GACnBA,EART,GAAI9L,GAAQ/vB,EAAQ,SAClB8vB,EAAW9vB,EAAQ,aACnB+P,EAAQ/P,EAAQ,gBASdkwB,EAAS3xB,EAAOD,QAAUyxB,EAAMqK,aAClCC,YAAa,UAEbyB,SACEv0B,OAAQ,WACN,GAAIw0B,GAAgBhM,EAAMgC,cAAc7B,GACpClG,EAAU4R,GAEd,QACEzJ,KAAM,SAAcE,GAClBvC,EAASqB,OAAO4K,EAAc1J,GAAQrI,OAK9C6R,eAAgB,KAChBG,gBAAiB,SAAyBrnB,GACxC7V,KAAK+8B,eAAezH,UAAYt1B,KAAKuzB,MAAMxb,MAAMiT,iBAAiBnV,GAASqV,SAE7EyR,kBAAmB,WACjB38B,KAAK+8B,eAAiB/L,EAASyL,YAAYz8B,MAAMi2B,WACjDj2B,KAAKk9B,iBAAgB,GACrBjsB,EAAM8nB,iBAAiB/4B,KAAK+8B,eAAgB,QAAS/8B,KAAKm9B,MAE1D,IAAIC,GAAgBp9B,KAAK+8B,eAAeM,SAAS,GAC7CC,EAAoBF,EAAcC,SAAS,GAAGA,SAAS,GAEvDE,EAAcr2B,KAAKuJ,IAAImnB,SAASqC,gBAAgBuD,YAAa39B,OAAO49B,YAAc,GAClFC,EAAex2B,KAAKuJ,IAAImnB,SAASqC,gBAAgB0D,aAAc99B,OAAO+9B,aAAe,GACrFC,EAAY,EAAIH,EAAe,CACnCG,GAAwB,IAAZA,EAAkB,IAAMA,CACpC,IAAIC,GAASV,EAAcnG,aAAemG,EAAclG,aAAe2G,EAAY,GAAK,GACpFE,EAAUX,EAAclG,aAAe2G,EAAYA,EAAYT,EAAclG,YAEjFkG,GAAc5J,MAAMsC,KAAO4H,EAAeK,GAAWL,EAAeK,GAAW,EAAI,GAAK,KACxFX,EAAc5J,MAAMoC,MAAQ2H,EAAcO,GAAUP,EAAcO,GAAU,EAAI,GAAK,KACrFV,EAAc5J,MAAM3b,OAASkmB,EAAU,KACvCT,EAAkB9J,MAAM5b,MAAQkmB,EAAS,KACzCR,EAAkB9J,MAAM3b,OAASkmB,EAAU,GAAK,MAElDZ,MAAO,SAAej9B,GACpB,GAAI+F,GAAS/F,EAAE+F,QAAU/F,EAAE89B,UACvB/3B,IAAUjG,KAAK+8B,gBAAuC,iBAArB92B,EAAOqvB,YAC1CrkB,EAAMkoB,oBAAoBn5B,KAAK+8B,eAAgB,QAAS/8B,KAAKm9B,OAC7DnM,EAASiN,uBAAuBj+B,KAAK+8B,gBACrC/8B,KAAKk9B,iBAAgB,KAGzB7K,OAAQ,WACN,GAAIryB,KAAKuzB,MAAMD,KAAM,CACnB,GAAIA,GAAOrC,EAAM4G,cAAc73B,KAAKuzB,MAAMD,KAAKtuB,KAAMhF,KAAKuzB,MAAMD,KAAKC,OACjEtI,EAAUjrB,KAAKuzB,MAAMxb,MAAMiT,kBAE/B,OAAOiG,GAAM4G,cACX,OACEvC,UAAWrK,EAAQE,OACnBqI,MAAOxzB,KAAKuzB,MAAMC,WAEpBvC,EAAM4G,cACJ,OACEvC,UAAWrK,EAAQG,SAErB6F,EAAM4G,cACJ,OACEvC,UAAWrK,EAAQ/M,QAErB+S,EAAM4G,cAAc,OAClBvC,UAAW,eACX4I,QAASl+B,KAAKm9B,QAEhBlM,EAAM4G,cACJ,OACEvC,UAAWrK,EAAQ/F,OAErBllB,KAAKuzB,MAAMrO,QAGf+L,EAAM4G,cACJ,OACEvC,UAAWrK,EAAQI,MAErBiI,WASZ6K,eAAgB,GAChBnK,MAAS,QACTC,YAAa,cAEfmK,IAAK,SAASl9B,EAASzB,EAAQD,GAE7B,GAAIwxB,GAAW9vB,EAAQ,aACrB+P,EAAQ/P,EAAQ,eAElBzB,GAAOD,QAAU,WAYf,QAAS6+B,GAAkBC,EAAWC,GACpC,QAASD,EAAUnI,MAAQoI,EAAU3I,MAAQ0I,EAAU1I,KAAO2I,EAAUpI,OAASmI,EAAUlI,OAASmI,EAAUzI,KAAOwI,EAAUxI,IAAMyI,EAAUnI,QAGjJ,QAASoI,GAAkBC,EAAYxuB,GACjCyuB,EACFC,EAAcD,EAAiB,WAC7BA,EAAkBD,EAClBG,EAAeH,EAAYxuB,MAG7ByuB,EAAkBD,EAClBG,EAAeH,EAAYxuB,IAI/B,QAAS4uB,GAAqBC,GACxBC,EACFJ,EAAcI,EAAoB,WAChCA,EAAqBD,EACrBF,EAAeE,MAGjBC,EAAqBD,EACrBF,EAAeE,IAInB,QAASF,GAAe34B,EAAQgK,GAC1BhK,GAAUA,EAAO+4B,WACnB/4B,EAAO+4B,WAAW/uB,GACTA,GACTA,IAIJ,QAAS0uB,GAAc14B,EAAQgK,GACzBhK,GAAUA,EAAOg5B,UACnBh5B,EAAOg5B,UAAUhvB,GACRA,GACTA,IAlDJ,GAAIivB,GAAa,KAEbC,EAAmB,KACnBT,EAAkB,KAClBK,EAAqB,KAErBK,EAAY,KACZC,KACAC,KA8DAC,GAAe,CAEnB,QACE/N,KAAM,SAAcgO,GAClBD,GAAe,EACfL,EAAaM,GAEfC,eAAgB,SAAwBC,GAEtC,GAAIC,GAAkBR,CAEtB,IADAA,EAAmBO,EACfP,GAAoBQ,EACtB,GAAY,MAARD,EAAc,CAEhB,GAAIhB,EAAiB,CACnB,GAAIlkB,GAAiC,MAAtBukB,EAA6BA,EAAmBvkB,SAAW,IAC1E0kB,GAAWU,WAAWD,EAAiBjB,EAAgBmB,UAAUtM,MAAMte,QAASuF,GAGlF4kB,EAAY,KACZZ,EAAkB,MAClBK,EAAqB,UAErBO,GAAYpO,EAASyL,YAAY0C,IAIvCW,eAAgB,SAAwB75B,EAAQgP,EAAS8qB,EAAiBC,GACxEX,EAAa36B,MACXm7B,UAAW55B,EACXgP,QAASA,EACT+pB,WAAYe,EACZd,UAAWe,KAGfC,iBAAkB,SAA0Bh6B,GAE1C,IAAK,GADDi6B,GACKv/B,EAAI,EAAGA,EAAI0+B,EAAar+B,OAAQL,IACvC,GAAI0+B,EAAa1+B,GAAGk/B,WAAa55B,EAAQ,CACvCi6B,EAASv/B,CACT,OAGU,MAAVu/B,GACFb,EAAarkB,OAAOklB,EAAQ,IAGhCC,kBAAmB,SAA2BC,EAAWnrB,EAASuF,EAAUulB,EAAiBC,GAC3FV,EAAgB56B,MACdm7B,UAAWO,EACXnrB,QAASA,EACTuF,SAAUA,EACVwkB,WAAYe,EACZd,UAAWe,KAGfK,oBAAqB,SAA6BD,GAEhD,IAAK,GADDE,GACK3/B,EAAI,EAAGA,EAAI2+B,EAAgBt+B,OAAQL,IAC1C,GAAI2+B,EAAgB3+B,GAAGk/B,WAAaO,EAAW,CAC7CE,EAAS3/B,CACT,OAGU,MAAV2/B,GACFhB,EAAgBtkB,OAAOslB,EAAQ,IAGnCC,aAAc,WACZ,GAAwB,MAApBpB,EAA0B,CAC5B,GACIqB,GADAC,EAAerB,EAAU1J,uBAG7BzkB,GAAM/H,QAAQm2B,EAAc,SAASp5B,GACnC,IAAKu6B,EAAa,CAChB,GAAIE,GAAY1P,EAASyL,YAAYx2B,EAAO45B,WAAWnK,wBACnDiL,EAAYtC,EAAkBoC,EAAcC,EAChD,IAAIC,EAEF,YADAH,EAAcv6B,MAMhBu6B,GACFhC,EAAkBgC,EAAa,WAC7B,GAAII,GAAiB,IAkBrB,IAhBA3vB,EAAM/H,QAAQo2B,EAAiB,SAASc,EAAW92B,GACjD,IAAKs3B,EAAgB,CACnB,GAAIC,GAAsBT,EAAUP,UAAUtM,MAAMte,UAAYkqB,EAAiB5L,MAAMte,SAAWmrB,EAAUP,UAAUtM,MAAM/Y,WAAa2kB,EAAiB5L,MAAM/Y,SAE5JsmB,EAAkBV,EAAUP,UAAUtM,MAAMte,UAAYurB,EAAYX,UAAUtM,MAAMte,OACxF,IAAI6rB,IAAoBD,EAAqB,CAC3C,GAAIH,GAAY1P,EAASyL,YAAY2D,EAAUP,WAAWnK,wBACtDiL,EAAYtC,EAAkBoC,EAAcC,EAChD,IAAIC,EAEF,MADAC,GAAiBR,GACV,OAMVQ,EAAgB,CACnB,GAAIG,GAAgBzB,EAAgBjmB,OAAO,SAAS+mB,GAClD,MAAOA,GAAUP,UAAUtM,MAAMte,UAAYurB,EAAYX,UAAUtM,MAAMte,SAEvE8rB,GAAc//B,OAAS,IACzB4/B,EAAiBG,EAAcA,EAAc//B,OAAS,IAG1D69B,EAAqB+B,aASjCzC,eAAgB,GAChBlK,YAAa,cAEf+M,IAAK,SAAS9/B,EAASzB,EAAQD,GAE7B,GAAIyxB,GAAQ/vB,EAAQ,SAClB+/B,EAAc//B,EAAQ,8BAExBzB,GAAOD,QAAUyxB,EAAMqK,aACrBC,YAAa,gBACbC,gBAAiB,WAEf,MADAyF,GAAYd,kBAAkBngC,KAAMA,KAAKuzB,MAAMte,QAASjV,KAAKuzB,MAAM/Y,SAAUxa,KAAKg/B,WAAYh/B,KAAKi/B,YAEjGiC,QAAQ,IAGZC,qBAAsB,WACpBF,EAAYZ,oBAAoBrgC,OAElCg/B,WAAY,SAAoB/uB,GAC1BjQ,KAAKohC,YACPphC,KAAK6uB,UACHqS,QAAQ,GACPjxB,GACMA,GACTA,KAGJgvB,UAAW,SAAmBhvB,GACxBjQ,KAAKohC,YACPphC,KAAK6uB,UACHqS,QAAQ,GACPjxB,GACMA,GACTA,KAGJoiB,OAAQ,WACN,GAAIgD,GAAY,aAAer1B,KAAKuzB,MAAM8N,WAAa,YAAc,GAEjErhC,MAAKuzB,MAAM+N,UACbjM,GAAa,oBAGXr1B,KAAKuzB,MAAMgO,SACblM,GAAa,kBAGf,IAAI7B,KAKJ,OAJIxzB,MAAKupB,MAAM2X,SACb7L,GAAa,mBAGRpE,EAAM4G,cAAc,OACzBrE,MAAOA,EACP8B,UAAWD,SAMjBmM,8BAA+B,GAC/BxN,MAAS,UAEXyN,IAAK,SAASvgC,EAASzB,EAAQD,GAE7B,GAAIyxB,GAAQ/vB,EAAQ,SAClB+/B,EAAc//B,EAAQ,+BACtBwgC,EAAgBxgC,EAAQ,iCACxBqU,EAAMrU,EAAQ,cACdygC,EAAO,CAETliC,GAAOD,QAAUyxB,EAAMqK,aACrBC,YAAa,UAEbC,gBAAiB,WAEf,MADAx7B,MAAK2hC,OAASA,GAEZT,QAAQ,IAGZvE,kBAAmB,WACjBsE,EAAYnB,eAAe9/B,KAAMA,KAAKuzB,MAAMte,QAASjV,KAAKg/B,WAAYh/B,KAAKi/B,YAE7EkC,qBAAsB,WACpBF,EAAYhB,iBAAiBjgC,OAE/Bg/B,WAAY,SAAoB/uB,GAC1BjQ,KAAKohC,YACPphC,KAAK6uB,UACHqS,QAAQ,GACPjxB,GACMA,GACTA,KAGJgvB,UAAW,SAAmBhvB,GACxBjQ,KAAKohC,YACPphC,KAAK6uB,UACHqS,QAAQ,GACPjxB,GACMA,GACTA,KAGJoiB,OAAQ,WACN,GAAItyB,GAAOC,KAEPwc,EAAUxc,KAAKuzB,MAAM/W,QAAQ/I,IAAI,SAASkmB,EAAQrwB,GACpD,MAAIA,GAAQvJ,EAAKwzB,MAAM/W,QAAQxb,OAAS,GAC9BiwB,EAAM4G,cACZ,KACA,KACA5G,EAAM4G,cAAc6J,GAClBJ,QAAmB,IAAVh4B,EACTkR,SAAUlR,EACV2L,QAASlV,EAAKwzB,MAAMte,WAErBgc,EAAM4G,cACP,KACA,KACA8B,KAGM1I,EAAM4G,cACZ,KACA,KACA5G,EAAM4G,cAAc6J,GAClBJ,QAAmB,IAAVh4B,EACTkR,SAAUlR,EACV2L,QAASlV,EAAKwzB,MAAMte,WAErBgc,EAAM4G,cACP,KACA,KACA8B,GACC1I,EAAM4G,cACP,KACA,KACA5G,EAAM4G,cAAc6J,GAClBH,QAAQ,EACR/mB,SAAU,KACVvF,QAASlV,EAAKwzB,MAAMte,cAMxBue,EAAQzzB,EAAKwzB,MAAMte,UAAYM,EAAI1B,KAAKxC,MAC1CmJ,SAAU,WACVob,KAAM,EACNQ,OAAQ,IACN,IAEJ,OAAOnF,GAAM4G,cACX,OACEvC,UAAW,YAAct1B,KAAKupB,MAAM2X,OAAS,iBAAmB,KAA0B,IAAnB1kB,EAAQxb,OAAe,kBAAoB,IAClHwyB,MAAOA,GAETvC,EAAM4G,cACJ,QACA,KACA5G,EAAM4G,cACJ,QACA,KACA5G,EAAM4G,cACJ,KACA,KACArb,WASZolB,aAAc,GACdJ,8BAA+B,GAC/BK,gCAAiC,GACjC7N,MAAS,UAEX8N,IAAK,SAAS5gC,EAASzB,EAAQD,GAE7B,GAAIyxB,GAAQ/vB,EAAQ,SAClB+/B,EAAc//B,EAAQ,+BACtBwgC,EAAgBxgC,EAAQ,iCACxBygC,EAAO,CAETliC,GAAOD,QAAUyxB,EAAMqK,aACrBC,YAAa,UAEbC,gBAAiB,WAEf,MADAx7B,MAAK2hC,OAASA,GAEZT,QAAQ,IAGZvE,kBAAmB,WACjBsE,EAAYnB,eAAe9/B,KAAMA,KAAKuzB,MAAMte,QAASjV,KAAKg/B,WAAYh/B,KAAKi/B,YAE7EkC,qBAAsB,WACpBF,EAAYhB,iBAAiBjgC,OAE/Bg/B,WAAY,SAAoB/uB,GAC1BjQ,KAAKohC,YACPphC,KAAK6uB,UACHqS,QAAQ,GACPjxB,GACMA,GACTA,KAGJgvB,UAAW,SAAmBhvB,GACxBjQ,KAAKohC,YACPphC,KAAK6uB,UACHqS,QAAQ,GACPjxB,GACMA,GACTA,KAGJoiB,OAAQ,WACN,GAAItyB,GAAOC,KAEPwc,EAAUxc,KAAKuzB,MAAM/W,QAAQ/I,IAAI,SAASkmB,EAAQrwB,GACpD,GAAIy4B,IAAc9Q,EAAM4G,cACtB,KACA,KACA5G,EAAM4G,cACJ,KACA,KACA5G,EAAM4G,cAAc6J,GAClBJ,QAAmB,IAAVh4B,EACTkR,SAAUlR,EACV2L,QAASlV,EAAKwzB,MAAMte,QACpBosB,YAAY,MAGfpQ,EAAM4G,cACP,KACA,KACA5G,EAAM4G,cACJ,KACA,KACA8B,IAqBJ,OAjBIrwB,IAASvJ,EAAKwzB,MAAM/W,QAAQxb,OAAS,GACvC+gC,EAAWr9B,KAAKusB,EAAM4G,cACpB,KACA,KACA5G,EAAM4G,cACJ,KACA,KACA5G,EAAM4G,cAAc6J,GAClBH,QAAQ,EACR/mB,SAAU,KACVvF,QAASlV,EAAKwzB,MAAMte,QACpBosB,YAAY,OAMbU,GAGT,OAAO9Q,GAAM4G,cACX,OACEvC,UAAW,qBAAuBt1B,KAAKupB,MAAM2X,OAAS,iBAAmB,KAA0B,IAAnB1kB,EAAQxb,OAAe,2BAA6B,KAEtIiwB,EAAM4G,cACJ,QACA,KACA5G,EAAM4G,cACJ,QACA,KACArb,UAQVglB,8BAA+B,GAC/BK,gCAAiC,GACjC7N,MAAS,UAEXgO,IAAK,SAAS9gC,EAASzB,EAAQD,GAE7B,GAAIyxB,GAAQ/vB,EAAQ,SAClB+P,EAAQ/P,EAAQ,eAElBzB,GAAOD,QAAUyxB,EAAMqK,aACrBC,YAAa,UAEb0G,YAAa,SAAqB/hC,GAChC,GAAIgiC,GAAYliC,KAAKmiC,KAAKC,aACtBC,EAAiBriC,KAAKmiC,KAAKG,WAC3Br8B,EAAS/F,EAAE+F,QAAU/F,EAAE89B,UAEvB/3B,KAAWi8B,GAA8C,SAAjCG,EAAe7O,MAAMwD,QAC/CqL,EAAe7O,MAAMwD,QAAU,QAE/BqL,EAAe7O,MAAMwD,QAAU,QAGnCuL,aAAc,WACZ,GAAIL,GAAYliC,KAAKmiC,KAAKC,YAC1BF,GAAU5M,UAAY,mBACtB4M,EAAU1O,MAAMgP,mBAAqB,gBAEvCC,aAAc,WACZziC,KAAKmiC,KAAKC,aAAa9M,UAAY,IAErCqH,kBAAmB,WACjB1rB,EAAM8nB,iBAAiBnB,SAAU,QAAS53B,KAAKiiC,cAEjDd,qBAAsB,WACpBlwB,EAAMkoB,oBAAoBvB,SAAU,QAAS53B,KAAKiiC,cAEpDS,YAAa,SAAqBxiC,GAIhC,IAHA,GAAIyiC,GAAW3iC,KAAKmiC,KAAKG,WACrBr8B,EAAS/F,EAAE+F,QAAU/F,EAAE89B,WACvB4E,GAAO,GACHA,GAAkB,MAAV38B,GAAgB,CAC9B,GAAIA,EAAOgwB,YAAc0M,EAAU,CACjCC,GAAO,CACP,OAEF38B,EAASA,EAAOgwB,WAGlB,GAAI2M,EAAM,CACR,GAAIn7B,GAAQxB,EAAO48B,YACfT,EAAepiC,KAAKmiC,KAAKC,YACzBA,GAAaS,aAAep7B,IAC9B26B,EAAaS,YAAcp7B,EACvBzH,KAAKuzB,MAAMuP,gBACb9iC,KAAKuzB,MAAMuP,eAAer7B,MAKlC4qB,OAAQ,WAQN,IAAK,GADD7f,MACK7R,EAAI,EAAGA,EAAIX,KAAKuzB,MAAM/gB,OAAOxR,OAAQL,IAC5C6R,EAAO9N,KAAKusB,EAAM4G,cAAc,MAC9BtzB,IAAK,OAAS5D,EACdoiC,yBACEC,OAAQhjC,KAAKuzB,MAAM/gB,OAAO7R,MAKhC,OAAOswB,GAAM4G,cACX,OACEvC,UAAW,cAEbrE,EAAM4G,cAAc,OAClBoL,IAAK,eACLF,yBACEC,OAAQhjC,KAAKuzB,MAAM2P,eAErBX,aAAcviC,KAAKuiC,aACnBE,aAAcziC,KAAKyiC,eAErBxR,EAAM4G,cACJ,MACEoL,IAAK,aACLzP,OACEwD,QAAS,QAEXkH,QAASl+B,KAAK0iC,aAEhBlwB,SAOR2rB,eAAgB,GAChBnK,MAAS,UAEXmP,IAAK,SAASjiC,EAASzB,EAAQD,GAkP7B,QAAS4jC,GAAcC,EAAWC,GA+DhC,QAASC,GAAgBC,EAAUzM,GACjC,MAAiB,OAAbA,EAGqD,QAAhDyM,EAASvN,WAAWA,WAAWzC,MAAMwD,aAF5CwM,EAASvN,WAAWA,WAAWzC,MAAMwD,QAAUD,EAAY,GAAK,QAMpE,QAAS0M,KACP,GAAIH,EAAqB,CACvB,GAAII,IACFlxB,OAAQ8wB,EAAoBpkB,YAC5BykB,UAAWL,EAAoBnkB,cAG7BmkB,GAAoBrkB,MACtB2kB,GAAe,EAEf5kB,EAAWskB,EAAoBtkB,SAC/Bjf,EAAK8jC,+BAEDP,EAAoBjkB,YACtBykB,GAAc,EACd/jC,EAAKgkC,0BACLC,EAAiBV,EAAoBrkB,KAAK/Z,QAE1C8+B,EAAiBV,EAAoBrkB,KAGvCglB,EAAMC,UAAUz8B,MAAQu8B,EAExBjkC,EAAKokC,gBAAgBb,EAAoBtkB,SAAUskB,EAAoBrkB,OAEvEmlB,EAAqBV,EAGvB3jC,EAAKskC,iBAAiBX,GACtB3jC,EAAKukC,qBAIT,QAASC,KACPxkC,EAAK8jC,+BAEL5yB,EAAM8nB,iBAAiBkL,EAAMO,gBAAiB,QAASzkC,EAAK0kC,cAC5DxzB,EAAM8nB,iBAAiBkL,EAAMC,UAAW,QAASnkC,EAAK2kC;AAEtDzzB,EAAM8nB,iBAAiBkL,EAAMU,kBAAmB,QAAS5kC,EAAK6kC,gBAE9D3zB,EAAM8nB,iBAAiBkL,EAAMY,SAAU,QAAS,WAC9C,GAAIC,GAAa/kC,EAAKglC,kBACtB1B,GAAU2B,SAAShmB,EAAS/Z,KAAM+Z,EAASM,iBAAmBskB,GAAgBE,EAAc,GAAIrkB,QAAOukB,EAAgB,KAAOA,EAAgBc,EAAWtyB,OAAQsyB,EAAWnB,aAE9K1yB,EAAM8nB,iBAAiBkL,EAAMgB,aAAc,QAAS,WAClD5B,EAAU6B,YAId,QAASC,GAAcC,EAAoBC,EAAiBC,GAE1D,GAAIC,GAAoB,IACpBC,EAAqB,IAErBC,GACF9P,EAAG,EACHE,EAAG,GAED6P,GAAc,CAElB1lC,MAAK2lC,gBAAkB,SAASzlC,GAE9B,GAAgC,IAA5B+Q,EAAMyoB,eAAex5B,GAAzB,CAEA,GAAI0lC,GAAc30B,EAAM2oB,eAAe15B,EAEvCwlC,IAAc,EACd9N,SAASvM,KAAKmI,MAAMqS,OAAS,YAE7BJ,EAAa9P,EAAIiQ,EAAY/L,MAC7B4L,EAAa5P,EAAI+P,EAAY9L,MAG7B7oB,EAAMuoB,gBAAgBt5B,GACtB+Q,EAAMooB,eAAen5B,KAGvBF,KAAK8lC,cAAgB,WAGnB,MAFAJ,IAAc,EACd9N,SAASvM,KAAKmI,MAAMqS,OAAS,QACtB,GAGT7lC,KAAK+lC,gBAAkB,SAAS7lC,GAE9B,GAAKwlC,EAAL,CAEA,GAAIE,GAAc30B,EAAM2oB,eAAe15B,GAEnC8lC,EAAiBV,EAAe5P,wBAChCuQ,EAAqBb,EAAmB1P,wBACxCwQ,EAAkBb,EAAgBc,QAAQ,GAAGzQ,wBAE7C0Q,EAAsBH,EAAmB9P,MAAQ8P,EAAmBrQ,KACpEyQ,EAAuBJ,EAAmB7P,OAAS6P,EAAmBnQ,IAEtEwQ,GACF3Q,EAA0B4P,GAAvBa,GAA4CR,EAAY/L,MAAQmM,EAAepQ,KAAO,EAAIgQ,EAAY/L,MAAQ4L,EAAa9P,EAC9HE,EAA2B2P,GAAxBa,GAA8CT,EAAY9L,MAAQkM,EAAelQ,IAAM,EAAI8P,EAAY9L,MAAQ2L,EAAa5P,GAG7H0Q,EAAoBH,EAAsBE,EAAO3Q,EACjD6Q,EAAqBH,EAAuBC,EAAOzQ,CAEvD4P,GAAa9P,EAAIiQ,EAAY/L,MAC7B4L,EAAa5P,EAAI+P,EAAY9L,MAEzByM,GAAqBhB,IACvBH,EAAmB5R,MAAM5b,MAAQ2uB,EAAoB,MAGnDC,GAAsBhB,IACxBJ,EAAmB5R,MAAM3b,OAAS2uB,EAAqB,KACvDnB,EAAgBc,QAAQ,GAAG3S,MAAM3b,OAASquB,EAAgB9P,OAAS8P,EAAgBpQ,IAAMwQ,EAAOzQ,EAAI,MAGtG5kB,EAAMuoB,gBAAgBt5B,GACtB+Q,EAAMooB,eAAen5B,KAGvB+Q,EAAM8nB,iBAAiBuM,EAAgB,YAAatlC,KAAK2lC,iBACzD10B,EAAM8nB,iBAAiBnB,SAAU,UAAW53B,KAAK8lC,eACjD70B,EAAM8nB,iBAAiBnB,SAAU,YAAa53B,KAAK+lC,iBAhMrD,GAGI3B,GAoBAqC,EAvBA1mC,EAAOC,KACP0mC,EAAgB,gBAGhB9C,GAAe,EACfE,GAAc,EACd9kB,EAAWrI,EAAUkJ,UAAUC,MAC/BkkB,EAAiB,GAEjBC,GACFO,gBAAiB,KACjBmC,cACAzC,UAAW,KACX0C,YAAa,KACbC,YAAa,KACbC,YAAa,KACbC,kBAAmB,KACnBpC,kBAAmB,KACnBE,SAAU,KACVI,aAAc,KACd+B,WAAY,KAKdhnC,MAAKwxB,KAAO,SAASyV,GAEnBhD,EAAMO,gBAAkByC,EACxBhD,EAAM0C,cACN1C,EAAMC,UAAYD,EAAMO,gBAAgB7rB,KAAK,GAAGuuB,MAAM,GAAG7J,SAAS,GAAG1kB,KAAK,GAAGuuB,MAAM,GAAG7J,SAAS,GAC/F4G,EAAMU,kBAAoBV,EAAMO,gBAAgB7rB,KAAK,GAAGuuB,MAAM,GAAG7J,SAAS,GAAG1kB,KAAK,GAAGuuB,MAAM,GAAG7J,SAAS,GACvG4G,EAAM2C,YAAc3C,EAAMO,gBAAgB7rB,KAAK,GAAGuuB,MAAM,GAAG7J,SAAS,GACpE4G,EAAMY,SAAWZ,EAAMO,gBAAgB7rB,KAAK,GAAGuuB,MAAM,GAAG7J,SAAS,GACjE4G,EAAMgB,aAAehB,EAAMO,gBAAgB7rB,KAAK,GAAGuuB,MAAM,GAAG7J,SAAS,GACrE4G,EAAM+C,WAAa/C,EAAMO,gBAAgB7rB,KAAK,GAAGuuB,MAAM,GAAG7J,SAAS,EAGnE,KAAK,GADD1kB,GAAOsrB,EAAMO,gBAAgB7rB,KAAK,GAAGuuB,MAAM,GAAG7J,SAAS,GAAG1kB,KACrDhY,EAAI,EAAGA,EAAIgY,EAAK3X,OAAQL,IAAK,CACpC,GAAI6iC,GAAW7qB,EAAKhY,GAAGumC,MAAM,GAAG7J,SAAS,EACzC4G,GAAM0C,WAAWnD,EAAS/7B,OAAS+7B,EAGrCS,EAAM4C,YAAc5C,EAAM0C,WAAWhwB,EAAUkI,KAC/ColB,EAAMkD,eAAiBlD,EAAM0C,WAAWhwB,EAAUoI,OAClDklB,EAAM6C,YAAc,KACpB7C,EAAM8C,kBAAoB9C,EAAMO,gBAAgB7rB,KAAK,GAAGuuB,MAAM,GAE9DT,EAAgB,GAAItB,GAAclB,EAAMO,gBAAgBvO,WAAYgO,EAAMO,gBAAgB7rB,KAAK,GAAGuuB,MAAM,GAAG7J,SAAS,GAAI4G,EAAM+C,YAE9HvD,IACAc,KAGFvkC,KAAKonC,kBAAoB,SAASC,GAC5BroB,EAAS/Z,OAASoiC,IACpBroB,EAAWrI,EAAUkJ,UAAU7b,IAAIqjC,GACnCtnC,EAAK8jC,+BACL9jC,EAAK2kC,cAAc,qBA0IvB1kC,KAAK4kC,eAAiB,WACpBX,EAAMC,UAAUz8B,MAAQ,GACxB1H,EAAK2kC,iBAGP1kC,KAAK6jC,6BAA+B,WAC9B7kB,EAASM,iBACXrO,EAAM8nB,iBAAiBkL,EAAM8C,kBAAmB,QAAShnC,EAAKunC,qBAC9DC,EAASnS,YAAY6O,EAAM8C,kBAAmB,wBAE9C91B,EAAMkoB,oBAAoB8K,EAAM8C,kBAAmB,QAAShnC,EAAKunC,qBACjEC,EAAShS,SAAS0O,EAAM8C,kBAAmB,wBAI/C/mC,KAAK+jC,wBAA0B,WAC7BE,EAAM8C,kBAAkBzR,UAAY2O,EAAM8C,kBAAkBzR,UAAUP,QAAQ,qBAAsB,IAChG+O,EACFyD,EAAShS,SAAS0O,EAAM8C,kBAAmB,sBAE3CQ,EAASnS,YAAY6O,EAAM8C,kBAAmB,uBAIlD/mC,KAAKsnC,oBAAsB,WACzBxD,GAAeA,EACf/jC,EAAKgkC,0BACLhkC,EAAK2kC,cAAc,qBAGrB1kC,KAAKykC,aAAe,SAASvkC,GAC3B,GAAI+F,GAAS/F,EAAE+F,QAAU/F,EAAE89B,UACvB/3B,IAAUA,EAAOjB,MAAwB,aAAhBiB,EAAOjB,OAC9BiB,GAAUg+B,EAAM4C,YAClB9mC,EAAKskC,kBACH7xB,OAAQyxB,EAAM4C,YAAYW,UAG5BznC,EAAKukC,sBAKXtkC,KAAKmkC,gBAAkB,SAASnlB,EAAUC,GACxC,GAAIwoB,IAAiBxoB,EACjByoB,EAAS1oB,EAASM,iBAAmBskB,EAAeE,EAAc7kB,EAAOhO,EAAMsnB,YAAYtZ,GAAQA,CACvGskB,GAAgBU,EAAM4C,YAAaY,EACnC,KAAK,GAAI9mC,GAAI,EAAGA,EAAI0iC,EAAU7wB,OAAOxR,OAAQL,IAAK,CAChD,GAAIoP,GAAMszB,EAAU7wB,OAAO7R,GACvB6iC,EAAkB,MAAPzzB,EAAck0B,EAAM0C,WAAW52B,GAAOk0B,EAAMkD,eACvDtxB,GAAW+tB,GAAgB5kB,EAAS3O,KAAKN,EAAK23B,EAClDnE,GAAgBC,EAAU3tB,GAC1B2tB,EAASgE,QAAU3xB,IAIvB7V,KAAK0kC,cAAgB,SAASxkC,GAC5B,GAAIogB,IAAU2jB,EAAMC,UAAUz8B,OAAS,IAAI6iB,MAC3C,IAAU,oBAANpqB,GAAiC,qBAANA,GAA4BogB,GAAUA,GAAU0jB,EAAgB,CAC7FA,EAAiB1jB,CAEjB,IAAIqnB,GAAuB/D,CAC3BA,GAA0B,KAAXtjB,EAEXsjB,IAAiB+D,IACnBvD,EAAqBrkC,EAAKglC,qBAIlB,oBAAN7kC,GAA2B0jC,IAC7B7jC,EAAKokC,gBAAgBnlB,EAAUsB,IAG5BsjB,GAAgB+D,GACnB5nC,EAAKskC,iBAAiBD,GAGxBrkC,EAAKukC,sBAITtkC,KAAK+kC,iBAAmB,WACtB,GAAKnB,GAAiBK,EAAM4C,YAAYe,cAKjC,CACL,GAAI1oB,GACAve,EAAGoP,EAAKyzB,EACRqE,EAAc,EAChBC,EAAe,CAEjB,KAAKnnC,EAAI,EAAGA,EAAI0iC,EAAU7wB,OAAOxR,OAAQL,IACvCoP,EAAMszB,EAAU7wB,OAAO7R,GACvB6iC,EAAkB,MAAPzzB,EAAck0B,EAAM0C,WAAW52B,GAAOk0B,EAAMkD,eACnD5D,EAAgBC,KAClBqE,IACIrE,EAASgE,SACXM,IAKN,IAAIC,IAAmB,CAEvB,IAAqB,IAAjBD,EACF5oB,EAAcvI,EAAUmI,SACnB,IAAIgpB,GAAgBD,EACzB3oB,EAAcvI,EAAUkI,QAKxB,KAHAK,KACA6oB,EAAmBD,EAAeD,EAAc,EAAI,EAE/ClnC,EAAI,EAAGA,EAAI0iC,EAAU7wB,OAAOxR,OAAQL,IACvCoP,EAAMszB,EAAU7wB,OAAO7R,GACvB6iC,EAAkB,MAAPzzB,EAAck0B,EAAM0C,WAAW52B,GAAOk0B,EAAMkD,eACnD5D,EAAgBC,MACbuE,GAAoBvE,EAASgE,SAAWO,IAAqBvE,EAASgE,UACzEtoB,EAAYxa,KAAKqL,EAKzB,QACEyC,OAAQ0M,EACRykB,UAAWoE,GA3Cb,OACEv1B,OAAQyxB,EAAM4C,YAAYW,QAAU7wB,EAAUkI,IAAMlI,EAAUmI,KAC9D6kB,WAAW,IA8CjB3jC,KAAKqkC,iBAAmB,SAAS2D,GAG/B,IAAK,GAFDx1B,GAASw1B,EAAcA,EAAYx1B,OAAS,KAC5Cy1B,EAAah3B,EAAM7I,QAAQoK,GAAU,KAAiB,MAAVA,GAAkBA,IAAWmE,EAAUkI,KAAM,EAAOrM,IAAWmE,EAAUmI,MAAO,IAAUtM,EACjI7R,EAAI,EAAGA,EAAI0iC,EAAU7wB,OAAOxR,OAAQL,IAAK,CAChD,GAAIoP,GAAMszB,EAAU7wB,OAAO7R,GACvB6iC,EAAkB,MAAPzzB,EAAck0B,EAAM0C,WAAW52B,GAAOk0B,EAAMkD,cAC3D,IAAI5D,EAAgBC,GAClB,GAAkB,MAAdyE,EACFzE,EAASgE,QAAUS,MACd,CACL,GAAIC,GAAY11B,EAAO6F,QAAQtI,IAAQ,CACvCyzB,GAASgE,QAAUQ,EAAYrE,WAAauE,EAAYA,KAMhEloC,KAAKskC,kBAAoB,WACvB,IAAKV,EAAc,CAEjB,IAAK,GADDqE,GAAa,KACRtnC,EAAI,EAAGA,EAAI0iC,EAAU7wB,OAAOxR,OAAQL,IAAK,CAChD,GAAIoP,GAAMszB,EAAU7wB,OAAO7R,GACvB6iC,EAAkB,MAAPzzB,EAAck0B,EAAM0C,WAAW52B,GAAOk0B,EAAMkD,cAC3D,IAAkB,MAAdc,EACFA,EAAazE,EAASgE,YAEtB,IAAIS,IAAezE,EAASgE,QAAS,CACnCS,EAAavB,CACb,QAKFuB,IAAevB,GACjBzC,EAAM4C,YAAYe,eAAgB,EAClC3D,EAAM4C,YAAYW,SAAU,IAE5BvD,EAAM4C,YAAYe,eAAgB,EAClC3D,EAAM4C,YAAYW,QAAUS,KA9lBpC,GAAIhX,GAAQ/vB,EAAQ,SAClB8vB,EAAW9vB,EAAQ,aACnBinC,EAAWjnC,EAAQ,4BACnB+P,EAAQ/P,EAAQ,gBAChByV,EAAYzV,EAAQ,oBACpBqmC,EAAWrmC,EAAQ,mBAErBzB,GAAOD,QAAUyxB,EAAMqK,aACrBC,YAAa,UAEbpf,YAAa,KACb3J,OAAQ,KACR41B,cAAe,KACf5M,gBAAiB,WAEf,MADAx7B,MAAKmc,YAAcnc,KAAKuzB,MAAMuI,eAAe3f,gBAG/C+oB,QAAS,WACP,GAAI1a,GAAYwG,EAASyL,YAAYz8B,MAAMi2B,UAC3CjF,GAASiN,uBAAuBzT,GAChCA,EAAUyL,WAAWyB,YAAYlN,IAEnCwa,SAAU,SAAkBhmB,EAAUC,EAAMC,EAAaC,GACvDnf,KAAKuzB,MAAMuI,eAAe3Y,YAAYnjB,KAAKuzB,MAAM9hB,MAAOuN,EAAUC,EAAMC,EAAaC,GACrFnf,KAAKklC,WAEPmD,YAAa,SAAqBnoC,GAGhC,IAFA,GAAIsqB,GAAYwG,EAASyL,YAAYz8B,MAAMi2B,WACvChwB,EAAS/F,EAAE+F,QAAU/F,EAAE89B,WACV,MAAV/3B,GAAgB,CACrB,GAAIA,GAAUukB,EACZ,OAAO,CAETvkB,GAASA,EAAOgwB,WAGlBj2B,KAAKklC,WAEPoD,aAAc,SAAsBpoC,GAGlC,IAFA,GAAIqoC,GAAcvoC,KAAKmiC,KAAKoG,YACxBtiC,EAAS/F,EAAE+F,QAAU/F,EAAE89B,WACV,MAAV/3B,GAAgB,CACrB,GAAIA,GAAUsiC,EAKZ,YAJIA,EAAYC,cAAgBD,EAAY5K,eAC1C1sB,EAAMuoB,gBAAgBt5B,GACtB+Q,EAAMooB,eAAen5B,IAIzB+F,GAASA,EAAOgwB,WAGlBj2B,KAAKklC,WAEPuD,mBAAoB,WAClBx3B,EAAM8nB,iBAAiBnB,SAAU,YAAa53B,KAAKqoC,aACnDp3B,EAAM8nB,iBAAiBnB,SAAU,QAAS53B,KAAKsoC,cAC/Cr3B,EAAM8nB,iBAAiBl5B,OAAQ,SAAUG,KAAKklC,UAEhDvI,kBAAmB,WACjB38B,KAAKooC,cAAc5W,KAAKR,EAASyL,YAAYz8B,QAE/CmhC,qBAAsB,WACpBlwB,EAAMkoB,oBAAoBvB,SAAU,YAAa53B,KAAKqoC,aACtDp3B,EAAMkoB,oBAAoBvB,SAAU,QAAS53B,KAAKsoC,cAClDr3B,EAAMkoB,oBAAoBt5B,OAAQ,SAAUG,KAAKklC,UAEnD7S,OAAQ,WAMN,QAASqW,GAAejhC,EAAOkhC,GAC7B,MAAOhC,GAAWjiC,KAAKusB,EAAM4G,cAC3B,MACEtzB,IAAKkD,GAEPwpB,EAAM4G,cACJ,MACEvC,UAAW,eAEbrE,EAAM4G,cAAc,SAClB7yB,KAAM,WACNyC,MAAOA,EACPmhC,eAAgB,aAGpB3X,EAAM4G,cACJ,MACEvC,UAAW,WACXpQ,MAAOyjB,GAAQlhC,GAEjBkhC,GAAQlhC,KAzBd,GAAIk/B,KAEJ3mC,MAAKooC,cAAgB,GAAIhF,GAAcpjC,KAAMA,KAAKmc,YAAY5K,MAAMuS,eAAe9jB,KAAKuzB,MAAM9hB,QAC9FzR,KAAKwS,OAASxS,KAAKmc,YAAY5K,MAAM+R,eAAetjB,KAAKuzB,MAAM9hB,OA2B/Di3B,EAAe/xB,EAAUkI,IAAK,aAE9B,KAAK,GAAIle,GAAI,EAAGA,EAAIX,KAAKwS,OAAOxR,OAAQL,IAChB,MAAlBX,KAAKwS,OAAO7R,GACd+nC,EAAe1oC,KAAKwS,OAAO7R,IAE3B+nC,EAAe/xB,EAAUoI,MAAO,UAIpC,IAAI8pB,GAAc7oC,KAAKuzB,MAAMuI,eAAevqB,MAAMqB,OAAOmF,MAAM2S,mBAAmBE,UAC9E4I,EAAQxzB,KAAKuzB,MAAMuI,eAAerI,UAElCqV,EAAgB9oC,KAAKmc,YAAY5K,MAAMuS,eAAe9jB,KAAKuzB,MAAM9hB,MAErE,OAAOwf,GAAM4G,cACX,SACEvC,UAAW,cACX9B,MAAOA,GAETvC,EAAM4G,cACJ,QACA,KACA5G,EAAM4G,cACJ,KACA,KACA5G,EAAM4G,cACJ,MACEvC,UAAW,cAEbrE,EAAM4G,cAAcsQ,GAClB31B,QAASmE,EAAUkJ,UAAUC,MAAM7a,KAAM0R,EAAUkJ,UAAUE,SAAS9a,KAAM0R,EAAUkJ,UAAUG,GAAG/a,KAAM0R,EAAUkJ,UAAUI,IAAIhb,KAAM0R,EAAUkJ,UAAUK,GAAGjb,KAAM0R,EAAUkJ,UAAUM,IAAIlb,KAAM0R,EAAUkJ,UAAUO,GAAGnb,KAAM0R,EAAUkJ,UAAUQ,IAAIpb,MACvPi+B,cAAe4F,GAAiBA,EAAc9pB,SAAW8pB,EAAc9pB,SAAS/Z,KAAO0R,EAAUkJ,UAAUC,MAAM7a,KACjH69B,eAAgB9iC,KAAKooC,cAAchB,qBAGvCnW,EAAM4G,cACJ,MACEvC,UAAW,cACXpQ,MAAO,sCAET,MAEF+L,EAAM4G,cACJ,MACEvC,UAAW,eAEbrE,EAAM4G,cACJ,SACErE,OACE5b,MAAO,SAGXqZ,EAAM4G,cACJ,QACA,KACA5G,EAAM4G,cACJ,KACA,KACA5G,EAAM4G,cACJ,KACA,KACA5G,EAAM4G,cAAc,SAClB7yB,KAAM,OACN+jC,YAAa,YAGjB9X,EAAM4G,cACJ,KACA,KACA5G,EAAM4G,cACJ,OACEvC,UAAW,gBACX4I,QAASl+B,KAAKgpC,aAEhB,WAQd/X,EAAM4G,cACJ,KACA,KACA5G,EAAM4G,cACJ,MACEoR,QAAS,IACT3T,UAAW,iBAEbrE,EAAM4G,cACJ,SACEvC,UAAW,gBACX2N,IAAK,eAEPhS,EAAM4G,cACJ,QACA,KACA8O,MAKR1V,EAAM4G,cACJ,MACEvC,UAAW,cAEbrE,EAAM4G,cACJ,MACEvC,UAAW,gBACX2T,QAAS,KAEXhY,EAAM4G,cAAc,SAClB7yB,KAAM,SACNswB,UAAWuT,EACXphC,MAAO,KACP+rB,OACE0V,QAAO,UAGXjY,EAAM4G,cAAc,SAClB7yB,KAAM,SACNswB,UAAWuT,EACXphC,MAAO,SACP+rB,OACE0V,QAAO,WAIbjY,EAAM4G,cACJ,MACEvC,UAAW,cAEbrE,EAAM4G,cAAc,MAAO,eA6XvCsR,mBAAoB,GACpBhL,eAAgB,GAChBiL,mBAAoB,GACpBC,2BAA4B,GAC5BrV,MAAS,QACTC,YAAa,cAEfqV,IAAK,SAASpoC,EAASzB,EAAQD,GAE7B,GAAIyxB,GAAQ/vB,EAAQ,SAClB+P,EAAQ/P,EAAQ,eAElBzB,GAAOD,QAAUyxB,EAAMqK,aACrBC,YAAa,UAEblJ,OAAQ,WACN,GAAIxZ,GAAO7Y,KAAKuzB,MAAM1a,KAClBgB,EAAU7Z,KAAKuzB,MAAM1Z,QACrB0vB,EAAevpC,KAAKuzB,MAAMxb,MAAMgT,iBAEhCpS,IAEJ,IAAIkB,GAAWA,EAAQ7Y,OAAS,EAAG,CAEjC,IAAK,GADDwoC,MACKC,EAAI,EAAGA,EAAI5vB,EAAQ7Y,OAAQyoC,IAClCD,EAAU9kC,KAAKusB,EAAM4G,cACnB,MACEtzB,IAAK,IAAMklC,GAEb5vB,EAAQ4vB,IAGZ9wB,GAAKjU,KAAKusB,EAAM4G,cACd,MACEtzB,IAAK,KAEPilC,IAIJ,GAAI3wB,GAAQA,EAAK7X,OAAS,EACxB,IAAK,GAAIL,GAAI,EAAGA,EAAIkY,EAAK7X,OAAQL,IAAK,CACpC,GAAIqR,KACJ,IAAIf,EAAM7I,QAAQyQ,EAAKlY,IACrB,IAAK,GAAIkb,GAAI,EAAGA,EAAIhD,EAAKlY,GAAGK,OAAQ6a,IAClC7J,EAAItN,KAAKusB,EAAM4G,cACb,MACEtzB,IAAK5D,EAAI,GAAKkb,GAEhBhD,EAAKlY,GAAGkb,SAIZ,KAAK,GAAI8a,KAAQ9d,GAAKlY,GAChBkY,EAAKlY,GAAG0G,eAAesvB,IACzB3kB,EAAItN,KAAKusB,EAAM4G,cACb,MACEtzB,IAAK5D,EAAI,GAAKg2B,GAEhB9d,EAAKlY,GAAGg2B,IAKhBhe,GAAKjU,KAAKusB,EAAM4G,cACd,MACEtzB,IAAK5D,GAEPqR,IAKN,MAAOif,GAAM4G,cACX,SACEvC,UAAWiU,EAAa9e,OAE1BwG,EAAM4G,cACJ,QACA,KACAlf,SAORwlB,eAAgB,GAChBnK,MAAS,UAEX0V,IAAK,SAASxoC,EAASzB,EAAQD,GAE7B,GAAIyxB,GAAQ/vB,EAAQ,SAClB8vB,EAAW9vB,EAAQ,aACnByoC,EAAczoC,EAAQ,+BACtB+/B,EAAc//B,EAAQ,+BACtB+P,EAAQ/P,EAAQ,gBAChBqU,EAAMrU,EAAQ,cACdqmC,EAAWrmC,EAAQ,oBACnB0oC,EAAO,CAETnqC,GAAOD,QAAUyxB,EAAMqK,aACrBC,YAAa,cACbC,gBAAiB,WAIf,MAHAx7B,MAAK4pC,OAASA,GAIZC,KACElU,EAAG,EACHE,EAAG,GAELiU,UACEnU,EAAG,EACHE,EAAG,GAELkU,WAAW,EACXC,UAAU,IAGdC,kBAAmB,SAA2B/pC,GAE5C,GAAiB,IAAbA,EAAEy5B,OAAN,CAEA,GAAIuQ,GAAelqC,KAAKmiC,KAAK+H,aACzBC,EAAkB5C,EAAS/R,UAAU0U,GACrC1F,EAAkB5M,SAASC,cAAc,OAEzCuS,EAAqBnZ,EAAMgC,cAAc0W,GACzCU,EAAcD,GAChB34B,MAAOzR,KAAKuzB,MAAM9hB,MAAMxM,KACxB62B,eAAgB97B,KAAKuzB,MAAMuI,gBAG7B0I,GAAgBlP,UAAYt1B,KAAKuzB,MAAMuI,eAAevqB,MAAMqB,OAAOmF,MAAM+S,mBAAmBN,UAC5Fga,EAAgBhR,MAAMsC,IAAMqU,EAAgBtU,EAAI,KAChD2O,EAAgBhR,MAAMoC,KAAOuU,EAAgBxU,EAAI,KACjDiC,SAASvM,KAAKyM,YAAY0M,GAE1BxT,EAASqB,OAAOgY,EAAa7F,GAG7BvzB,EAAMuoB,gBAAgBt5B,GACtB+Q,EAAMooB,eAAen5B,KAEvB08B,mBAAoB,WACd58B,KAAKuzB,MAAMuI,eAAevqB,MAAMqB,OAAO6E,gBACpCzX,KAAKupB,MAAMwgB,UAIL/pC,KAAKupB,MAAMwgB,YAEpB9I,EAAYxB,eAAez/B,MAC3BiR,EAAM8nB,iBAAiBnB,SAAU,YAAa53B,KAAKsqC,eALnDrJ,EAAYxB,eAAe,MAC3BxuB,EAAMkoB,oBAAoBvB,SAAU,YAAa53B,KAAKsqC,gBAQ5D3N,kBAAmB,WACjB38B,KAAKuzB,MAAMuI,eAAeyO,qBAAqBvqC,KAAKwqC,gBAEtDrJ,qBAAsB,WACpBnhC,KAAKuzB,MAAMuI,eAAe2O,uBAAuBzqC,KAAKwqC,eACtDv5B,EAAMkoB,oBAAoBvB,SAAU,YAAa53B,KAAKsqC,cAExDjC,YAAa,SAAqBnoC,GAEhC,GAAiB,IAAbA,EAAEy5B,OAAN,CAEA,GAAIz5B,EAAEwqC,QACJ1qC,KAAKuzB,MAAMuI,eAAe3f,YAAYoQ,qBAAqBvsB,KAAKuzB,MAAMte,QAASjV,KAAKuzB,MAAM9hB,WACrF,CAEL,GAAIk5B,GAAUpD,EAAS/R,UAAUxE,EAASyL,YAAYz8B,OAClD4lC,EAAc30B,EAAM2oB,eAAe15B,EAGvCF,MAAK6uB,UACHkb,WAAW,EACXa,aACEjV,EAAGgV,EAAQhV,EAAIiQ,EAAY/L,MAC3BhE,EAAG8U,EAAQ9U,EAAI+P,EAAY9L,OAE7BgQ,UACEnU,EAAGiQ,EAAY/L,MACfhE,EAAG+P,EAAY9L,SAMrB7oB,EAAMuoB,gBAAgBt5B,GACtB+Q,EAAMooB,eAAen5B,KAEvB2qC,UAAW,SAAmB3qC,GAE5B,GAAI4qC,GAAY9qC,KAAKupB,MAAMygB,QAE3BhqC,MAAK6uB,UACHkb,WAAW,EACXC,UAAU,EACVe,KAAM,KACNlB,KACElU,EAAG,EACHE,EAAG,KAIF31B,EAAEwqC,SAAYI,GAEjB9qC,KAAKuzB,MAAMuI,eAAe5oB,KAAKlT,KAAKuzB,MAAMte,QAASjV,KAAKuzB,MAAM9hB,QAGlE64B,YAAa,SAAqBpqC,GAEhC,GAAKF,KAAKuzB,MAAMuI,eAAevqB,MAAMqB,OAAO6E,eAAkBzX,KAAKupB,MAAMwgB,UAAzE,CAEA,GAAIgB,GAAO,KACPnF,EAAc30B,EAAM2oB,eAAe15B,EAKrC6qC,GAHG/qC,KAAKupB,MAAMygB,SAGPhqC,KAAKupB,MAAMwhB,KAFXxD,EAASrR,QAAQlF,EAASyL,YAAYz8B,MAK/C,IAAIgrC,IACFrV,EAAGiQ,EAAY/L,MAAQ75B,KAAKupB,MAAMqhB,YAAYjV,EAC9CE,EAAG+P,EAAY9L,MAAQ95B,KAAKupB,MAAMqhB,YAAY/U,EAG3C71B,MAAKupB,MAAMygB,UAAYgB,EAAOrV,GAAK31B,KAAKupB,MAAMsgB,IAAIlU,GAAKqV,EAAOnV,GAAK71B,KAAKupB,MAAMsgB,IAAIhU,IACrF71B,KAAK6uB,UACHmb,UAAU,EACVe,KAAMA,EACNlB,IAAKmB,IAGP/J,EAAYV,gBAGdtvB,EAAMuoB,gBAAgBt5B,GACtB+Q,EAAMooB,eAAen5B,KAEvBsqC,cAAe,WACbxZ,EAASyL,YAAYz8B,MAAMs1B,UAAYt1B,KAAKuzB,MAAMuI,eAAevqB,MAAMqB,OAAOmF,MAAM2S,mBAAmBC,aAEzG0H,OAAQ,WACN,GAAItyB,GAAOC,KACPirC,GACFrV,KAAM71B,EAAKwpB,MAAMsgB,IAAIlU,EAAI,KACzBG,IAAK/1B,EAAKwpB,MAAMsgB,IAAIhU,EAAI,KACxBrb,SAAUza,EAAKwpB,MAAMygB,SAAW,QAAU,GAC1CkB,OAAQ,IAGNnrC,GAAKwpB,MAAMwhB,OACbE,EAASrzB,MAAQ7X,EAAKwpB,MAAMwhB,KAAKnzB,MAAQ,KAG3C,IAAIuzB,GAAqD,QAAhCprC,EAAKwzB,MAAM9hB,MAAMyB,KAAKC,MAAkB,WAE/B,SAAhCpT,EAAKwzB,MAAM9hB,MAAMyB,KAAKC,MAAmB,YAEzC,GACEi4B,GAAerrC,EAAKwpB,MAAMygB,SAAW,GAAK,aAAehqC,KAAKuzB,MAAMuI,eAAevqB,MAAMwS,gBAAgB/jB,KAAKuzB,MAAM9hB,MAAMxM,MAAQ,mBAAqB,IACvJomC,EAAe,EASnB,OARItrC,GAAKwzB,MAAMte,UAAYM,EAAI1B,KAAKvC,OAClC+5B,EAAepa,EAAM4G,cACnB,QACA,KACA,KAAO93B,EAAKwzB,MAAM9hB,MAAMmD,kBAAoB,MAIzCqc,EAAM4G,cACX,OACEtzB,IAAKxE,EAAKwzB,MAAM9hB,MAAMxM,KACtBqwB,UAAWt1B,KAAKuzB,MAAMuI,eAAevqB,MAAMqB,OAAOmF,MAAM2S,mBAAmBC,YAC3E0d,YAAaroC,KAAKqoC,YAClBwC,UAAW7qC,KAAK6qC,UAChBrX,MAAOyX,GAETha,EAAM4G,cACJ,QACA,KACA5G,EAAM4G,cACJ,QACA,KACA5G,EAAM4G,cACJ,KACA,KACA5G,EAAM4G,cACJ,MACEvC,UAAW,WAEbv1B,EAAKwzB,MAAM9hB,MAAMmE,QACjBy1B,GAEFpa,EAAM4G,cACJ,KACA,KACA5G,EAAM4G,cAAc,OAClBvC,UAAW,kBAAoB6V,KAGnCla,EAAM4G,cACJ,MACEvC,UAAW,UAEbrE,EAAM4G,cAAc,OAClBoL,IAAK,eACL3N,UAAW8V,EACX/C,YAAatoC,EAAKwpB,MAAMygB,SAAW,KAAOhqC,KAAKiqC,8BAW/DrI,aAAc,GACdzD,eAAgB,GAChBiL,mBAAoB,GACpB5H,8BAA+B,GAC/B8J,8BAA+B,GAC/BtX,MAAS,QACTC,YAAa,cAEfsX,IAAK,SAASrqC,EAASzB,EAAQD,GA+L7B,QAASgsC,GAAaC,GACpB,GAAIhZ,GAAOgZ,EAAUhZ,KACjB4C,EAAY5C,EAAK/D,QACW,yBAAlB+D,EAAKhE,QA0BnB,OAxBKgE,GAAK5c,YACRwf,GAAa,gBAGX5C,EAAKztB,OAAS+W,EAAUoC,WAAWwO,WAAa8F,EAAK7F,WACvDyI,GAAa,kBAGX5C,EAAKztB,OAAS+W,EAAUoC,WAAWiQ,cACd,IAAnBqE,EAAKxgB,IAAIG,MACXijB,GAAa,mBACJ5C,EAAKxgB,IAAIG,MAAQ,IAC1BijB,GAAa,mBAIboW,EAAUC,WACZrW,GAAa,KAAyB,4BAAlB5C,EAAKhE,SAAyC,OAAS,UAAY,aAGrFgd,EAAUE,UACZtW,GAAa,iBAGRA,EA1NT,GAAIpE,GAAQ/vB,EAAQ,SAClB8vB,EAAW9vB,EAAQ,aACnB6a,EAAY7a,EAAQ,oBACpBqmC,EAAWrmC,EAAQ,oBACnB0qC,EAAe,KACfC,EAAc,IAEhBpsC,GAAOD,QAAUyxB,EAAMqK,aACrBC,YAAa,UAEbzO,OAAQ,WACN9sB,KAAKuzB,MAAMuI,eAAe3f,YAAYqW,UAAUxyB,KAAKuzB,MAAMd,OAE7D5F,SAAU,WACR7sB,KAAKuzB,MAAMuI,eAAe3f,YAAYuW,YAAY1yB,KAAKuzB,MAAMd,OAE/DqZ,gBAAiB,WACf,GAAIC,GAAO/a,EAASyL,YAAYz8B,MAC5ByyB,EAAOzyB,KAAKuzB,MAAMd,IAGtB,IAFAsZ,EAAKC,MAAQD,EAAKC,UAEbvZ,EAAK5c,UAGH,CACL,GAAIo2B,GAAkBjsC,KAAKmiC,KAAK+J,YAE5BC,KACAC,EAAiC,MAAhBR,EACjBS,GAAiBrsC,KAAKuzB,MAAMmY,UAA2B,MAAfG,EACxClD,EAAOoD,EAAKlJ,aAAekJ,EAAKO,SAUpC,IARIF,GACFD,EAASznC,KAAK,gBAGZ2nC,GACFF,EAASznC,KAAK,qBAGZynC,EAASnrC,OAAS,EAAG,CACvB,GAAIurC,GAAYhF,EAASlR,SAAS0V,EAAMI,GAAU,EAE9CC,KACFR,EAAe9f,WAAWygB,EAAU,KAGlCF,IACFR,EAAc/f,WAAWygB,EAAUH,EAAiB,EAAI,KAI5D7E,EAASnS,YAAY2W,EAAM,eAE3BA,EAAKC,MAAMQ,UAAW,EAClB7D,GAAQoD,EAAKC,MAAMS,WAAcV,EAAKC,MAAMU,aAC9CX,EAAKC,MAAMS,UAAY9D,EACvBoD,EAAKC,MAAMU,WAAanF,EAASrR,QAAQ+V,GAAiBr0B,OAE5Dm0B,EAAKC,MAAMW,SAAW3sC,KAAKuzB,MAAMd,KAAKpU,OAAM,IAAS,EACrD0tB,EAAKC,MAAMY,SAAW5sC,KAAKuzB,MAAMd,KAAKnU,OAAM,IAAS,EACrDytB,EAAKC,MAAMJ,aAAeA,EAC1BG,EAAKC,MAAMa,cAAgBjB,EAC3BG,EAAKC,MAAMc,iBAAmB9sC,KAAKuzB,MAAMmY,SAAW,EAAIG,EACxDE,EAAKC,MAAMe,kBAAoB,MAzC/BhB,GAAKC,MAAMQ,UAAW,GA4C1B7P,kBAAmB,WACjB38B,KAAK8rC,mBAEPlP,mBAAoB,WAClB58B,KAAK8rC,mBAEPkB,sBAAuB,SAA+BC,EAAWC,GAC/D,QAAID,EAAUxa,MAAQwa,EAAUxa,MAAQzyB,KAAKuzB,MAAMd,OAASzyB,KAAKmtC,sBAAwBF,EAAUxa,KAAK5c,YAK1Gs3B,qBAAqB,EACrB9a,OAAQ,WACN,GAGI5qB,GACA2lC,EAJArtC,EAAOC,KACPyyB,EAAOzyB,KAAKuzB,MAAMd,KAClB4a,KAGAC,GAAe,CAInB,QAFAttC,KAAKmtC,oBAAsB1a,EAAK5c,UAExB4c,EAAKhE,UACX,IAAK,2BACL,IAAK,8BACH,GAAI8e,GAAY9a,EAAKztB,OAAS+W,EAAUoC,WAAW8Q,SAAWwD,EAAKxgB,IAAIR,MAAMkD,SAASkB,SAAW4c,EAAKxgB,IAAIR,MAAMkD,SAASmB,YACrH03B,EAAa/a,EAAKztB,OAAS+W,EAAUoC,WAAWwO,YAAc8F,EAAK7F,QACnE2gB,IAAaC,GACfF,GAAe,EAEfD,EAAW3oC,KAAKusB,EAAM4G,cACpB,SACEtzB,IAAK,eACL0+B,IAAK,eAEPhS,EAAM4G,cACJ,QACA,KACA5G,EAAM4G,cACJ,KACA,KACA5G,EAAM4G,cACJ,MACEvC,UAAW,eAEbrE,EAAM4G,cAAc,OAClBvC,UAAW,gBAAkBiY,EAAY,OAAS,SAClDrP,QAASqP,EAAYvtC,KAAK6sB,SAAW7sB,KAAK8sB,UAG9CmE,EAAM4G,cACJ,MACEvC,UAAW,WAEbrE,EAAM4G,cAAc,OAClBkL,yBACEC,OAAQvQ,EAAKhrB,OAAS,kBAQlCA,GAASgrB,EAAKhrB,OAAS,WAAagrB,EAAKztB,OAAS+W,EAAUoC,WAAWwO,UAAY,SAAW,GAEhG,MACF,KAAK,2BACHllB,EAAQgrB,EAAKhrB,MAAMmO,OACnB,MACF,KAAK,0BACHnO,EAAQgrB,EAAKljB,WAAakjB,EAAKljB,UAAUuF,WAAa2d,EAAKljB,UAAUuF,aAAa2d,EAAKhrB,OAASgrB,EAAKhrB,MACrG2lC,EAAY,WACVrtC,EAAKwzB,MAAMuI,eAAe3f,YAAYgX,UAAUV,EAAM1yB,EAAKwzB,MAAMuI,eAAe7wB,KAOtF,IAAKqiC,EAAc,CACjB,GAAIG,EACJ,QAAQhb,EAAKhE,UACX,IAAK,0BACHgf,EAAkB,WAClB,MACF,SACuB,4BAAjBhb,EAAKhE,UAA0CgE,EAAKztB,OAAS+W,EAAUoC,WAAWiQ,cACpFqf,EAAkB,WAGxBJ,EAAW3oC,KAAKusB,EAAM4G,cACpB,OACEtzB,IAAK,aACL0+B,IAAK,cACL3N,UAAWmY,GAEbxc,EAAM4G,cAAc,OAClBkL,yBACEC,OAAQv7B,GAAS,cAMzB,MAAOwpB,GAAM4G,cACX,MACEvC,UAAWkW,EAAaxrC,KAAKuzB,OAC7Bma,cAAeN,EACfnE,QAASxW,EAAKpU,QACdsvB,QAASlb,EAAKnU,SAEhB2S,EAAM4G,cACJ,MACA,KACAwV,SAuCRO,mBAAoB,GACpBxE,mBAAoB,GACpBpV,MAAS,QACTC,YAAa,cAEf4Z,IAAK,SAAS3sC,EAASzB,EAAQD,GAE7B,GAAIyxB,GAAQ/vB,EAAQ,SAClB8vB,EAAW9vB,EAAQ,aACnB+/B,EAAc//B,EAAQ,+BACtB4sC,EAAgB5sC,EAAQ,4CAExB6sC,GADU7sC,EAAQ,2BACHA,EAAQ,4CACvB8sC,EAAgB9sC,EAAQ,4CACxB+sC,EAAa/sC,EAAQ,yCACrBgtC,EAAQhtC,EAAQ,yBAChBqmC,EAAWrmC,EAAQ,oBACnBkyB,EAAU,EACV+a,IAEF1uC,GAAOD,QAAUyxB,EAAMqK,aACrBC,YAAa,UAEbtwB,GAAImoB,IACJ7hB,MAAO,KACP4K,YAAa,KACbsX,UAAW,KACX+H,gBAAiB,WAQf,MAPAyF,GAAYzP,KAAKxxB,MAEjBmuC,EAAqBnuC,KAAKiL,OAC1BjL,KAAKuqC,qBAAqBvqC,KAAKwqC,eAE/BxqC,KAAKmc,YAAcnc,KAAKuzB,MAAMpX,YAC9Bnc,KAAKuR,MAAQvR,KAAKmc,YAAY5K,UAGhC2B,KAAM,SAAc+B,EAASxD,GAC3BzR,KAAKmc,YAAYjJ,KAAK+B,EAASxD,IAEjCmuB,WAAY,SAAoBjG,EAAQ/G,EAAYpY,GAClDxa,KAAKmc,YAAY9B,UAAUsf,EAAOpG,MAAM9hB,MAAMxM,KAAM00B,EAAOpG,MAAMte,QAAS2d,EAAYpY,IAExF2I,YAAa,SAAqB9L,EAAW2H,EAAUC,EAAMC,EAAaC,GACxEnf,KAAKmc,YAAYgH,YAAY9L,EAAW2H,EAAUC,EAAMC,EAAaC,IAEvEorB,qBAAsB,SAA8B6D,GAC9CA,GACFD,EAAqBnuC,KAAKiL,IAAIvG,KAAK0pC,IAGvC3D,uBAAwB,SAAgC2D,GACtD,GAAIztC,EACAytC,KAAiBztC,EAAIwtC,EAAqBnuC,KAAKiL,IAAIoN,QAAQ+1B,KAAkB,GAC/ED,EAAqBnuC,KAAKiL,IAAI+P,OAAOra,EAAG,IAG5CmyB,YAAa,SAAqBra,GAChC,GAAIzY,KAAKmc,YAAY5K,MAAMqB,OAAO4F,SAASC,GAEzC,IAAK,GAAI9X,GAAI,EAAGA,EAAIwtC,EAAqBnuC,KAAKiL,IAAIjK,OAAQL,IACxDwtC,EAAqBnuC,KAAKiL,IAAItK,MAIpC6pC,cAAe,WACb,GAAI6D,GAAWrd,EAASyL,YAAYz8B,MAChCirB,EAAUjrB,KAAKmc,YAAY5K,MAAMqB,OAAOmF,MAAMwS,iBAClD8jB,GAAS/Y,UAAYrK,EAAQT,UAC7B6jB,EAAShR,SAAS,GAAG/H,UAAYrK,EAAQR,OAE3CmS,mBAAoB,WAClB58B,KAAKsuC,qBAEP3R,kBAAmB,WACjB,GAAI4R,GAAYhH,EAASlR,SAASrF,EAASyL,YAAYz8B,OAAQ,cAAe,cAAc,EAC5FA,MAAKyzB,WACH2I,WAAYmS,EAAU,GACtBlS,SAAUkS,EAAU,IAGtBvuC,KAAKsuC,qBAEPA,kBAAmB,WACjB,GAAInS,GAAa2R,EAAcQ,kBAAkBtuC,KACjDm8B,GAAWC,WAAap8B,KAAKyzB,UAAU2I,WACvCD,EAAWE,SAAWr8B,KAAKyzB,UAAU4I,SAErCr8B,KAAKmiC,KAAK3F,MAAM3N,UACd4M,WAAW,EACXU,WAAYA,KAGhB9J,OAAQ,WAEN,GAAItyB,GAAOC,KAEP4S,EAAS5S,KAAKmc,YAAY5K,MAAMqB,OAChCqY,EAAUrY,EAAOmF,MAAMwS,kBAEvBikB,IAQJ,OAPI57B,GAAOgF,QACT42B,EAAS52B,MAAQhF,EAAOgF,OAEtBhF,EAAOiF,SACT22B,EAAS32B,OAASjF,EAAOiF,QAGpBoZ,EAAM4G,cACX,OACEvC,UAAWrK,EAAQT,UACnBgJ,MAAOgb,EACPvL,IAAK,SAEPhS,EAAM4G,cACJ,SACE5sB,GAAI,OAASlL,EAAKkL,GAClBg4B,IAAK,oBACL3N,UAAWrK,EAAQR,OAErBwG,EAAM4G,cACJ,WACA,KACA5G,EAAM4G,cAAc,OAClBoL,IAAK,YAEPhS,EAAM4G,cAAc,OAClBoL,IAAK,aAGThS,EAAM4G,cACJ,QACA,KACA5G,EAAM4G,cACJ,MACEoL,IAAK,gBAEPhS,EAAM4G,cACJ,MACEoR,QAAS,KAEXhY,EAAM4G,cAAckW,GAClBjS,eAAgB/7B,MAItBkxB,EAAM4G,cACJ,MACEoL,IAAK,cAEPhS,EAAM4G,cAAc,KAAM,MAC1B5G,EAAM4G,cACJ,MACErE,OACEib,QAAS,wBAGbxd,EAAM4G,cAAcmW,GAClBlS,eAAgB/7B,MAItBkxB,EAAM4G,cACJ,KACA,KACA5G,EAAM4G,cACJ,MACErE,OACEhZ,SAAU,aAGdyW,EAAM4G,cAAcoW,GAClBnS,eAAgB/7B,EAChBkjC,IAAK,gBAGThS,EAAM4G,cACJ,KACA,KACA5G,EAAM4G,cAAcqW,GAClBpS,eAAgB/7B,EAChBiY,UAAWpF,EAAOoF,UAClBirB,IAAK,oBAWrBmG,mBAAoB,GACpBsF,wBAAyB,GACzBlN,8BAA+B,GAC/BmN,2CAA4C,GAC5CC,wCAAyC,GACzCC,2CAA4C,GAC5CC,0CAA2C,GAC3CC,0BAA2B,GAC3B/a,MAAS,QACTC,YAAa,cAEf+a,IAAK,SAAS9tC,EAASzB,EAAQD,GAE7B,GAAIyxB,GAAQ/vB,EAAQ,SAClB+tC,EAAY/tC,EAAQ,6BACpBqU,EAAMrU,EAAQ,aAEhBzB,GAAOD,QAAUyxB,EAAMqK,aACrBC,YAAa,UAEblJ,OAAQ,WACN,GAMI6U,GANAnnC,EAAOC,KAIPkvC,GAFgBlvC,KAAKuzB,MAAMvhB,IAAIhR,OAAS,EAChChB,KAAKuzB,MAAMvhB,IAAI,IACH,GACpBm9B,EAAcpvC,EAAKwzB,MAAM4b,YAGzBC,KAEAC,GAAY,CAwChB,OAtCAnI,GAAQlnC,KAAKuzB,MAAMvhB,IAAIyB,IAAI,SAASgf,EAAMnpB,GAExC,GAAIgmC,IAAa,CAsBjB,OAjBI7c,GAAK5c,WAAas5B,IAChB1c,EAAKxgB,KACHwgB,EAAKxgB,IAAI0B,QAA2DnQ,SAAjD2rC,EAAYI,aAAa9c,EAAKxgB,IAAIG,MAAQ,KAAqBqgB,EAAKxgB,IAAI0B,QAAuDnQ,SAA7C2rC,EAAYI,aAAa9c,EAAKxgB,IAAIG,SAAyBqgB,EAAKxgB,IAAI2B,OAAOD,QAAUw7B,EAAYI,aAAa9c,EAAKxgB,IAAIG,MAAQ,KAAOqgB,EAAKxgB,IAAI2B,WACtPy7B,GAAY,EACZF,EAAYI,aAAa9c,EAAKxgB,IAAIG,OAASqgB,EAAKxgB,KAExCk9B,EAAYI,aAAa,KACnCF,EAAYF,EAAYI,aAAa,IAAO,GAGzCL,GAAsBnvC,EAAKwzB,MAAMte,UAAYM,EAAI1B,KAAKvC,MAAQvR,EAAKwzB,MAAMte,UAAYM,EAAI1B,KAAKzC,SAAkD,IAAtC+9B,EAAYK,wBAEzHF,EAAaJ,GAAoB,EACjCC,EAAYK,sBAAwB/c,EAAKnU,QAAU,IAIhD2S,EAAM4G,cAAcoX,GACzB1qC,IAAK+E,EACLmpB,KAAMA,EACNiZ,SAAU4D,EACV3D,QAAS0D,EACTvT,eAAgB/7B,EAAKwzB,MAAMuI,mBAK3BqT,GAAeA,EAAYK,sBAAwB,IAAMN,GAC3DC,EAAYK,wBAGPve,EAAM4G,cACX,MACErE,MAAO4b,GAETlI,QAMNtF,aAAc,GACd6N,4BAA6B,GAC7Bzb,MAAS,UAEX0b,IAAK,SAASxuC,EAASzB,EAAQD,GAE7B,GAAIyxB,GAAQ/vB,EAAQ,SAClBqU,EAAMrU,EAAQ,cACdyuC,EAAczuC,EAAQ,+BACtB0uC,EAAa1uC,EAAQ,6BAEvBzB,GAAOD,QAAUyxB,EAAMqK,aACrBC,YAAa,UAEblJ,OAAQ,WACN,GAAItyB,GAAOC,KACP4S,EAAS5S,KAAKuzB,MAAMuI,eAAe3f,YAAY5K,MAAMqB,OAErDi9B,EAAgBj9B,EAAOC,aAAaY,IAAI,SAAShC,EAAOnI,GAC1D,MAAO2nB,GAAM4G,cAAc8X,GACzBprC,IAAKkN,EAAMxM,KACXwM,MAAOA,EACPwD,QAASM,EAAI1B,KAAKzC,QAClBoJ,SAAUlR,EACVwyB,eAAgB/7B,EAAKwzB,MAAMuI,kBAI/B,OAAO7K,GAAM4G,cAAc+X,GACzBpzB,QAASqzB,EACT56B,QAASM,EAAI1B,KAAKzC,eAMxBwwB,aAAc,GACdkO,6BAA8B,GAC9BC,8BAA+B,GAC/B/b,MAAS,UAEXgc,IAAK,SAAS9uC,EAASzB,EAAQD,GAE7B,GAAIyxB,GAAQ/vB,EAAQ,SAClBqU,EAAMrU,EAAQ,cACd+uC,EAAW/uC,EAAQ,2BAErBzB,GAAOD,QAAUyxB,EAAMqK,aACrBC,YAAa,UAEblJ,OAAQ,WACN,GAAItyB,GAAOC,KACPmc,EAAcnc,KAAKuzB,MAAMuI,eAAe3f,YACxC+zB,EAAmD,IAAvC/zB,EAAYvD,QAAQiB,QAAQ7Y,OAAe,GAAK,gBAE5DmuC,GACFK,sBAAuB,EACvBD,iBAGExxB,EAAgB5B,EAAYvD,QAAQiB,QAAQpG,IAAI,SAAS+1B,EAAWlgC,GACtE,MAAO2nB,GAAM4G,cAAcoY,GACzB1rC,IAAK+E,EACL0I,IAAKw3B,EACLv0B,QAASM,EAAI1B,KAAKzC,QAClB0qB,eAAgB/7B,EAAKwzB,MAAMuI,eAC3BqT,YAAaA,KAIjB,OAAOle,GAAM4G,cACX,OACEvC,UAAW,wBAA0B4a,EACrCC,QAASnwC,KAAKuzB,MAAMuI,eAAeqU,SAErClf,EAAM4G,cACJ,SACEvC,UAAW,eAEbrE,EAAM4G,cAAc,WAAY,MAChC5G,EAAM4G,cACJ,QACA,KACA9Z,UAQV6jB,aAAc,GACdwO,2BAA4B,GAC5Bpc,MAAS,UAEXqc,IAAK,SAASnvC,EAASzB,EAAQD,GAE7B,GAAIyxB,GAAQ/vB,EAAQ,SAClBqU,EAAMrU,EAAQ,cACd+uC,EAAW/uC,EAAQ,2BAErBzB,GAAOD,QAAUyxB,EAAMqK,aACrBC,YAAa,UAEblJ,OAAQ,WACN,GAAItyB,GAAOC,KACPmc,EAAcnc,KAAKuzB,MAAMuI,eAAe3f,YACxCgzB,GACFK,sBAAuB,EACvBD,iBAGEe,EAAYn0B,EAAYsC,SAAShL,IAAI,SAAS+K,EAASlV,GACzD,MAAO2nB,GAAM4G,cAAcoY,GACzB1rC,IAAK+E,EACL0I,IAAKwM,EACLvJ,QAASM,EAAI1B,KAAKvC,KAClB69B,YAAaA,EACbrT,eAAgB/7B,EAAKwzB,MAAMuI,kBAI/B,OAAO7K,GAAM4G,cACX,OACEvC,UAAW,kCACX6a,QAASnwC,KAAKuzB,MAAMuI,eAAeqU,SAErClf,EAAM4G,cACJ,SACEvC,UAAW,eAEbrE,EAAM4G,cAAc,WAAY,MAChC5G,EAAM4G,cACJ,QACA,KACAyY,UAQV1O,aAAc,GACdwO,2BAA4B,GAC5Bpc,MAAS,UAEXuc,IAAK,SAASrvC,EAASzB,EAAQD,GAE7B,GAAIyxB,GAAQ/vB,EAAQ,SAClByuC,EAAczuC,EAAQ,+BACtB0uC,EAAa1uC,EAAQ,8BACrBsvC,EAAqBtvC,EAAQ,sCAC7BqU,EAAMrU,EAAQ,aAEhBzB,GAAOD,QAAUyxB,EAAMqK,aACrBC,YAAa,UAEblJ,OAAQ,WACN,GAAItyB,GAAOC,KACP4S,EAAS5S,KAAKuzB,MAAMuI,eAAe3f,YAAY5K,MAAMqB,OAErD69B,EAAa79B,EAAOE,UAAUW,IAAI,SAAShC,EAAOnI,GACpD,MAAO2nB,GAAM4G,cAAc8X,GACzBprC,IAAKkN,EAAMxM,KACXwM,MAAOA,EACPwD,QAASM,EAAI1B,KAAKxC,KAClBmJ,SAAUlR,EACVwyB,eAAgB/7B,EAAKwzB,MAAMuI,kBAI/B,OAAIlpB,GAAOoF,UAAUtB,QACZua,EAAM4G,cAAc2Y,GACzBh0B,QAASi0B,EACTx7B,QAASM,EAAI1B,KAAKxC,OAGb4f,EAAM4G,cAAc+X,GACzBpzB,QAASi0B,EACTx7B,QAASM,EAAI1B,KAAKxC,YAO1BuwB,aAAc,GACdkO,6BAA8B,GAC9BY,qCAAsC,GACtCX,8BAA+B,GAC/B/b,MAAS,UAEX2c,IAAK,SAASzvC,EAASzB,EAAQD,GAE7B,GAAIyxB,GAAQ/vB,EAAQ,SAClB8vB,EAAW9vB,EAAQ,aACnB+uC,EAAW/uC,EAAQ,4BACnBqU,EAAMrU,EAAQ,aAEhBzB,GAAOD,QAAUyxB,EAAMqK,aACrBC,YAAa,UAEbqV,YAAa,SAAqBvZ,GAChC,GAAI0U,GAAO/a,EAASyL,YAAYz8B,MAC5Bs3B,EAAet3B,KAAKmiC,KAAK0O,QAC7B9E,GAAKvY,MAAMiE,YAAc,OAEzBH,EAAawZ,UAAY,EACzB,KAAK,GAAInwC,GAAI,EAAGA,EAAI02B,EAAOr2B,OAAQL,IAAK,CACtC,GAAIg3B,GAAMC,SAASC,cAAc,MACjCF,GAAInE,MAAM5b,MAAQyf,EAAO12B,GAAK,EAAI,KAClC22B,EAAaQ,YAAYH,GAE3BoU,EAAKvY,MAAMiE,YAAc,SAE3BpF,OAAQ,WACN,GAAItyB,GAAOC,KACPmc,EAAcnc,KAAKuzB,MAAMuI,eAAe3f,YACxC+zB,EAAgD,IAApC/zB,EAAYxD,KAAKkB,QAAQ7Y,OAAe,GAAK,aAEzDmuC,GACFK,sBAAuB,EACvBD,iBAGEzxB,EAAa3B,EAAYxD,KAAKkB,QAAQpG,IAAI,SAAS+1B,EAAWlgC,GAChE,MAAO2nB,GAAM4G,cAAcoY,GACzB1rC,IAAK+E,EACL0I,IAAKw3B,EACLv0B,QAASM,EAAI1B,KAAKxC,KAClB89B,YAAaA,EACbrT,eAAgB/7B,EAAKwzB,MAAMuI,kBAI/B,OAAO7K,GAAM4G,cACX,OACEvC,UAAW,wBAA0B4a,EACrCC,QAASnwC,KAAKuzB,MAAMuI,eAAeqU,SAErClf,EAAM4G,cACJ,SACEvC,UAAW,eAEbrE,EAAM4G,cAAc,YAClBoL,IAAK,aAEPhS,EAAM4G,cACJ,QACA,KACA/Z,UAQV8jB,aAAc,GACdwO,2BAA4B,GAC5Bpc,MAAS,QACTC,YAAa,cAEf8c,IAAK,SAAS7vC,EAASzB,EAAQD,GAuF7B,QAASwxC,GAAkBnR,EAAW0N,EAAW0D,GAC/C,GAEElG,GAFEhrC,EAAOC,KACT+rC,EAAO/a,EAASyL,YAAYoD,EAG9B7/B,MAAK+rC,KAAOwB,EAAYxB,EAAK1O,SAAS,GAAK0O,EAE3ChB,EAAOxD,EAASrR,QAAQl2B,KAAK+rC,MAC7B/rC,KAAKkxC,EAAInG,EAAKnzB,MACd5X,KAAKypC,EAAIsB,EAAKlzB,OAEd7X,KAAKmxC,SAAW,SAASC,EAAW3pC,GAClC1H,EAAKgsC,KAAKvY,MAAM4d,GAAa3pC,EAAQ,MAGvCzH,KAAKqxC,eAAiB,SAASD,EAAW3pC,GACxC1H,EAAKgsC,KAAK9V,WAAWzC,MAAM4d,GAAa3pC,EAAQ,MAGlDzH,KAAKsxC,iBAAmB,SAASC,GAO/B,IAAK,GANDxjC,IACF0C,OACA+gC,MAAO,GAIA7wC,EAAI,EAAGA,EAAIZ,EAAK0xC,UAAUzwC,OAAQL,IACzCoN,EAAO0C,IAAI/L,KAAKwC,KAAKuJ,IAAI1Q,EAAK0xC,UAAU9wC,GAAI4wC,EAAcE,UAAU9wC,KACpEoN,EAAOyjC,OAASzjC,EAAO0C,IAAI9P,EAG7B,OAAOoN,IAGT/N,KAAK0xC,WAAa,SAASjqC,GACrBA,EAAQ,IACV1H,EAAKmxC,GAAKzpC,EACV1H,EAAK0xC,UAAU1xC,EAAK0xC,UAAUzwC,OAAS,IAAMyG,IAI/B,UAAdwpC,GAEFU,EAAmB3xC,MAIvB,QAAS2xC,GAAmBC,GAC1B,GAAIA,GAAaA,EAAU7F,KAAM,CAK/B,IAAK,GAHD8F,GAAMD,EAAU7F,KAChB0F,KAEK3/B,EAAW,EAAGA,EAAW+/B,EAAIl5B,KAAK3X,OAAQ8Q,IAAY,CAQ7D,IAAK,GANDkM,GAAU6zB,EAAIl5B,KAAK7G,GAEnBggC,EAAa,EACbC,EAAY,KAGPC,EAAY,EAAGA,EAAYh0B,EAAQkpB,MAAMlmC,OAAQgxC,IAAa,CAErE,GAAIC,GAAWj0B,EAAQkpB,MAAM8K,EAE7B,IAAIC,EAASjG,MAAMQ,SAQjB,IAAK,GALD0F,GAAYhrC,KAAK4vB,KAAKmb,EAASjG,MAAMU,WAAauF,EAASjG,MAAMW,SAAWsF,EAASjG,MAAMJ,aAAeqG,EAASjG,MAAMa,cAAgBoF,EAASjG,MAAMc,iBAAmBmF,EAASjG,MAAMe,mBAKrLoF,GAHMF,EAASjG,MAAMY,SAAW,GAAKqF,EAASjG,MAAMY,UAAYiF,EAAIl5B,KAAK3X,OAAS8Q,EAG1E,GAAGqgC,EAAQF,EAASjG,MAAMW,SAAUwF,IAAS,CAM5D,IAFAJ,EAAYN,EAAUK,GAEfC,GAAaA,EAAUK,QAAU,GACtCL,EAAUK,UACVN,IACAC,EAAYN,EAAUK,EAGpBL,GAAUzwC,OAAS,EAAI8wC,EACzBL,EAAU/sC,MACRkT,MAAOs6B,IAEAA,EAAYT,EAAUK,GAAYl6B,QAC3C65B,EAAUK,GAAYl6B,MAAQs6B,GAGhCT,EAAUK,GAAYM,QAAUH,EAASjG,MAAMY,SAAW,EAG1DkF,KAON,IADAC,EAAYN,EAAUK,GACfC,GACDA,EAAUK,QAAU,GACtBL,EAAUK,UAEZN,IACAC,EAAYN,EAAUK,GAK1BF,EAAUV,EAAI,EACdU,EAAUH,UAAYA,EAAUh+B,IAAI,SAASklB,EAAMrvB,GAEjD,MADAsoC,GAAUV,GAAKvY,EAAK/gB,MACb+gB,EAAK/gB,SAzMlB,GAAIoZ,GAAW9vB,EAAQ,aACrBqmC,EAAWrmC,EAAQ,oBAEjB4sC,EAAgBruC,EAAOD,SACzB8uC,kBAAmB,SAA2B9O,GAC5C,MAAIA,GAAUrjB,YAAY5K,MAAMqB,OAAOoF,UAAUtB,QACxCo3B,EAAcuE,4BAA4B7S,OAEjDsO,GAAcwE,4BAA4B9S,IAG9C6S,4BAA6B,SAAqC7S,GAChE,GAAI+S,GAAoB/S,EAAU2C,KAAKoQ,kBACrCC,EAAQ,GAAIxB,GAAkBxR,EAAU2C,KAAKqQ,OAC7CC,EAAU,GAAIzB,GAAkBxR,EAAU2C,KAAKuQ,cAC/CC,EAAQ,GAAI3B,GAAkBxR,EAAU2C,KAAKyQ,YAC7CC,EAAW,GAAI7B,GAAkBxR,EAAU2C,KAAKsO,YAEhDqC,GADQ,GAAI9B,GAAkBxR,EAAU2C,KAAK3F,OAChCt1B,KAAKuJ,IAAIoiC,EAAS3B,EAAG,KAClC6B,EAAaP,EAAMtB,EAAI4B,EACvBE,EAAcxT,EAAUrjB,YAAY5K,MAAMqB,OAAOiF,OACjDo7B,EAAeD,EAAqBA,GAAeP,EAAQhJ,EAAIkJ,EAAMlJ,GAAxC,IAK/B,OAFAlC,GAASpQ,oBAAoBob,GAAoBO,EAAYC,KAG3Dn7B,MAAOm7B,EACPl7B,OAAQo7B,IAGZX,4BAA6B,SAAqC9S,GAEhE,GAAI+S,GAAoB/S,EAAU2C,KAAKoQ,kBACrCC,EAAQ,GAAIxB,GAAkBxR,EAAU2C,KAAKqQ,OAC7C16B,EAAU,GAAIk5B,GAAkBxR,EAAU2C,KAAKrqB,SAC/Co7B,EAAc,GAAIlC,GAAkBxR,EAAU2C,KAAKgR,YAAY,EAAM,SACrEC,EAAc,GAAIpC,GAAkBxR,EAAU2C,KAAKrkB,YAAY,EAAM,SACrEu1B,EAAe,GAAIrC,GAAkBxR,EAAU2C,KAAKmO,WAAW,EAAM,SACrEmC,EAAU,GAAIzB,GAAkBxR,EAAU2C,KAAKuQ,cAC/CC,EAAQ,GAAI3B,GAAkBxR,EAAU2C,KAAKyQ,YAC7CC,EAAW,GAAI7B,GAAkBxR,EAAU2C,KAAKsO,YAAY,GAC5D6C,EAAU,GAAItC,GAAkBxR,EAAU2C,KAAKoR,qBAC/CC,EAAU,GAAIxC,GAAkBxR,EAAU2C,KAAKsR,mBAC/CC,EAAkBL,EAAa/B,iBAAiB4B,GAChDS,EAAgBzsC,KAAKuJ,IAAI2iC,EAAYlC,EAAG2B,EAAS3B,EAAG,IACpD0C,EAA0B1sC,KAAKsJ,IAAIkjC,EAAgBlC,MAAQ,EAAGgB,EAAMtB,EAAIyC,EAAgBH,EAAQtC,GAChG8B,EAAcxT,EAAUrjB,YAAY5K,MAAMqB,OAAOiF,OACjDg8B,EAAsBb,EAAqBA,GAAel7B,EAAUA,EAAQ2xB,EAAI,GAAK,IAAMgJ,EAAQhJ,EAAIkJ,EAAMlJ,EAAIyJ,EAAYzJ,EAAI6J,EAAQ7J,GAArG,KACpCqK,EAAwBD,EAA4B3sC,KAAK4vB,KAAK5vB,KAAKsJ,IAAIqjC,EAAoBR,EAAa5J,IAA3D,IAG/C2J,GAAY1B,WAAWiC,EAAgBP,EAAYlC,GAGnD3J,EAASpQ,oBAAoBkc,EAAatH,KAAM2H,EAAgBjjC,KAGhE82B,EAASpQ,oBAAoB+b,EAAYnH,KAAM2H,EAAgBjjC,KAG/D82B,EAASpQ,oBAAoBic,EAAYrH,KAAMqH,EAAY3B,WAE3D4B,EAAalC,SAAS,QAASuC,EAAgBlC,OAC/C0B,EAAY/B,SAAS,QAASuC,EAAgBlC,OAC9C4B,EAAYjC,SAAS,QAASwC,GAG9BN,EAAahC,eAAe,QAASuC,GACrCV,EAAY7B,eAAe,QAASuC,GAEhCE,IAEFT,EAAahC,eAAe,SAAUyC,GACtCV,EAAY/B,eAAe,SAAUyC,IAIvCvM,EAASpQ,oBAAoBob,GAAoBoB,EAAeC,EAAyBJ,EAAQtC,EAAGhqC,KAAKuJ,IAAI+hC,EAAMtB,GAAKyC,EAAgBC,EAA0BJ,EAAQtC,GAAI,KAE9K1R,EAAU2C,KAAKoR,oBAAoBvyB,UACnCwe,EAAU2C,KAAKsR,kBAAkBzyB,cA4MrCooB,mBAAoB,GACpBnV,YAAa,cAEf8f,IAAK,SAAS7yC,EAASzB,EAAQD,GAE7B,GAAIyxB,GAAQ/vB,EAAQ,SAClByuC,EAAczuC,EAAQ,+BACtB0uC,EAAa1uC,EAAQ,8BACrBqU,EAAMrU,EAAQ,aAEhBzB,GAAOD,QAAUyxB,EAAMqK,aACrBC,YAAa,UAEblJ,OAAQ,WACN,GAGI2hB,GAHAj0C,EAAOC,KACP4S,EAAS5S,KAAKuzB,MAAMuI,eAAe3f,YAAY5K,MAAMqB,MAGzD,IAAIA,EAAO6E,cAAe,CACxB,GAAIw8B,GAAgBrhC,EAAOwG,kBAAkB3F,IAAI,SAAShC,EAAOnI,GAC/D,MAAO2nB,GAAM4G,cAAc8X,GACzBprC,IAAKkN,EAAMxM,KACXwM,MAAOA,EACPwD,QAAS,KACTuF,SAAUlR,EACVwyB,eAAgB/7B,EAAKwzB,MAAMuI,kBAG/BkY,GAAmB/iB,EAAM4G,cACvB,KACA,KACA5G,EAAM4G,cACJ,MACEvC,UAAW,mCAEbrE,EAAM4G,cACJ,MACA,KACA,WAGJ5G,EAAM4G,cACJ,MACEvC,UAAW,WAEbrE,EAAM4G,cAAc+X,GAClBpzB,QAASy3B,EACTh/B,QAAS,aAKf++B,GAAmB,IAGrB,IAAIE,GAActhC,EAAOG,WAAWU,IAAI,SAAShC,EAAOnI,GACtD,MAAO2nB,GAAM4G,cAAc8X,GACzBprC,IAAKkN,EAAMxM,KACXwM,MAAOA,EACPwD,QAASM,EAAI1B,KAAKvC,KAClBkJ,SAAUlR,EACVwyB,eAAgB/7B,EAAKwzB,MAAMuI,mBAI3BqY,EAAiBljB,EAAM4G,cACzB,KACA,KACA5G,EAAM4G,cACJ,MACEvC,UAAW,2BAEbrE,EAAM4G,cACJ,MACA,KACA,SAGJ5G,EAAM4G,cACJ,MACEvC,UAAW,SAEbrE,EAAM4G,cAAc+X,GAClBpzB,QAAS03B,EACTj/B,QAASM,EAAI1B,KAAKvC,QAKxB,OAAO2f,GAAM4G,cACX,SACEvC,UAAW,6BAEbrE,EAAM4G,cACJ,QACA,KACAmc,EACAG,SAORvS,aAAc,GACdkO,6BAA8B,GAC9BC,8BAA+B,GAC/B/b,MAAS,UAEXogB,IAAK,SAASlzC,EAASzB,EAAQD,GAE7B,GAAIyxB,GAAQ/vB,EAAQ,SAClB8vB,EAAW9vB,EAAQ,aACnB+/B,EAAc//B,EAAQ,+BACtB4sC,EAAgB5sC,EAAQ,4CACxBmzC,EAAUnzC,EAAQ,2BAClB6sC,EAAe7sC,EAAQ,2CACvB8sC,EAAgB9sC,EAAQ,4CACxB+sC,EAAa/sC,EAAQ,yCACrBozC,EAAapzC,EAAQ,yCACrBqzC,EAAgBrzC,EAAQ,4CACxBszC,EAAYtzC,EAAQ,wCACpBuzC,EAAavzC,EAAQ,8BACrBwzC,EAAsBD,EAAWC,oBACjCC,EAAoBF,EAAWE,kBAC/B1jC,EAAQ/P,EAAQ,gBAChBqmC,EAAWrmC,EAAQ,oBACnBkyB,EAAU,EACV+a,IAEF1uC,GAAOD,QAAUyxB,EAAMqK,aACrBC,YAAa,UAEbtwB,GAAImoB,IACJ7hB,MAAO,KACP4K,YAAa,KACbsX,UAAW,KACX+H,gBAAiB,WAQf,MAPAyF,GAAYzP,KAAKxxB,MAEjBmuC,EAAqBnuC,KAAKiL,OAC1BjL,KAAKuqC,qBAAqBvqC,KAAKwqC,eAE/BxqC,KAAKmc,YAAcnc,KAAKuzB,MAAMpX,YAC9Bnc,KAAKuR,MAAQvR,KAAKmc,YAAY5K,UAGhC2B,KAAM,SAAc+B,EAASxD,GAC3BzR,KAAKmc,YAAYjJ,KAAK+B,EAASxD,IAEjCmuB,WAAY,SAAoBjG,EAAQ/G,EAAYpY,GAClDxa,KAAKmc,YAAY9B,UAAUsf,EAAOpG,MAAM9hB,MAAMxM,KAAM00B,EAAOpG,MAAMte,QAAS2d,EAAYpY,IAExFS,gBAAiB,SAAyBhG,GACxCjV,KAAKmc,YAAYlB,gBAAgBhG,IAEnCmG,iBAAkB,SAA0BnG,GAC1CjV,KAAKmc,YAAYf,iBAAiBnG,IAEpCkO,YAAa,SAAqB9L,EAAW2H,EAAUC,EAAMC,EAAaC,GACxEnf,KAAKmc,YAAYgH,YAAY9L,EAAW2H,EAAUC,EAAMC,EAAaC,IAEvEorB,qBAAsB,SAA8B6D,GAC9CA,GACFD,EAAqBnuC,KAAKiL,IAAIvG,KAAK0pC,IAGvC3D,uBAAwB,SAAgC2D,GACtD,GAAIztC,EACAytC,KAAiBztC,EAAIwtC,EAAqBnuC,KAAKiL,IAAIoN,QAAQ+1B,KAAkB,GAC/ED,EAAqBnuC,KAAKiL,IAAI+P,OAAOra,EAAG,IAG5CmyB,YAAa,SAAqBra,GAChC,GAAIzY,KAAKmc,YAAY5K,MAAMqB,OAAO4F,SAASC,GAEzC,IAAK,GAAI9X,GAAI,EAAGA,EAAIwtC,EAAqBnuC,KAAKiL,IAAIjK,OAAQL,IACxDwtC,EAAqBnuC,KAAKiL,IAAItK,MAIpC6pC,cAAe,WACb,GAAI6D,GAAWrd,EAASyL,YAAYz8B,MAChCirB,EAAUjrB,KAAKmc,YAAY5K,MAAMqB,OAAOmF,MAAMwS,iBAClD8jB,GAAS/Y,UAAYrK,EAAQT,UAC7B6jB,EAAShR,SAAS,GAAG/H,UAAYrK,EAAQR,OAE3CmS,mBAAoB,WAClB58B,KAAKsuC,qBAEP3R,kBAAmB,WACjB,GAAI4R,GAAYhH,EAASlR,SAASrF,EAASyL,YAAYz8B,OAAQ,cAAe,cAAc,EAC5FA,MAAKyzB,WACH2I,WAAYmS,EAAU,GACtBlS,SAAUkS,EAAU,GAGtB,IAAIqG,GAAgB5jB,EAASyL,YAAYz8B,KAAKmiC,KAAKmO,WAC/CuE,EAAqBD,EAAcvX,SAAS,GAC5CyX,EAAiB9jB,EAASyL,YAAYz8B,KAAKmiC,KAAKgR,YAChD4B,EAAiB/jB,EAASyL,YAAYz8B,KAAKmiC,KAAKrkB,WAEpD9d,MAAKmiC,KAAKoR,oBAAoByB,gBAAgBJ,EAAe,SAASK,GACpE,GAAIC,GAAehuC,KAAK4vB,KAAKme,GAAiB1N,EAASrR,QAAQ2e,GAAoBj9B,MAAQ2vB,EAASrR,QAAQ0e,GAAeh9B,OAC3Hk9B,GAAe9a,WAAakb,EAC5BN,EAAc5a,WAAakb,IAG7Bl1C,KAAKmiC,KAAKsR,kBAAkBuB,gBAAgBJ,EAAe,SAASK,GAClE,GAAIC,GAAehuC,KAAK4vB,KAAKme,GAAiB1N,EAASrR,QAAQ2e,GAAoBh9B,OAAS0vB,EAASrR,QAAQ0e,GAAe/8B,QAC5Hk9B,GAAe5a,UAAY+a,EAC3BN,EAAcza,UAAY+a,IAG5Bl1C,KAAKsuC,qBAEP6B,QAAS,SAAiBjwC,GACxB,GAAIw/B,GACAyV,EACAC,CAEAl1C,GAAEm1C,gBAAkB3V,EAAO1O,EAASyL,YAAYz8B,KAAKmiC,KAAKgR,cAC5DgC,EAAYn1C,KAAKmiC,KAAKoR,oBACtB6B,EAASl1C,EAAEo1C,QAAUp1C,EAAEq1C,QACdr1C,EAAEm1C,gBAAkB3V,EAAO1O,EAASyL,YAAYz8B,KAAKmiC,KAAKrkB,cAAgB5d,EAAEm1C,gBAAkB3V,EAAO1O,EAASyL,YAAYz8B,KAAKmiC,KAAKmO,cAC7I6E,EAAYn1C,KAAKmiC,KAAKsR,kBACtB2B,EAASl1C,EAAEq1C,QAGTJ,GAAaA,EAAUK,OAAOJ,EAAQl1C,EAAEu1C,aAC1CxkC,EAAMuoB,gBAAgBt5B,GACtB+Q,EAAMooB,eAAen5B,KAGzBouC,kBAAmB,WACjBR,EAAcQ,kBAAkBtuC,MAChCA,KAAKmiC,KAAKoR,oBAAoBvyB,UAC9BhhB,KAAKmiC,KAAKsR,kBAAkBzyB,WAE9BqR,OAAQ,WAEN,GAAItyB,GAAOC,KAEP4S,EAAS5S,KAAKmc,YAAY5K,MAAMqB,OAChCqY,EAAUrY,EAAOmF,MAAMwS,kBAEvBikB,IAQJ,OAPI57B,GAAOgF,QACT42B,EAAS52B,MAAQhF,EAAOgF,OAEtBhF,EAAOiF,SACT22B,EAAS32B,OAASjF,EAAOiF,QAGpBoZ,EAAM4G,cACX,OACEvC,UAAWrK,EAAQT,UACnBgJ,MAAOgb,EACPvL,IAAK,SAEPrwB,EAAOkF,SAAWlF,EAAOkF,QAAQjC,QAAUob,EAAM4G,cAC/C,OACEoL,IAAK,UACL3N,UAAW,eAEbrE,EAAM4G,cAAcwc,GAClBvY,eAAgB/7B,KAEhB,KACJkxB,EAAM4G,cACJ,SACE5sB,GAAI,OAASlL,EAAKkL,GAClBg4B,IAAK,oBACL3N,UAAWrK,EAAQR,MACnB+I,OACEiE,YAAa,UAGjBxG,EAAM4G,cACJ,WACA,KACA5G,EAAM4G,cAAc,OAClBoL,IAAK,YAEPhS,EAAM4G,cAAc;AAClBoL,IAAK,YAEPhS,EAAM4G,cAAc,OAClBoL,IAAK,YAEPhS,EAAM4G,cAAc,OAClBoL,IAAK,aAGThS,EAAM4G,cACJ,QACA,KACA5G,EAAM4G,cACJ,MACEoL,IAAK,eACL3N,UAAW,qBAEbrE,EAAM4G,cACJ,MACEoR,QAAS,KAEXhY,EAAM4G,cAAckW,GAClBjS,eAAgB/7B,MAItBkxB,EAAM4G,cACJ,MACEoL,IAAK,aACL3N,UAAW,sBAEbrE,EAAM4G,cAAc,KAAM,MAC1B5G,EAAM4G,cACJ,MACErE,OACEib,QAAS,wBAGbxd,EAAM4G,cAAcmW,GAClBlS,eAAgB/7B,KAGpBkxB,EAAM4G,cAAc,MAClBoR,QAAS,OAGbhY,EAAM4G,cACJ,KACA,KACA5G,EAAM4G,cACJ,MACErE,OACEhZ,SAAU,aAGdyW,EAAM4G,cAAcoW,GAClBnS,eAAgB/7B,EAChBkjC,IAAK,gBAGThS,EAAM4G,cACJ,KACA,KACA5G,EAAM4G,cAAc0c,GAClBzY,eAAgB/7B,EAChBkjC,IAAK,gBAGThS,EAAM4G,cAAc,MAClBoR,QAAS,OAGbhY,EAAM4G,cACJ,KACA,KACA5G,EAAM4G,cACJ,KACA,KACA5G,EAAM4G,cAAcyc,GAClBxY,eAAgB/7B,EAChBkjC,IAAK,gBAGThS,EAAM4G,cACJ,KACA,KACA5G,EAAM4G,cAAc2c,GAClB1Y,eAAgB/7B,EAChBkjC,IAAK,eAGThS,EAAM4G,cACJ,KACA,KACA5G,EAAM4G,cAAc8c,GAClB7Y,eAAgB/7B,EAChBkjC,IAAK,uBAGThS,EAAM4G,cAAc,KAAM,OAE5B5G,EAAM4G,cACJ,KACA,KACA5G,EAAM4G,cAAc,KAAM,MAC1B5G,EAAM4G,cACJ,KACA,KACA5G,EAAM4G,cAAc6c,GAClB5Y,eAAgB/7B,EAChBkjC,IAAK,yBAGThS,EAAM4G,cAAc,MAClBoR,QAAS,SAKjBhY,EAAM4G,cAAc,OAClBvC,UAAW,iCACXrqB,GAAI,cAAgBlL,EAAKkL,WAOjCkzB,eAAgB,GAChBiL,mBAAoB,GACpB5H,8BAA+B,GAC/BmN,2CAA4C,GAC5C+G,2CAA4C,GAC5CC,uCAAwC,GACxC/G,wCAAyC,GACzCgH,wCAAyC,GACzC/G,2CAA4C,GAC5CC,0CAA2C,GAC3C+G,6BAA8B,GAC9B9G,0BAA2B,GAC3B/a,MAAS,QACTC,YAAa,cAEf6hB,IAAK,SAAS50C,EAASzB,EAAQD,GAyK7B,QAASu2C,GAAYC,GACnB,GAAIj2C,GAAOC,IACXA,MAAKg2C,cAAgBA,EACrBh2C,KAAKiQ,SAAW,KAChBjQ,KAAKi2C,MAAQ,WACPl2C,EAAKkQ,UACPlQ,EAAKkQ,SAASlQ,EAAKi2C,cAAcE,qBA7KvC,GAAIjlB,GAAQ/vB,EAAQ,SAClB8vB,EAAW9vB,EAAQ,aACnB+P,EAAQ/P,EAAQ,gBAChBqmC,EAAWrmC,EAAQ,oBAEjBi1C,GACFC,YAAa,KACbC,aAAc,KACd7a,gBAAiB,WAEf,OACEuP,KAAM,GACNhB,WAAW,EACXuM,YAAa,IAGjB3Z,kBAAmB,WACjB38B,KAAKo2C,YAAc,GAAIL,GAAY/1C,OAErC48B,mBAAoB,WACb58B,KAAKupB,MAAMwgB,UAIL/pC,KAAKupB,MAAMwgB,YAEpB94B,EAAM8nB,iBAAiBnB,SAAU,YAAa53B,KAAKsqC,aACnDr5B,EAAM8nB,iBAAiBnB,SAAU,UAAW53B,KAAK6qC,aALjD55B,EAAMkoB,oBAAoBvB,SAAU,YAAa53B,KAAKsqC,aACtDr5B,EAAMkoB,oBAAoBvB,SAAU,UAAW53B,KAAK6qC,aAOxD1J,qBAAsB,WACpBlwB,EAAMkoB,oBAAoBvB,SAAU,YAAa53B,KAAKsqC,aACtDr5B,EAAMkoB,oBAAoBvB,SAAU,UAAW53B,KAAK6qC,YAEtDxC,YAAa,SAAqBnoC,GAEhC,GAAiB,IAAbA,EAAEy5B,OAAN,CAEA,GAAI4c,GAAYv2C,KAAKmiC,KAAKqU,YACtBC,EAAmBlP,EAASxR,gBAAgBwgB,GAC5C3Q,EAAc30B,EAAM2oB,eAAe15B,EAEvCqnC,GAAShS,SAASghB,EAAW,yBAG7Bv2C,KAAK6uB,UACHkb,WAAW,EACXa,YAAahF,EAAY5lC,KAAK02C,cAC9BJ,YAAaG,EAAiBz2C,KAAK22C,WAIrC1lC,EAAMuoB,gBAAgBt5B,GACtB+Q,EAAMooB,eAAen5B,KAEvB2qC,UAAW,WAET,GAAI7qC,KAAKupB,MAAMwgB,UAAW,CACxB,GAAIwM,GAAYv2C,KAAKmiC,KAAKqU,WAC1BjP,GAASnS,YAAYmhB,EAAW,yBAGlCv2C,KAAK6uB,UACHkb,WAAW,KAGfO,YAAa,SAAqBpqC,GAGhC,GAAKF,KAAKupB,MAAMwgB,UAAhB,CAEA94B,EAAMuoB,gBAAgBt5B,GACtB+Q,EAAMooB,eAAen5B,EAErB,IAAI0lC,GAAc30B,EAAM2oB,eAAe15B,GACnCk1C,EAASxP,EAAY5lC,KAAK02C,cAAgB12C,KAAKupB,MAAMqhB,WACzD5qC,MAAKupB,MAAMqhB,YAAchF,EAAY5lC,KAAK02C,cAE1C12C,KAAKw1C,OAAOJ,KAEdwB,cAAe,WACb,MAAyB,OAArB52C,KAAKq2C,aACA9O,EAASrR,QAAQl2B,KAAKq2C,cAAcr2C,KAAK62C,UAEzCtP,EAASrR,QAAQlF,EAASyL,YAAYz8B,OAAOA,KAAK62C,WAG7D7B,gBAAiB,SAAyBqB,EAAcS,GACtD92C,KAAKq2C,aAAeA,EACpBr2C,KAAKo2C,YAAYnmC,SAAW6mC,GAE9BZ,iBAAkB,WAChB,GAAIa,GAAY/2C,KAAK42C,gBAAkB52C,KAAKupB,MAAMwhB,IAClD,OAAoB,IAAbgM,EAAiB,EAAI/2C,KAAKupB,MAAM+sB,YAAcS,GAEvD/1B,QAAS,WACP,GAAIhhB,KAAKq2C,aAAc,CACrB,GAAIW,GAAkBh3C,KAAKq2C,aAAahZ,SAAS,GAE7C4Z,EAAa1P,EAASrR,QAAQl2B,KAAKq2C,cACnCa,EAAc3P,EAASrR,QAAQ8gB,GAE/BG,EAAyBn3C,KAAK42C,gBAC9BQ,EAAUH,EAAWj3C,KAAK62C,WAAaK,EAAYl3C,KAAK62C,UAAY,EAAII,EAAWj3C,KAAK62C,UAAYK,EAAYl3C,KAAK62C,UAAYM,CAErIn3C,MAAK6uB,UACHwoB,cAAeF,EACfpM,KAAMqM,EACNd,YAAapvC,KAAKsJ,IAAIxQ,KAAKupB,MAAM+sB,YAAaa,EAAyBC,IACtEp3C,KAAKo2C,YAAYH,SAGxBT,OAAQ,SAAgBJ,EAAQkC,GAC9B,GAAIt3C,KAAKupB,MAAMwhB,KAAO,EAAG,CACX,GAARuM,IAAWlC,GAAU,EAEzB,IAAI2B,GAAY/2C,KAAK42C,gBAAkB52C,KAAKupB,MAAMwhB,KAC9CwM,EAAYv3C,KAAKupB,MAAM+sB,YAAclB,CAIzC,IAHgB,EAAZmC,IAAeA,EAAY,GAC3BA,EAAYR,IAAWQ,EAAYR,GAEnC/2C,KAAKupB,MAAM+sB,aAAeiB,EAI5B,MAHAv3C,MAAK6uB,UACHynB,YAAaiB,GACZv3C,KAAKo2C,YAAYH,QACb,EAGX,OAAO,GAET9F,QAAS,SAAiBjwC,GACxBF,KAAKw1C,OAAOt1C,EAAEq1C,OAAQr1C,EAAEu1C,WACxBxkC,EAAMuoB,gBAAgBt5B,GACtB+Q,EAAMooB,eAAen5B,IAEvBmyB,OAAQ,WACN,GAEImlB,IACF/I,QAAS,EAEX+I,GAAWx3C,KAAK62C,UAAY72C,KAAKupB,MAAMwhB,KACvCyM,EAAWx3C,KAAKy3C,eAAiBz3C,KAAKupB,MAAM+sB,WAE5C,IAAIoB,KACJA,GAAU13C,KAAK62C,UAAY72C,KAAKupB,MAAM8tB,aAEtC,IAAIM,GAAa,mBAAqB33C,KAAKuzB,MAAMuI,eAAevqB,MAAMqB,OAAOmF,MAAM2S,mBAAmBG,UAElG2rB,EAAcx2C,KAAKupB,MAAMwhB,MAAQ,EAAI,KAAO9Z,EAAM4G,cAAc,OAClEvC,UAAWqiB,EACXnkB,MAAOgkB,EACPvU,IAAK,cACLoF,YAAaroC,KAAKqoC,aAGpB,OAAOpX,GAAM4G,cACX,OACEvC,UAAWt1B,KAAK43C,SAChBpkB,MAAOkkB,EACPvH,QAASnwC,KAAKmwC,SAEhBqG,IAgBN/2C,GAAOD,QAAQk1C,oBAAsBzjB,EAAMqK,aACzCC,YAAa,sBAEbsc,QAAS1B,GACTQ,QAAS,IACTD,aAAc,QACdG,SAAU,QACVY,cAAe,OACfG,SAAU,oBAGZn4C,EAAOD,QAAQm1C,kBAAoB1jB,EAAMqK,aACvCC,YAAa,oBAEbsc,QAAS1B,GACTQ,QAAS,IACTD,aAAc,QACdG,SAAU,SACVY,cAAe,MACfG,SAAU,sBAIZzZ,eAAgB,GAChBiL,mBAAoB,GACpBpV,MAAS,QACTC,YAAa,cAEf6jB,IAAK,SAAS52C,EAASzB,EAAQD,GAE7B,GAAIyxB,GAAQ/vB,EAAQ,SAClBqU,EAAMrU,EAAQ,cACdqmC,EAAWrmC,EAAQ,mBAErBzB,GAAOD,QAAUyxB,EAAMqK,aACrBC,YAAa,UAEbwc,WACApb,kBAAmB,WACjB,IAAK,GAAIh8B,GAAI,EAAGA,EAAIX,KAAK+3C,QAAQ/2C,OAAQL,IAAK,CAC5C,GAAIq3C,GAAMh4C,KAAK+3C,QAAQp3C,EACvBq3C,GAAIxmB,KAAKxxB,KAAKuzB,MAAMuI,eAAgB97B,KAAKmiC,KAAK6V,EAAI/U,QAGtDrG,mBAAoB,WAClB,IAAK,GAAIj8B,GAAI,EAAGA,EAAIX,KAAK+3C,QAAQ/2C,OAAQL,IAAK,CAC5C,GAAIq3C,GAAMh4C,KAAK+3C,QAAQp3C,EACvBq3C,GAAIxmB,KAAKxxB,KAAKuzB,MAAMuI,eAAgB97B,KAAKmiC,KAAK6V,EAAI/U,QAGtDgV,eAAgB,SAAwBC,GACtC,GAAc,MAAVA,EAAgB,CAClB,GAAIC,GAAiBn4C,KAAKuzB,MAAMuI,cAChC,OAAO,UAAS57B,GACdg4C,EAAOC,EAAgBj4C,EAAE+F,QAAU/F,EAAE89B,aAGzC,MAAO,OAET3L,OAAQ,WAEN,GAAIzf,GAAS5S,KAAKuzB,MAAMuI,eAAe3f,YAAY5K,MAAMqB,MAEzD,IAAIA,EAAOkF,SAAWlF,EAAOkF,QAAQjC,QAAS,CAK5C,IAAK,GAHDuiC,GAAgBxlC,EAAOkF,QAAQ0E,QAAU67B,EAAqB77B,QAAQpR,OAAOwH,EAAOkF,QAAQ0E,SAAW67B,EAAqB77B,QAE5HA,KACK7b,EAAI,EAAGA,EAAIy3C,EAAcp3C,OAAQL,IAAK,CAC7C,GAAI23C,GAAYF,EAAcz3C,GAC1B43C,EAAU,MAAQ53C,CAEA,cAAlB23C,EAAUtzC,KACZwX,EAAQ9X,KAAKusB,EAAM4G,cAAc,OAC/BtzB,IAAK5D,EACL20B,UAAW,kBAEc,SAAlBgjB,EAAUtzC,KACnBwX,EAAQ9X,KAAKusB,EAAM4G,cACjB,OACEtzB,IAAK5D,EACL20B,UAAW,gBAEbgjB,EAAU3P,OAGZnsB,EAAQ9X,KAAKusB,EAAM4G,cAAc,OAC/BtzB,IAAK5D,EACL20B,UAAW,gBAAkBgjB,EAAUV,SACvC1yB,MAAOozB,EAAUE,QACjBvV,IAAKsV,EACLra,QAASl+B,KAAKi4C,eAAeK,EAAUJ,WAGvCI,EAAU9mB,MACZxxB,KAAK+3C,QAAQrzC,MACXu+B,IAAKsV,EACL/mB,KAAM8mB,EAAU9mB,OAKtB,MAAOP,GAAM4G,cACX,MACA,KACArb,GAIJ,MAAOyU,GAAM4G,cAAc,MAAO,QAItC,IAAI4gB,GAAcv3C,EAAQ,uBAEtBm3C,GACFK,cAAe,SAAuBP,EAAgBxe,GACpD,GAAIl5B,GAAIm3B,SAASC,cAAc,IAC/Bp3B,GAAEk4C,SAAW,mBACbl4C,EAAEm4C,KAAOH,EAAYN,EAAe5kB,MAAMpX,aAC1Cyb,SAASvM,KAAKyM,YAAYr3B,GAC1BA,EAAEo4C,QACFjhB,SAASvM,KAAKqM,YAAYj3B,IAE5Bq4C,cAAe,SAAuBX,EAAgBxe,GACpDwe,EAAeh8B,YAAYoQ,qBAAqBhX,EAAI1B,KAAKxC,KAAM,MAAM,IAEvE0nC,gBAAiB,SAAyBZ,EAAgBxe,GACxDwe,EAAeh8B,YAAYoQ,qBAAqBhX,EAAI1B,KAAKxC,KAAM,MAAM,IAEvE2nC,iBAAkB,SAA0Bb,EAAgBxe,GAC1Dwe,EAAeh8B,YAAYoQ,qBAAqBhX,EAAI1B,KAAKzC,QAAS,MAAM,IAE1E6nC,mBAAoB,SAA4Bd,EAAgBxe,GAC9Dwe,EAAeh8B,YAAYoQ,qBAAqBhX,EAAI1B,KAAKzC,QAAS,MAAM,IAE1E8nC,sBAAuB,SAA+BjkC,EAASkjC,EAAgBxe,GAC7E,GAAIwf,GAAiBhB,EAAeh8B,YAAYpB,oBAAoB9F,EACpE0kB,GAAOnG,MAAMwD,QAA6B,OAAnBmiB,EAA0B,OAAS,EAE1D,IAAIC,GAAa,GACbC,EAAgB,EAChBF,IACFC,EAAa,oBACbC,EAAgB,qBAEhBD,EAAa,mBACbC,EAAgB,qBAGlB9R,EAASnS,YAAYuE,EAAQ0f,GAC7B9R,EAAShS,SAASoE,EAAQyf,IAE5BE,cAAe,SAAuBrkC,GACpC,GAAIlV,GAAOC,IACX,OAAO,UAASm4C,EAAgBxe,GAC9B55B,EAAKm5C,sBAAsBjkC,EAASkjC,EAAgBxe,KAGxD1e,gBAAiB,SAAyBhG,GACxC,GAAIlV,GAAOC,IACX,OAAO,UAASm4C,EAAgBxe,GAC9Bwe,EAAel9B,gBAAgBhG,GAC/BlV,EAAKm5C,sBAAsBjkC,EAASkjC,EAAgBxe,KAGxD4f,uBAAwB,SAAgCtkC,EAASkjC,EAAgBxe,GAC/E,GAAIwf,GAAiBhB,EAAeh8B,YAAYd,oBAAoBpG,EACpE0kB,GAAOnG,MAAMwD,QAA6B,OAAnBmiB,EAA0B,OAAS,EAE1D,IAAIC,GAAa,GACbC,EAAgB,EAChBF,IACFC,EAAa,oBACbC,EAAgB,qBAEhBD,EAAa,mBACbC,EAAgB,qBAGlB9R,EAASnS,YAAYuE,EAAQ0f,GAC7B9R,EAAShS,SAASoE,EAAQyf,IAE5BI,eAAgB,SAAwBvkC,GACtC,GAAIlV,GAAOC,IACX,OAAO,UAASm4C,EAAgBxe,GAC9B55B,EAAKw5C,uBAAuBtkC,EAASkjC,EAAgBxe,KAGzDve,iBAAkB,SAA0BnG,GAC1C,GAAIlV,GAAOC,IACX,OAAO,UAASm4C,EAAgBxe,GAC9Bwe,EAAe/8B,iBAAiBnG,GAChClV,EAAKw5C,uBAAuBtkC,EAASkjC,EAAgBxe,KAK3D0e,GAAqB77B,UACnBxX,KAAM,QACN2jC,KAAM,UAEN3jC,KAAM,SACNwzC,QAAS,kBACTZ,SAAU,aACVM,OAAQG,EAAqBS,gBAE7B9zC,KAAM,SACNwzC,QAAS,oBACTZ,SAAU,eACVM,OAAQG,EAAqBU,kBAE7B/zC,KAAM,SACNwzC,QAAS,yBACThnB,KAAM6mB,EAAqBiB,cAAc/jC,EAAI1B,KAAKxC,MAClD6mC,OAAQG,EAAqBp9B,gBAAgB1F,EAAI1B,KAAKxC,QAEtDrM,KAAM,SACNwzC,QAAS,0BACThnB,KAAM6mB,EAAqBmB,eAAejkC,EAAI1B,KAAKxC,MACnD6mC,OAAQG,EAAqBj9B,iBAAiB7F,EAAI1B,KAAKxC,QAEvDrM,KAAM,cAENA,KAAM,QACN2jC,KAAM,aAEN3jC,KAAM,SACNwzC,QAAS,qBACTZ,SAAU,aACVM,OAAQG,EAAqBW,mBAE7Bh0C,KAAM,SACNwzC,QAAS,uBACTZ,SAAU,eACVM,OAAQG,EAAqBY,qBAE7Bj0C,KAAM,SACNwzC,QAAS,4BACThnB,KAAM6mB,EAAqBiB,cAAc/jC,EAAI1B,KAAKzC,SAClD8mC,OAAQG,EAAqBp9B,gBAAgB1F,EAAI1B,KAAKzC,WAEtDpM,KAAM,SACNwzC,QAAS,6BACThnB,KAAM6mB,EAAqBmB,eAAejkC,EAAI1B,KAAKzC,SACnD8mC,OAAQG,EAAqBj9B,iBAAiB7F,EAAI1B,KAAKzC,WAEvDpM,KAAM,cAENA,KAAM,QACN2jC,KAAM,YAEN3jC,KAAM,SACNwzC,QAAS,kBACTZ,SAAU,aACVM,OAAQG,EAAqBK,kBAI/B9W,aAAc,GACd6X,sBAAuB,GACvBrQ,mBAAoB,GACpBpV,MAAS,eAEL,KAAK","file":"orb.min.js","sourcesContent":["/**\n * orb v1.1.0, Pivot table javascript library.\n *\n * Copyright (c) 2014-2016 Najmeddine Nouri <devnajm@gmail.com>.\n *\n * @version v1.1.0\n * @link http://orbjs.net/\n * @license MIT\n */\n\n/* global module, require, define, window, document, global, React */\n/*jshint node: true, eqnull: true*/\n\n'use strict';\n(function(f) {\n  if (typeof exports === \"object\" && typeof module !== \"undefined\") {\n    module.exports = f()\n  } else if (typeof define === \"function\" && define.amd) {\n    define([], f)\n  } else {\n    var g;\n    if (typeof window !== \"undefined\") {\n      g = window\n    } else if (typeof global !== \"undefined\") {\n      g = global\n    } else if (typeof self !== \"undefined\") {\n      g = self\n    } else {\n      g = this\n    }\n    g.orb = f()\n  }\n})(function() {\n  var define, module, exports;\n  return (function e(t, n, r) {\n    function s(o, u) {\n      if (!n[o]) {\n        if (!t[o]) {\n          var a = typeof require == \"function\" && require;\n          if (!u && a) return a(o, !0);\n          if (i) return i(o, !0);\n          var f = new Error(\"Cannot find module '\" + o + \"'\");\n          throw f.code = \"MODULE_NOT_FOUND\", f\n        }\n        var l = n[o] = {\n          exports: {}\n        };\n        t[o][0].call(l.exports, function(e) {\n          var n = t[o][1][e];\n          return s(n ? n : e)\n        }, l, l.exports, e, t, n, r)\n      }\n      return n[o].exports\n    }\n    var i = typeof require == \"function\" && require;\n    for (var o = 0; o < r.length; o++) s(r[o]);\n    return s\n  })({\n    1: [function(_dereq_, module, exports) {\n      module.exports = {\n        \"default\": _dereq_(\"core-js/library/fn/json/stringify\"),\n        __esModule: true\n      };\n    }, {\n      \"core-js/library/fn/json/stringify\": 4\n    }],\n    2: [function(_dereq_, module, exports) {\n      module.exports = {\n        \"default\": _dereq_(\"core-js/library/fn/symbol\"),\n        __esModule: true\n      };\n    }, {\n      \"core-js/library/fn/symbol\": 5\n    }],\n    3: [function(_dereq_, module, exports) {\n\n      var _Symbol = _dereq_(\"babel-runtime/core-js/symbol\")[\"default\"];\n\n      exports[\"default\"] = function(obj) {\n        return obj && obj.constructor === _Symbol ? \"symbol\" : typeof obj;\n      };\n\n      exports.__esModule = true;\n    }, {\n      \"babel-runtime/core-js/symbol\": 2\n    }],\n    4: [function(_dereq_, module, exports) {\n      var core = _dereq_('../../modules/$.core');\n      module.exports = function stringify(it) { // eslint-disable-line no-unused-vars\n        return (core.JSON && core.JSON.stringify || JSON.stringify).apply(JSON, arguments);\n      };\n    }, {\n      \"../../modules/$.core\": 9\n    }],\n    5: [function(_dereq_, module, exports) {\n      _dereq_('../../modules/es6.symbol');\n      _dereq_('../../modules/es6.object.to-string');\n      module.exports = _dereq_('../../modules/$.core').Symbol;\n    }, {\n      \"../../modules/$.core\": 9,\n      \"../../modules/es6.object.to-string\": 33,\n      \"../../modules/es6.symbol\": 34\n    }],\n    6: [function(_dereq_, module, exports) {\n      module.exports = function(it) {\n        if (typeof it != 'function') throw TypeError(it + ' is not a function!');\n        return it;\n      };\n    }, {}],\n    7: [function(_dereq_, module, exports) {\n      var isObject = _dereq_('./$.is-object');\n      module.exports = function(it) {\n        if (!isObject(it)) throw TypeError(it + ' is not an object!');\n        return it;\n      };\n    }, {\n      \"./$.is-object\": 22\n    }],\n    8: [function(_dereq_, module, exports) {\n      var toString = {}.toString;\n\n      module.exports = function(it) {\n        return toString.call(it).slice(8, -1);\n      };\n    }, {}],\n    9: [function(_dereq_, module, exports) {\n      var core = module.exports = {\n        version: '1.2.6'\n      };\n      if (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n    }, {}],\n    10: [function(_dereq_, module, exports) {\n      // optional / simple context binding\n      var aFunction = _dereq_('./$.a-function');\n      module.exports = function(fn, that, length) {\n        aFunction(fn);\n        if (that === undefined) return fn;\n        switch (length) {\n          case 1:\n            return function(a) {\n              return fn.call(that, a);\n            };\n          case 2:\n            return function(a, b) {\n              return fn.call(that, a, b);\n            };\n          case 3:\n            return function(a, b, c) {\n              return fn.call(that, a, b, c);\n            };\n        }\n        return function() {\n          return fn.apply(that, arguments);\n        };\n      };\n    }, {\n      \"./$.a-function\": 6\n    }],\n    11: [function(_dereq_, module, exports) {\n      // 7.2.1 RequireObjectCoercible(argument)\n      module.exports = function(it) {\n        if (it == undefined) throw TypeError(\"Can't call method on  \" + it);\n        return it;\n      };\n    }, {}],\n    12: [function(_dereq_, module, exports) {\n      // Thank's IE8 for his funny defineProperty\n      module.exports = !_dereq_('./$.fails')(function() {\n        return Object.defineProperty({}, 'a', {\n          get: function() {\n            return 7;\n          }\n        }).a != 7;\n      });\n    }, {\n      \"./$.fails\": 15\n    }],\n    13: [function(_dereq_, module, exports) {\n      // all enumerable object keys, includes symbols\n      var $ = _dereq_('./$');\n      module.exports = function(it) {\n        var keys = $.getKeys(it),\n          getSymbols = $.getSymbols;\n        if (getSymbols) {\n          var symbols = getSymbols(it),\n            isEnum = $.isEnum,\n            i = 0,\n            key;\n          while (symbols.length > i)\n            if (isEnum.call(it, key = symbols[i++])) keys.push(key);\n        }\n        return keys;\n      };\n    }, {\n      \"./$\": 23\n    }],\n    14: [function(_dereq_, module, exports) {\n      var global = _dereq_('./$.global'),\n        core = _dereq_('./$.core'),\n        ctx = _dereq_('./$.ctx'),\n        PROTOTYPE = 'prototype';\n\n      var $export = function(type, name, source) {\n        var IS_FORCED = type & $export.F,\n          IS_GLOBAL = type & $export.G,\n          IS_STATIC = type & $export.S,\n          IS_PROTO = type & $export.P,\n          IS_BIND = type & $export.B,\n          IS_WRAP = type & $export.W,\n          exports = IS_GLOBAL ? core : core[name] || (core[name] = {}),\n          target = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE],\n          key, own, out;\n        if (IS_GLOBAL) source = name;\n        for (key in source) {\n          // contains in native\n          own = !IS_FORCED && target && key in target;\n          if (own && key in exports) continue;\n          // export native or passed\n          out = own ? target[key] : source[key];\n          // prevent global pollution for namespaces\n          exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]\n            // bind timers to global for call from export context\n            : IS_BIND && own ? ctx(out, global)\n            // wrap global constructors for prevent change them in library\n            : IS_WRAP && target[key] == out ? (function(C) {\n              var F = function(param) {\n                return this instanceof C ? new C(param) : C(param);\n              };\n              F[PROTOTYPE] = C[PROTOTYPE];\n              return F;\n              // make static versions for prototype methods\n            })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n          if (IS_PROTO)(exports[PROTOTYPE] || (exports[PROTOTYPE] = {}))[key] = out;\n        }\n      };\n      // type bitmap\n      $export.F = 1; // forced\n      $export.G = 2; // global\n      $export.S = 4; // static\n      $export.P = 8; // proto\n      $export.B = 16; // bind\n      $export.W = 32; // wrap\n      module.exports = $export;\n    }, {\n      \"./$.core\": 9,\n      \"./$.ctx\": 10,\n      \"./$.global\": 17\n    }],\n    15: [function(_dereq_, module, exports) {\n      module.exports = function(exec) {\n        try {\n          return !!exec();\n        } catch (e) {\n          return true;\n        }\n      };\n    }, {}],\n    16: [function(_dereq_, module, exports) {\n      // fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\n      var toIObject = _dereq_('./$.to-iobject'),\n        getNames = _dereq_('./$').getNames,\n        toString = {}.toString;\n\n      var windowNames = typeof window == 'object' && Object.getOwnPropertyNames ? Object.getOwnPropertyNames(window) : [];\n\n      var getWindowNames = function(it) {\n        try {\n          return getNames(it);\n        } catch (e) {\n          return windowNames.slice();\n        }\n      };\n\n      module.exports.get = function getOwnPropertyNames(it) {\n        if (windowNames && toString.call(it) == '[object Window]') return getWindowNames(it);\n        return getNames(toIObject(it));\n      };\n    }, {\n      \"./$\": 23,\n      \"./$.to-iobject\": 30\n    }],\n    17: [function(_dereq_, module, exports) {\n      // https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\n      var global = module.exports = typeof window != 'undefined' && window.Math == Math ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\n      if (typeof __g == 'number') __g = global; // eslint-disable-line no-undef\n    }, {}],\n    18: [function(_dereq_, module, exports) {\n      var hasOwnProperty = {}.hasOwnProperty;\n      module.exports = function(it, key) {\n        return hasOwnProperty.call(it, key);\n      };\n    }, {}],\n    19: [function(_dereq_, module, exports) {\n      var $ = _dereq_('./$'),\n        createDesc = _dereq_('./$.property-desc');\n      module.exports = _dereq_('./$.descriptors') ? function(object, key, value) {\n        return $.setDesc(object, key, createDesc(1, value));\n      } : function(object, key, value) {\n        object[key] = value;\n        return object;\n      };\n    }, {\n      \"./$\": 23,\n      \"./$.descriptors\": 12,\n      \"./$.property-desc\": 26\n    }],\n    20: [function(_dereq_, module, exports) {\n      // fallback for non-array-like ES3 and non-enumerable old V8 strings\n      var cof = _dereq_('./$.cof');\n      module.exports = Object('z').propertyIsEnumerable(0) ? Object : function(it) {\n        return cof(it) == 'String' ? it.split('') : Object(it);\n      };\n    }, {\n      \"./$.cof\": 8\n    }],\n    21: [function(_dereq_, module, exports) {\n      // 7.2.2 IsArray(argument)\n      var cof = _dereq_('./$.cof');\n      module.exports = Array.isArray || function(arg) {\n        return cof(arg) == 'Array';\n      };\n    }, {\n      \"./$.cof\": 8\n    }],\n    22: [function(_dereq_, module, exports) {\n      module.exports = function(it) {\n        return typeof it === 'object' ? it !== null : typeof it === 'function';\n      };\n    }, {}],\n    23: [function(_dereq_, module, exports) {\n      var $Object = Object;\n      module.exports = {\n        create: $Object.create,\n        getProto: $Object.getPrototypeOf,\n        isEnum: {}.propertyIsEnumerable,\n        getDesc: $Object.getOwnPropertyDescriptor,\n        setDesc: $Object.defineProperty,\n        setDescs: $Object.defineProperties,\n        getKeys: $Object.keys,\n        getNames: $Object.getOwnPropertyNames,\n        getSymbols: $Object.getOwnPropertySymbols,\n        each: [].forEach\n      };\n    }, {}],\n    24: [function(_dereq_, module, exports) {\n      var $ = _dereq_('./$'),\n        toIObject = _dereq_('./$.to-iobject');\n      module.exports = function(object, el) {\n        var O = toIObject(object),\n          keys = $.getKeys(O),\n          length = keys.length,\n          index = 0,\n          key;\n        while (length > index)\n          if (O[key = keys[index++]] === el) return key;\n      };\n    }, {\n      \"./$\": 23,\n      \"./$.to-iobject\": 30\n    }],\n    25: [function(_dereq_, module, exports) {\n      module.exports = true;\n    }, {}],\n    26: [function(_dereq_, module, exports) {\n      module.exports = function(bitmap, value) {\n        return {\n          enumerable: !(bitmap & 1),\n          configurable: !(bitmap & 2),\n          writable: !(bitmap & 4),\n          value: value\n        };\n      };\n    }, {}],\n    27: [function(_dereq_, module, exports) {\n      module.exports = _dereq_('./$.hide');\n    }, {\n      \"./$.hide\": 19\n    }],\n    28: [function(_dereq_, module, exports) {\n      var def = _dereq_('./$').setDesc,\n        has = _dereq_('./$.has'),\n        TAG = _dereq_('./$.wks')('toStringTag');\n\n      module.exports = function(it, tag, stat) {\n        if (it && !has(it = stat ? it : it.prototype, TAG)) def(it, TAG, {\n          configurable: true,\n          value: tag\n        });\n      };\n    }, {\n      \"./$\": 23,\n      \"./$.has\": 18,\n      \"./$.wks\": 32\n    }],\n    29: [function(_dereq_, module, exports) {\n      var global = _dereq_('./$.global'),\n        SHARED = '__core-js_shared__',\n        store = global[SHARED] || (global[SHARED] = {});\n      module.exports = function(key) {\n        return store[key] || (store[key] = {});\n      };\n    }, {\n      \"./$.global\": 17\n    }],\n    30: [function(_dereq_, module, exports) {\n      // to indexed object, toObject with fallback for non-array-like ES3 strings\n      var IObject = _dereq_('./$.iobject'),\n        defined = _dereq_('./$.defined');\n      module.exports = function(it) {\n        return IObject(defined(it));\n      };\n    }, {\n      \"./$.defined\": 11,\n      \"./$.iobject\": 20\n    }],\n    31: [function(_dereq_, module, exports) {\n      var id = 0,\n        px = Math.random();\n      module.exports = function(key) {\n        return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n      };\n    }, {}],\n    32: [function(_dereq_, module, exports) {\n      var store = _dereq_('./$.shared')('wks'),\n        uid = _dereq_('./$.uid'),\n        Symbol = _dereq_('./$.global').Symbol;\n      module.exports = function(name) {\n        return store[name] || (store[name] =\n          Symbol && Symbol[name] || (Symbol || uid)('Symbol.' + name));\n      };\n    }, {\n      \"./$.global\": 17,\n      \"./$.shared\": 29,\n      \"./$.uid\": 31\n    }],\n    33: [function(_dereq_, module, exports) {\n\n    }, {}],\n    34: [function(_dereq_, module, exports) {\n\n      // ECMAScript 6 symbols shim\n      var $ = _dereq_('./$'),\n        global = _dereq_('./$.global'),\n        has = _dereq_('./$.has'),\n        DESCRIPTORS = _dereq_('./$.descriptors'),\n        $export = _dereq_('./$.export'),\n        redefine = _dereq_('./$.redefine'),\n        $fails = _dereq_('./$.fails'),\n        shared = _dereq_('./$.shared'),\n        setToStringTag = _dereq_('./$.set-to-string-tag'),\n        uid = _dereq_('./$.uid'),\n        wks = _dereq_('./$.wks'),\n        keyOf = _dereq_('./$.keyof'),\n        $names = _dereq_('./$.get-names'),\n        enumKeys = _dereq_('./$.enum-keys'),\n        isArray = _dereq_('./$.is-array'),\n        anObject = _dereq_('./$.an-object'),\n        toIObject = _dereq_('./$.to-iobject'),\n        createDesc = _dereq_('./$.property-desc'),\n        getDesc = $.getDesc,\n        setDesc = $.setDesc,\n        _create = $.create,\n        getNames = $names.get,\n        $Symbol = global.Symbol,\n        $JSON = global.JSON,\n        _stringify = $JSON && $JSON.stringify,\n        setter = false,\n        HIDDEN = wks('_hidden'),\n        isEnum = $.isEnum,\n        SymbolRegistry = shared('symbol-registry'),\n        AllSymbols = shared('symbols'),\n        useNative = typeof $Symbol == 'function',\n        ObjectProto = Object.prototype;\n\n      // fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\n      var setSymbolDesc = DESCRIPTORS && $fails(function() {\n        return _create(setDesc({}, 'a', {\n          get: function() {\n            return setDesc(this, 'a', {\n              value: 7\n            }).a;\n          }\n        })).a != 7;\n      }) ? function(it, key, D) {\n        var protoDesc = getDesc(ObjectProto, key);\n        if (protoDesc) delete ObjectProto[key];\n        setDesc(it, key, D);\n        if (protoDesc && it !== ObjectProto) setDesc(ObjectProto, key, protoDesc);\n      } : setDesc;\n\n      var wrap = function(tag) {\n        var sym = AllSymbols[tag] = _create($Symbol.prototype);\n        sym._k = tag;\n        DESCRIPTORS && setter && setSymbolDesc(ObjectProto, tag, {\n          configurable: true,\n          set: function(value) {\n            if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n            setSymbolDesc(this, tag, createDesc(1, value));\n          }\n        });\n        return sym;\n      };\n\n      var isSymbol = function(it) {\n        return typeof it == 'symbol';\n      };\n\n      var $defineProperty = function defineProperty(it, key, D) {\n        if (D && has(AllSymbols, key)) {\n          if (!D.enumerable) {\n            if (!has(it, HIDDEN)) setDesc(it, HIDDEN, createDesc(1, {}));\n            it[HIDDEN][key] = true;\n          } else {\n            if (has(it, HIDDEN) && it[HIDDEN][key]) it[HIDDEN][key] = false;\n            D = _create(D, {\n              enumerable: createDesc(0, false)\n            });\n          }\n          return setSymbolDesc(it, key, D);\n        }\n        return setDesc(it, key, D);\n      };\n      var $defineProperties = function defineProperties(it, P) {\n        anObject(it);\n        var keys = enumKeys(P = toIObject(P)),\n          i = 0,\n          l = keys.length,\n          key;\n        while (l > i) $defineProperty(it, key = keys[i++], P[key]);\n        return it;\n      };\n      var $create = function create(it, P) {\n        return P === undefined ? _create(it) : $defineProperties(_create(it), P);\n      };\n      var $propertyIsEnumerable = function propertyIsEnumerable(key) {\n        var E = isEnum.call(this, key);\n        return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key] ? E : true;\n      };\n      var $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key) {\n        var D = getDesc(it = toIObject(it), key);\n        if (D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) D.enumerable = true;\n        return D;\n      };\n      var $getOwnPropertyNames = function getOwnPropertyNames(it) {\n        var names = getNames(toIObject(it)),\n          result = [],\n          i = 0,\n          key;\n        while (names.length > i)\n          if (!has(AllSymbols, key = names[i++]) && key != HIDDEN) result.push(key);\n        return result;\n      };\n      var $getOwnPropertySymbols = function getOwnPropertySymbols(it) {\n        var names = getNames(toIObject(it)),\n          result = [],\n          i = 0,\n          key;\n        while (names.length > i)\n          if (has(AllSymbols, key = names[i++])) result.push(AllSymbols[key]);\n        return result;\n      };\n      var $stringify = function stringify(it) {\n        if (it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n        var args = [it],\n          i = 1,\n          $$ = arguments,\n          replacer, $replacer;\n        while ($$.length > i) args.push($$[i++]);\n        replacer = args[1];\n        if (typeof replacer == 'function') $replacer = replacer;\n        if ($replacer || !isArray(replacer)) replacer = function(key, value) {\n          if ($replacer) value = $replacer.call(this, key, value);\n          if (!isSymbol(value)) return value;\n        };\n        args[1] = replacer;\n        return _stringify.apply($JSON, args);\n      };\n      var buggyJSON = $fails(function() {\n        var S = $Symbol();\n        // MS Edge converts symbol values to JSON as {}\n        // WebKit converts symbol values to JSON as null\n        // V8 throws on boxed symbols\n        return _stringify([S]) != '[null]' || _stringify({\n          a: S\n        }) != '{}' || _stringify(Object(S)) != '{}';\n      });\n\n      // 19.4.1.1 Symbol([description])\n      if (!useNative) {\n        $Symbol = function Symbol() {\n          if (isSymbol(this)) throw TypeError('Symbol is not a constructor');\n          return wrap(uid(arguments.length > 0 ? arguments[0] : undefined));\n        };\n        redefine($Symbol.prototype, 'toString', function toString() {\n          return this._k;\n        });\n\n        isSymbol = function(it) {\n          return it instanceof $Symbol;\n        };\n\n        $.create = $create;\n        $.isEnum = $propertyIsEnumerable;\n        $.getDesc = $getOwnPropertyDescriptor;\n        $.setDesc = $defineProperty;\n        $.setDescs = $defineProperties;\n        $.getNames = $names.get = $getOwnPropertyNames;\n        $.getSymbols = $getOwnPropertySymbols;\n\n        if (DESCRIPTORS && !_dereq_('./$.library')) {\n          redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);\n        }\n      }\n\n      var symbolStatics = {\n        // 19.4.2.1 Symbol.for(key)\n        'for': function(key) {\n          return has(SymbolRegistry, key += '') ? SymbolRegistry[key] : SymbolRegistry[key] = $Symbol(key);\n        },\n        // 19.4.2.5 Symbol.keyFor(sym)\n        keyFor: function keyFor(key) {\n          return keyOf(SymbolRegistry, key);\n        },\n        useSetter: function() {\n          setter = true;\n        },\n        useSimple: function() {\n          setter = false;\n        }\n      };\n      // 19.4.2.2 Symbol.hasInstance\n      // 19.4.2.3 Symbol.isConcatSpreadable\n      // 19.4.2.4 Symbol.iterator\n      // 19.4.2.6 Symbol.match\n      // 19.4.2.8 Symbol.replace\n      // 19.4.2.9 Symbol.search\n      // 19.4.2.10 Symbol.species\n      // 19.4.2.11 Symbol.split\n      // 19.4.2.12 Symbol.toPrimitive\n      // 19.4.2.13 Symbol.toStringTag\n      // 19.4.2.14 Symbol.unscopables\n      $.each.call((\n        'hasInstance,isConcatSpreadable,iterator,match,replace,search,' +\n        'species,split,toPrimitive,toStringTag,unscopables'\n      ).split(','), function(it) {\n        var sym = wks(it);\n        symbolStatics[it] = useNative ? sym : wrap(sym);\n      });\n\n      setter = true;\n\n      $export($export.G + $export.W, {\n        Symbol: $Symbol\n      });\n\n      $export($export.S, 'Symbol', symbolStatics);\n\n      $export($export.S + $export.F * !useNative, 'Object', {\n        // 19.1.2.2 Object.create(O [, Properties])\n        create: $create,\n        // 19.1.2.4 Object.defineProperty(O, P, Attributes)\n        defineProperty: $defineProperty,\n        // 19.1.2.3 Object.defineProperties(O, Properties)\n        defineProperties: $defineProperties,\n        // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n        getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n        // 19.1.2.7 Object.getOwnPropertyNames(O)\n        getOwnPropertyNames: $getOwnPropertyNames,\n        // 19.1.2.8 Object.getOwnPropertySymbols(O)\n        getOwnPropertySymbols: $getOwnPropertySymbols\n      });\n\n      // 24.3.2 JSON.stringify(value [, replacer [, space]])\n      $JSON && $export($export.S + $export.F * (!useNative || buggyJSON), 'JSON', {\n        stringify: $stringify\n      });\n\n      // 19.4.3.5 Symbol.prototype[@@toStringTag]\n      setToStringTag($Symbol, 'Symbol');\n      // 20.2.1.9 Math[@@toStringTag]\n      setToStringTag(Math, 'Math', true);\n      // 24.3.3 JSON[@@toStringTag]\n      setToStringTag(global.JSON, 'JSON', true);\n    }, {\n      \"./$\": 23,\n      \"./$.an-object\": 7,\n      \"./$.descriptors\": 12,\n      \"./$.enum-keys\": 13,\n      \"./$.export\": 14,\n      \"./$.fails\": 15,\n      \"./$.get-names\": 16,\n      \"./$.global\": 17,\n      \"./$.has\": 18,\n      \"./$.is-array\": 21,\n      \"./$.keyof\": 24,\n      \"./$.library\": 25,\n      \"./$.property-desc\": 26,\n      \"./$.redefine\": 27,\n      \"./$.set-to-string-tag\": 28,\n      \"./$.shared\": 29,\n      \"./$.to-iobject\": 30,\n      \"./$.uid\": 31,\n      \"./$.wks\": 32\n    }],\n    35: [function(_dereq_, module, exports) {\n\n      var Aggregations = module.exports = {\n        toAggregateFunc: function toAggregateFunc(func) {\n          if (func) {\n            if (typeof func === 'string' && Aggregations[func]) {\n              return Aggregations[func];\n            } else if (typeof func === 'function') {\n              return func;\n            } else {\n              return Aggregations.sum;\n            }\n          } else {\n            return Aggregations.sum;\n          }\n        },\n        count: function count(datafield, intersection, datasource) {\n          return intersection === 'all' ? datasource.length : intersection.length;\n        },\n        sum: function sum(datafield, intersection, datasource) {\n          var sum = 0;\n          forEachIntersection(datafield, intersection, datasource, function(val) {\n            sum += val;\n          });\n          return sum;\n        },\n        min: function min(datafield, intersection, datasource) {\n          var min = null;\n          forEachIntersection(datafield, intersection, datasource, function(val) {\n            if (min == null || val < min) {\n              min = val;\n            }\n          });\n          return min;\n        },\n        max: function max(datafield, intersection, datasource) {\n          var max = null;\n          forEachIntersection(datafield, intersection, datasource, function(val) {\n            if (max == null || val > max) {\n              max = val;\n            }\n          });\n          return max;\n        },\n        avg: function avg(datafield, intersection, datasource) {\n          var avg = 0;\n          var len = (intersection === 'all' ? datasource : intersection).length;\n          if (len > 0) {\n            forEachIntersection(datafield, intersection, datasource, function(val) {\n              avg += val;\n            });\n            avg /= len;\n          }\n          return avg;\n        },\n        prod: function prod(datafield, intersection, datasource) {\n          var prod;\n          var len = (intersection === 'all' ? datasource : intersection).length;\n          if (len > 0) {\n            prod = 1;\n            forEachIntersection(datafield, intersection, datasource, function(val) {\n              prod *= val;\n            });\n          }\n          return prod;\n        },\n        stdev: function stdev(datafield, intersection, datasource) {\n          return Math.sqrt(calcVariance(datafield, intersection, datasource, false));\n        },\n        stdevp: function stdevp(datafield, intersection, datasource) {\n          return Math.sqrt(calcVariance(datafield, intersection, datasource, true));\n        },\n        'var': function _var(datafield, intersection, datasource) {\n          return calcVariance(datafield, intersection, datasource, false);\n        },\n        varp: function varp(datafield, intersection, datasource) {\n          return calcVariance(datafield, intersection, datasource, true);\n        }\n      };\n\n      function calcVariance(datafield, intersection, datasource, population) {\n        var variance = 0;\n        var avg = 0;\n        var len = (intersection === 'all' ? datasource : intersection).length;\n        if (len > 0) {\n          if (population || len > 1) {\n            forEachIntersection(datafield, intersection, datasource, function(val) {\n              avg += val;\n            });\n            avg /= len;\n            forEachIntersection(datafield, intersection, datasource, function(val) {\n              variance += (val - avg) * (val - avg);\n            });\n            variance = variance / (population ? len : len - 1);\n          } else {\n            variance = NaN;\n          }\n        }\n        return variance;\n      }\n\n      function forEachIntersection(datafield, intersection, datasource, callback) {\n        var all = intersection === 'all';\n        intersection = all ? datasource : intersection;\n        if (intersection.length > 0) {\n          for (var i = 0; i < intersection.length; i++) {\n            callback((all ? intersection[i] : datasource[intersection[i]])[datafield]);\n          }\n        }\n      }\n\n    }, {}],\n    36: [function(_dereq_, module, exports) {\n\n      var utils = _dereq_('./orb.utils');\n      var Dimension = _dereq_('./orb.dimension');\n\n      var AxeType = {\n        COLUMNS: 1,\n        ROWS: 2,\n        DATA: 3\n      };\n\n      module.exports = function(pgrid, type) {\n\n        var self = this;\n        var dimid = 0;\n\n        if (pgrid != null && pgrid.config != null) {\n\n\n          this.pgrid = pgrid;\n\n\n          this.type = type;\n\n\n          this.fields = function() {\n            switch (type) {\n              case AxeType.COLUMNS:\n                return self.pgrid.config.columnFields;\n              case AxeType.ROWS:\n                return self.pgrid.config.rowFields;\n              case AxeType.DATA:\n                return self.pgrid.config.dataFields;\n              default:\n                return [];\n            }\n          }();\n\n\n          this.dimensionsCount = null;\n\n\n          this.root = null;\n\n\n          this.dimensionsByDepth = null;\n\n          this.update = function() {\n            self.dimensionsCount = self.fields.length;\n            self.root = new Dimension(++dimid, null, null, null, self.dimensionsCount + 1, true);\n\n            self.dimensionsByDepth = {};\n            for (var depth = 1; depth <= self.dimensionsCount; depth++) {\n              self.dimensionsByDepth[depth] = [];\n            }\n\n            // fill data\n            fill();\n\n            // initial sort\n            for (var findex = 0; findex < self.fields.length; findex++) {\n              var ffield = self.fields[findex];\n              if (ffield.sort.order === 'asc' || ffield.sort.order === 'desc') {\n                self.sort(ffield, true);\n              }\n            }\n          };\n\n          this.sort = function(field, donottoggle) {\n            if (field != null) {\n              if (donottoggle !== true) {\n                if (field.sort.order !== 'asc') {\n                  field.sort.order = 'asc';\n                } else {\n                  field.sort.order = 'desc';\n                }\n              }\n\n              var depth = self.dimensionsCount - getfieldindex(field);\n              var parents = depth === self.dimensionsCount ? [self.root] : self.dimensionsByDepth[depth + 1];\n              for (var i = 0; i < parents.length; i++) {\n                if (field.sort.customfunc != null) {\n                  parents[i].values.sort(field.sort.customfunc);\n                } else {\n                  parents[i].values.sort();\n                }\n                if (field.sort.order === 'desc') {\n                  parents[i].values.reverse();\n                }\n              }\n            }\n          };\n\n          this.flattenValues = function() {\n            return self.dimensionsByDepth[1].map(function(dim) {\n              var name = '';\n              var currDim = dim;\n              while (!currDim.isRoot) {\n                name = currDim.value + (name !== '' ? '-' + name : '');\n                currDim = currDim.parent;\n              }\n              return {\n                name: name,\n                dim: dim\n              };\n            }).sort(function(a, b) {\n              if (a.name < b.name) return -1;\n              if (a.name > b.name) return 1;\n              return 0;\n            });\n          };\n        }\n\n        function getfieldindex(field) {\n          for (var i = 0; i < self.fields.length; i++) {\n            if (self.fields[i].name === field.name) {\n              return i;\n            }\n          }\n          return -1;\n        }\n\n\n        function fill() {\n\n          if (self.pgrid.filteredDataSource != null && self.dimensionsCount > 0) {\n\n            var datasource = self.pgrid.filteredDataSource;\n            if (datasource != null && utils.isArray(datasource) && datasource.length > 0) {\n              for (var rowIndex = 0, dataLength = datasource.length; rowIndex < dataLength; rowIndex++) {\n                var row = datasource[rowIndex];\n                var dim = self.root;\n                for (var findex = 0; findex < self.dimensionsCount; findex++) {\n                  var depth = self.dimensionsCount - findex;\n                  var subfield = self.fields[findex];\n                  var subvalue = row[subfield.name];\n                  var subdimvals = dim.subdimvals;\n\n                  if (subdimvals[subvalue] !== undefined) {\n                    dim = subdimvals[subvalue];\n                  } else {\n                    dim.values.push(subvalue);\n                    dim = new Dimension(++dimid, dim, subvalue, subfield, depth, false, findex == self.dimensionsCount - 1);\n                    subdimvals[subvalue] = dim;\n                    dim.rowIndexes = [];\n                    self.dimensionsByDepth[depth].push(dim);\n                  }\n\n                  dim.rowIndexes.push(rowIndex);\n                }\n              }\n            }\n          }\n        }\n      };\n\n      module.exports.Type = AxeType;\n\n    }, {\n      \"./orb.dimension\": 38,\n      \"./orb.utils\": 53\n    }],\n    37: [function(_dereq_, module, exports) {\n\n      var utils = _dereq_('./orb.utils');\n      var axe = _dereq_('./orb.axe');\n      var aggregation = _dereq_('./orb.aggregation');\n      var filtering = _dereq_('./orb.filtering');\n      var themeManager = _dereq_('./orb.themes');\n\n      function getpropertyvalue(property, configs, defaultvalue) {\n        for (var i = 0; i < configs.length; i++) {\n          if (configs[i][property] != null) {\n            return configs[i][property];\n          }\n        }\n        return defaultvalue;\n      }\n\n      function mergefieldconfigs() {\n\n        var merged = {\n          configs: [],\n          sorts: [],\n          subtotals: [],\n          functions: []\n        };\n\n        for (var i = 0; i < arguments.length; i++) {\n          var nnconfig = arguments[i] || {};\n          merged.configs.push(nnconfig);\n          merged.sorts.push(nnconfig.sort || {});\n          merged.subtotals.push(nnconfig.subTotal || {});\n          merged.functions.push({\n            aggregateFuncName: nnconfig.aggregateFuncName,\n            aggregateFunc: i === 0 ? nnconfig.aggregateFunc : nnconfig.aggregateFunc ? nnconfig.aggregateFunc() : null,\n            formatFunc: i === 0 ? nnconfig.formatFunc : nnconfig.formatFunc ? nnconfig.formatFunc() : null\n          });\n        }\n\n        return merged;\n      }\n\n      function createfield(rootconfig, axetype, fieldconfig, defaultfieldconfig) {\n\n        var axeconfig;\n        var fieldAxeconfig;\n\n        if (defaultfieldconfig) {\n          switch (axetype) {\n            case axe.Type.ROWS:\n              axeconfig = rootconfig.rowSettings;\n              fieldAxeconfig = defaultfieldconfig.rowSettings;\n              break;\n            case axe.Type.COLUMNS:\n              axeconfig = rootconfig.columnSettings;\n              fieldAxeconfig = defaultfieldconfig.columnSettings;\n              break;\n            case axe.Type.DATA:\n              axeconfig = rootconfig.dataSettings;\n              fieldAxeconfig = defaultfieldconfig.dataSettings;\n              break;\n            default:\n              axeconfig = null;\n              fieldAxeconfig = null;\n              break;\n          }\n        } else {\n          axeconfig = null;\n          fieldAxeconfig = null;\n        }\n\n        var merged = mergefieldconfigs(fieldconfig, fieldAxeconfig, axeconfig, defaultfieldconfig, rootconfig);\n\n        function defaultFormatFunc(val) {\n          return val != null ? val.toString() : '';\n        }\n\n        return new Field({\n          name: getpropertyvalue('name', merged.configs, ''),\n\n          caption: getpropertyvalue('caption', merged.configs, ''),\n\n          sort: {\n            order: getpropertyvalue('order', merged.sorts, null),\n            customfunc: getpropertyvalue('customfunc', merged.sorts, null)\n          },\n          subTotal: {\n            visible: getpropertyvalue('visible', merged.subtotals, true),\n            collapsible: getpropertyvalue('collapsible', merged.subtotals, true),\n            collapsed: getpropertyvalue('collapsed', merged.subtotals, false) && getpropertyvalue('collapsible', merged.subtotals, true)\n          },\n\n          aggregateFuncName: getpropertyvalue('aggregateFuncName', merged.functions, 'sum'),\n          aggregateFunc: getpropertyvalue('aggregateFunc', merged.functions, aggregation.sum),\n          formatFunc: getpropertyvalue('formatFunc', merged.functions, defaultFormatFunc)\n        }, false);\n      }\n\n      function GrandTotalConfig(options) {\n\n        options = options || {};\n\n        this.rowsvisible = options.rowsvisible !== undefined ? options.rowsvisible : true;\n        this.columnsvisible = options.columnsvisible !== undefined ? options.columnsvisible : true;\n      }\n\n      function SubTotalConfig(options, setdefaults) {\n\n        var defaults = {\n          visible: setdefaults === true ? true : undefined,\n          collapsible: setdefaults === true ? true : undefined,\n          collapsed: setdefaults === true ? false : undefined\n        };\n        options = options || {};\n\n        this.visible = options.visible !== undefined ? options.visible : defaults.visible;\n        this.collapsible = options.collapsible !== undefined ? options.collapsible : defaults.collapsible;\n        this.collapsed = options.collapsed !== undefined ? options.collapsed : defaults.collapsed;\n      }\n\n      function SortConfig(options) {\n        options = options || {};\n\n        this.order = options.order || (options.customfunc ? 'asc' : null);\n        this.customfunc = options.customfunc;\n      }\n\n      function ChartConfig(options) {\n        options = options || {};\n\n        this.enabled = options.enabled || false;\n        // type can be: 'LineChart', 'AreaChart', 'ColumnChart', 'BarChart', 'SteppedAreaChart'\n        this.type = options.type || 'LineChart';\n      }\n\n      var Field = module.exports.field = function(options, createSubOptions) {\n\n        options = options || {};\n\n        // field name\n        this.name = options.name;\n\n        // shared settings\n        this.caption = options.caption || this.name;\n\n        // rows & columns settings\n        this.sort = new SortConfig(options.sort);\n        this.subTotal = new SubTotalConfig(options.subTotal);\n\n        // data settings\n        var _aggregatefunc;\n        var _formatfunc;\n\n        this.aggregateFunc = function(func) {\n          if (func) {\n            _aggregatefunc = aggregation.toAggregateFunc(func);\n          } else {\n            return _aggregatefunc;\n          }\n        };\n\n        this.formatFunc = function(func) {\n          if (func) {\n            _formatfunc = func;\n          } else {\n            return _formatfunc;\n          }\n        };\n\n        this.aggregateFuncName = options.aggregateFuncName || (options.aggregateFunc ? utils.isString(options.aggregateFunc) ? options.aggregateFunc : 'custom' : null);\n\n        this.aggregateFunc(options.aggregateFunc);\n        this.formatFunc(options.formatFunc);\n\n        if (createSubOptions !== false) {\n          (this.rowSettings = new Field(options.rowSettings, false)).name = this.name;\n          (this.columnSettings = new Field(options.columnSettings, false)).name = this.name;\n          (this.dataSettings = new Field(options.dataSettings, false)).name = this.name;\n        }\n      };\n\n      module.exports.config = function(config) {\n\n        var self = this;\n\n        this.dataSource = config.dataSource || [];\n        this.canMoveFields = config.canMoveFields !== undefined ? !!config.canMoveFields : true;\n        this.dataHeadersLocation = config.dataHeadersLocation === 'columns' ? 'columns' : 'rows';\n        this.grandTotal = new GrandTotalConfig(config.grandTotal);\n        this.subTotal = new SubTotalConfig(config.subTotal, true);\n        this.width = config.width;\n        this.height = config.height;\n        this.toolbar = config.toolbar;\n        this.theme = themeManager;\n        this.chartMode = new ChartConfig(config.chartMode);\n\n        themeManager.current(config.theme);\n\n        this.rowSettings = new Field(config.rowSettings, false);\n        this.columnSettings = new Field(config.columnSettings, false);\n        this.dataSettings = new Field(config.dataSettings, false);\n\n        // datasource field names\n        this.dataSourceFieldNames = [];\n        // datasource field captions\n        this.dataSourceFieldCaptions = [];\n\n        this.captionToName = function(caption) {\n          var fcaptionIndex = self.dataSourceFieldCaptions.indexOf(caption);\n          return fcaptionIndex >= 0 ? self.dataSourceFieldNames[fcaptionIndex] : caption;\n        };\n\n        this.nameToCaption = function(name) {\n          var fnameIndex = self.dataSourceFieldNames.indexOf(name);\n          return fnameIndex >= 0 ? self.dataSourceFieldCaptions[fnameIndex] : name;\n        };\n\n        this.setTheme = function(newTheme) {\n          return self.theme.current() !== self.theme.current(newTheme);\n        };\n\n        this.allFields = (config.fields || []).map(function(fieldconfig) {\n          var f = new Field(fieldconfig);\n          // map fields names to captions\n          self.dataSourceFieldNames.push(f.name);\n          self.dataSourceFieldCaptions.push(f.caption);\n          return f;\n        });\n\n        function ensureFieldConfig(obj) {\n          if (typeof obj === 'string') {\n            return {\n              name: self.captionToName(obj)\n            };\n          }\n          return obj;\n        }\n\n        this.rowFields = (config.rows || []).map(function(fieldconfig) {\n          fieldconfig = ensureFieldConfig(fieldconfig);\n          return createfield(self, axe.Type.ROWS, fieldconfig, getfield(self.allFields, fieldconfig.name));\n        });\n\n        this.columnFields = (config.columns || []).map(function(fieldconfig) {\n          fieldconfig = ensureFieldConfig(fieldconfig);\n          return createfield(self, axe.Type.COLUMNS, fieldconfig, getfield(self.allFields, fieldconfig.name));\n        });\n\n        this.dataFields = (config.data || []).map(function(fieldconfig) {\n          fieldconfig = ensureFieldConfig(fieldconfig);\n          return createfield(self, axe.Type.DATA, fieldconfig, getfield(self.allFields, fieldconfig.name));\n        });\n\n        this.dataFieldsCount = this.dataFields ? this.dataFields.length || 1 : 1;\n\n        var runtimeVisibility = {\n          subtotals: {\n            rows: self.rowSettings.subTotal.visible !== undefined ? self.rowSettings.subTotal.visible : true,\n            columns: self.columnSettings.subTotal.visible !== undefined ? self.columnSettings.subTotal.visible : true\n          }\n        };\n\n        function getfield(axefields, fieldname) {\n          var fieldindex = getfieldindex(axefields, fieldname);\n          if (fieldindex > -1) {\n            return axefields[fieldindex];\n          }\n          return null;\n        }\n\n        function getfieldindex(axefields, fieldname) {\n          for (var fi = 0; fi < axefields.length; fi++) {\n            if (axefields[fi].name === fieldname) {\n              return fi;\n            }\n          }\n          return -1;\n        }\n\n        this.getField = function(fieldname) {\n          return getfield(self.allFields, fieldname);\n        };\n\n        this.getRowField = function(fieldname) {\n          return getfield(self.rowFields, fieldname);\n        };\n\n        this.getColumnField = function(fieldname) {\n          return getfield(self.columnFields, fieldname);\n        };\n\n        this.getDataField = function(fieldname) {\n          return getfield(self.dataFields, fieldname);\n        };\n\n        this.availablefields = function() {\n          return self.allFields.filter(function(field) {\n            var notequalfield = function notequalfield(otherfield) {\n              return field.name !== otherfield.name;\n            };\n\n            return self.dataFields.every(notequalfield) && self.rowFields.every(notequalfield) && self.columnFields.every(notequalfield);\n          });\n        };\n\n        this.getDataSourceFieldCaptions = function() {\n          var row0;\n          if (self.dataSource && (row0 = self.dataSource[0])) {\n            var fieldNames = utils.ownProperties(row0);\n            var headers = [];\n            for (var i = 0; i < fieldNames.length; i++) {\n              headers.push(self.nameToCaption(fieldNames[i]));\n            }\n            return headers;\n          }\n          return null;\n        };\n\n        this.getPreFilters = function() {\n          var prefilters = {};\n          if (config.preFilters) {\n            utils.forEach(utils.ownProperties(config.preFilters), function(filteredField) {\n              var prefilterConfig = config.preFilters[filteredField];\n              if (utils.isArray(prefilterConfig)) {\n                prefilters[self.captionToName(filteredField)] = new filtering.expressionFilter(null, null, prefilterConfig, false);\n              } else {\n                var opname = utils.ownProperties(prefilterConfig)[0];\n                if (opname) {\n                  prefilters[self.captionToName(filteredField)] = new filtering.expressionFilter(opname, prefilterConfig[opname]);\n                }\n              }\n            });\n          }\n\n          return prefilters;\n        };\n\n        this.moveField = function(fieldname, oldaxetype, newaxetype, position) {\n\n          var oldaxe, oldposition;\n          var newaxe;\n          var fieldConfig;\n          var defaultFieldConfig = getfield(self.allFields, fieldname);\n\n          if (defaultFieldConfig) {\n\n            switch (oldaxetype) {\n              case axe.Type.ROWS:\n                oldaxe = self.rowFields;\n                break;\n              case axe.Type.COLUMNS:\n                oldaxe = self.columnFields;\n                break;\n              case axe.Type.DATA:\n                oldaxe = self.dataFields;\n                break;\n              default:\n                break;\n            }\n\n            switch (newaxetype) {\n              case axe.Type.ROWS:\n                newaxe = self.rowFields;\n                fieldConfig = self.getRowField(fieldname);\n                break;\n              case axe.Type.COLUMNS:\n                newaxe = self.columnFields;\n                fieldConfig = self.getColumnField(fieldname);\n                break;\n              case axe.Type.DATA:\n                newaxe = self.dataFields;\n                fieldConfig = self.getDataField(fieldname);\n                break;\n              default:\n                break;\n            }\n\n            if (oldaxe || newaxe) {\n\n              var newAxeSubtotalsState = self.areSubtotalsVisible(newaxetype);\n\n              if (oldaxe) {\n                oldposition = getfieldindex(oldaxe, fieldname);\n                if (oldaxetype === newaxetype) {\n                  if (oldposition == oldaxe.length - 1 && position == null || oldposition === position - 1) {\n                    return false;\n                  }\n                }\n                oldaxe.splice(oldposition, 1);\n              }\n\n              var field = createfield(self, newaxetype, fieldConfig, defaultFieldConfig);\n\n              if (!newAxeSubtotalsState && field.subTotal.visible !== false) {\n                field.subTotal.visible = null;\n              }\n\n              if (newaxe) {\n                if (position != null) {\n                  newaxe.splice(position, 0, field);\n                } else {\n                  newaxe.push(field);\n                }\n              }\n\n              // update data fields count\n              self.dataFieldsCount = self.dataFields ? self.dataFields.length || 1 : 1;\n\n              return true;\n            }\n          }\n        };\n\n        this.toggleSubtotals = function(axetype) {\n\n          var i;\n          var axeFields;\n          var newState = !self.areSubtotalsVisible(axetype);\n\n          if (axetype === axe.Type.ROWS) {\n            runtimeVisibility.subtotals.rows = newState;\n            axeFields = self.rowFields;\n          } else if (axetype === axe.Type.COLUMNS) {\n            runtimeVisibility.subtotals.columns = newState;\n            axeFields = self.columnFields;\n          } else {\n            return false;\n          }\n\n          newState = newState === false ? null : true;\n          for (i = 0; i < axeFields.length; i++) {\n            if (axeFields[i].subTotal.visible !== false) {\n              axeFields[i].subTotal.visible = newState;\n            }\n          }\n          return true;\n        };\n\n        this.areSubtotalsVisible = function(axetype) {\n          if (axetype === axe.Type.ROWS) {\n            return runtimeVisibility.subtotals.rows;\n          } else if (axetype === axe.Type.COLUMNS) {\n            return runtimeVisibility.subtotals.columns;\n          } else {\n            return null;\n          }\n        };\n\n        this.toggleGrandtotal = function(axetype) {\n          var newState = !self.isGrandtotalVisible(axetype);\n\n          if (axetype === axe.Type.ROWS) {\n            self.grandTotal.rowsvisible = newState;\n          } else if (axetype === axe.Type.COLUMNS) {\n            self.grandTotal.columnsvisible = newState;\n          } else {\n            return false;\n          }\n          return true;\n        };\n\n        this.isGrandtotalVisible = function(axetype) {\n          if (axetype === axe.Type.ROWS) {\n            return self.grandTotal.rowsvisible;\n          } else if (axetype === axe.Type.COLUMNS) {\n            return self.grandTotal.columnsvisible;\n          } else {\n            return false;\n          }\n        };\n      };\n\n    }, {\n      \"./orb.aggregation\": 35,\n      \"./orb.axe\": 36,\n      \"./orb.filtering\": 40,\n      \"./orb.themes\": 46,\n      \"./orb.utils\": 53\n    }],\n    38: [function(_dereq_, module, exports) {\n\n      module.exports = function(id, parent, value, field, depth, isRoot, isLeaf) {\n\n        var self = this;\n\n        this.id = id;\n\n        this.parent = parent;\n\n        this.value = value;\n\n        this.isRoot = isRoot;\n\n        this.isLeaf = isLeaf;\n\n        this.field = field;\n\n        this.depth = depth;\n\n        this.values = [];\n\n        this.subdimvals = {};\n\n        this.rowIndexes = null;\n\n        this.getRowIndexes = function(result) {\n          if (self.rowIndexes == null) {\n            self.rowIndexes = [];\n            for (var i = 0; i < self.values.length; i++) {\n              self.subdimvals[self.values[i]].getRowIndexes(self.rowIndexes);\n            }\n          }\n          if (result != null) {\n            for (var j = 0; j < self.rowIndexes.length; j++) {\n              result.push(self.rowIndexes[j]);\n            }\n            return result;\n          } else {\n            return self.rowIndexes;\n          }\n        };\n      };\n\n    }, {}],\n    39: [function(_dereq_, module, exports) {\n\n      var utils = _dereq_('./orb.utils');\n      var uiheaders = _dereq_('./orb.ui.header');\n      var themeManager = _dereq_('./orb.themes');\n\n      var uriHeader = 'data:application/vnd.ms-excel;base64,';\n      var docHeader = '<html xmlns:o=\"urn:schemas-microsoft-com:office:office\" xmlns:x=\"urn:schemas-microsoft-com:office:excel\" xmlns=\"http://www.w3.org/TR/REC-html40\">' + '<head>' + '<meta http-equiv=Content-Type content=\"text/html; charset=UTF-8\">' + '<!--[if gte mso 9]><xml>' + ' <x:ExcelWorkbook>' + '  <x:ExcelWorksheets>' + '   <x:ExcelWorksheet>' + '    <x:Name>###sheetname###</x:Name>' + '    <x:WorksheetOptions>' + '     <x:ProtectContents>False</x:ProtectContents>' + '     <x:ProtectObjects>False</x:ProtectObjects>' + '     <x:ProtectScenarios>False</x:ProtectScenarios>' + '    </x:WorksheetOptions>' + '   </x:ExcelWorksheet>' + '  </x:ExcelWorksheets>' + '  <x:ProtectStructure>False</x:ProtectStructure>' + '  <x:ProtectWindows>False</x:ProtectWindows>' + ' </x:ExcelWorkbook>' + '</xml><![endif]-->' + '</head>' + '<body>';\n      var docFooter = '</body></html>';\n\n      module.exports = function(pgridwidget) {\n\n        var config = pgridwidget.pgrid.config;\n\n        var currTheme = themeManager.current();\n        currTheme = currTheme === 'bootstrap' ? 'white' : currTheme;\n        var override = currTheme === 'white';\n\n        var buttonTextColor = override ? 'black' : 'white';\n        var themeColor = themeManager.themes[currTheme];\n        var themeFadeout = themeManager.utils.fadeoutColor(themeColor, 0.1);\n\n        var buttonStyle = 'style=\"font-weight: bold; color: ' + buttonTextColor + '; background-color: ' + themeColor + ';\" bgcolor=\"' + themeColor + '\"';\n        var headerStyle = 'style=\"background-color: ' + themeFadeout + ';\" bgcolor=\"' + themeFadeout + '\"';\n\n        function createButtonCell(caption) {\n          return '<td ' + buttonStyle + '><font color=\"' + buttonTextColor + '\">' + caption + '</font></td>';\n        }\n\n        function createButtons(buttons, cellsCountBefore, cellsCountAfter, prefix) {\n          var i;\n          var str = prefix || '<tr>';\n          for (i = 0; i < cellsCountBefore; i++) {\n            str += '<td></td>';\n          }\n\n          str += buttons.reduce(function(tr, field) {\n            return tr += createButtonCell(field.caption);\n          }, '');\n\n          for (i = 0; i < cellsCountAfter; i++) {\n            str += '<td></td>';\n          }\n          return str + '</tr>';\n        }\n\n        var cellsHorizontalCount = Math.max(config.dataFields.length + 1, pgridwidget.layout.pivotTable.width);\n\n        var dataFields = createButtons(config.dataFields, 0, cellsHorizontalCount - config.dataFields.length, '<tr><td><font color=\"#ccc\">Data</font></td>');\n\n        var sep = '<tr><td style=\"height: 22px;\" colspan=\"' + cellsHorizontalCount + '\"></td></tr>';\n\n        var columnFields = createButtons(config.columnFields, pgridwidget.layout.rowHeaders.width, cellsHorizontalCount - (pgridwidget.layout.rowHeaders.width + config.columnFields.length));\n\n        var columnHeaders = function() {\n          var str = '';\n          var j;\n          for (var i = 0; i < pgridwidget.columns.headers.length; i++) {\n            var currRow = pgridwidget.columns.headers[i];\n            var rowStr = '<tr>';\n            if (i < pgridwidget.columns.headers.length - 1) {\n              for (j = 0; j < pgridwidget.layout.rowHeaders.width; j++) {\n                rowStr += '<td></td>';\n              }\n            } else {\n              rowStr += config.rowFields.reduce(function(tr, field) {\n                return tr += createButtonCell(field.caption);\n              }, '');\n            }\n\n            rowStr += currRow.reduce(function(tr, header) {\n              var value = header.type === uiheaders.HeaderType.DATA_HEADER ? header.value.caption : header.value;\n              return tr += '<td ' + headerStyle + ' colspan=\"' + header.hspan(true) + '\" rowspan=\"' + header.vspan(true) + '\">' + value + '</td>';\n            }, '');\n            str += rowStr + '</tr>';\n          }\n          return str;\n        }();\n\n        var rowHeadersAndDataCells = function() {\n          var str = '';\n          var j;\n          for (var i = 0; i < pgridwidget.rows.headers.length; i++) {\n            var currRow = pgridwidget.rows.headers[i];\n            var rowStr = '<tr>';\n            rowStr += currRow.reduce(function(tr, header) {\n              return tr += '<td ' + headerStyle + ' colspan=\"' + header.hspan(true) + '\" rowspan=\"' + header.vspan(true) + '\">' + header.value + '</td>';\n            }, '');\n            var dataRow = pgridwidget.dataRows[i];\n            rowStr += dataRow.reduce(function(tr, dataCell, index) {\n              var formatFunc = config.dataFields[index = index % config.dataFields.length].formatFunc;\n              var value = dataCell.value == null ? '' : formatFunc ? formatFunc()(dataCell.value) : dataCell.value;\n              return tr += '<td>' + value + '</td>';\n            }, '');\n            str += rowStr + '</tr>';\n          }\n          return str;\n        }();\n\n        function toBase64(str) {\n          return utils.btoa(unescape(encodeURIComponent(str)));\n        }\n\n        return uriHeader + toBase64(docHeader + '<table>' + dataFields + sep + columnFields + columnHeaders + rowHeadersAndDataCells + '</table>' + docFooter);\n      };\n\n    }, {\n      \"./orb.themes\": 46,\n      \"./orb.ui.header\": 49,\n      \"./orb.utils\": 53\n    }],\n    40: [function(_dereq_, module, exports) {\n\n      var utils = _dereq_('./orb.utils');\n\n      var filtering = module.exports = {\n        ALL: '#All#',\n        NONE: '#None#',\n        BLANK: '#Blank#\"'\n      };\n\n      filtering.expressionFilter = function(operator, term, staticValue, excludeStatic) {\n        var self = this;\n\n        this.operator = ops.get(operator);\n        this.regexpMode = false;\n        this.term = term || null;\n        if (this.term && this.operator && this.operator.regexpSupported) {\n          if (utils.isRegExp(this.term)) {\n            this.regexpMode = true;\n            if (!this.term.ignoreCase) {\n              this.term = new RegExp(this.term.source, 'i');\n            }\n          }\n        }\n\n        this.staticValue = staticValue;\n        this.excludeStatic = excludeStatic;\n\n        this.test = function(value) {\n          if (utils.isArray(self.staticValue)) {\n            var found = self.staticValue.indexOf(value) >= 0;\n            return self.excludeStatic && !found || !self.excludeStatic && found;\n          } else if (self.term) {\n            return self.operator.func(value, self.term);\n          } else if (self.staticValue === true || self.staticValue === filtering.ALL) {\n            return true;\n          } else if (self.staticValue === false || self.staticValue === filtering.NONE) {\n            return false;\n          } else {\n            return true;\n          }\n        };\n\n        this.isAlwaysTrue = function() {\n          return !(self.term || utils.isArray(self.staticValue) || self.staticValue === filtering.NONE || self.staticValue === false);\n        };\n      };\n\n      var ops = filtering.Operators = {\n        get: function get(opname) {\n          switch (opname) {\n            case ops.MATCH.name:\n              return ops.MATCH;\n            case ops.NOTMATCH.name:\n              return ops.NOTMATCH;\n            case ops.EQ.name:\n              return ops.EQ;\n            case ops.NEQ.name:\n              return ops.NEQ;\n            case ops.GT.name:\n              return ops.GT;\n            case ops.GTE.name:\n              return ops.GTE;\n            case ops.LT.name:\n              return ops.LT;\n            case ops.LTE.name:\n              return ops.LTE;\n            default:\n              return ops.NONE;\n          }\n        },\n        NONE: null,\n        MATCH: {\n          name: 'Matches',\n          func: function func(value, term) {\n            if (value) {\n              return value.toString().search(utils.isRegExp(term) ? term : new RegExp(term, 'i')) >= 0;\n            } else {\n              return !!!term;\n            }\n          },\n          regexpSupported: true\n        },\n        NOTMATCH: {\n          name: 'Does Not Match',\n          func: function func(value, term) {\n            if (value) {\n              return value.toString().search(utils.isRegExp(term) ? term : new RegExp(term, 'i')) < 0;\n            } else {\n              return !!term;\n            }\n          },\n          regexpSupported: true\n        },\n        EQ: {\n          name: '=',\n          func: function func(value, term) {\n            return value == term;\n          },\n          regexpSupported: false\n        },\n        NEQ: {\n          name: '<>',\n          func: function func(value, term) {\n            return value != term;\n          },\n          regexpSupported: false\n        },\n        GT: {\n          name: '>',\n          func: function func(value, term) {\n            return value > term;\n          },\n          regexpSupported: false\n        },\n        GTE: {\n          name: '>=',\n          func: function func(value, term) {\n            return value >= term;\n          },\n          regexpSupported: false\n        },\n        LT: {\n          name: '<',\n          func: function func(value, term) {\n            return value < term;\n          },\n          regexpSupported: false\n        },\n        LTE: {\n          name: '<=',\n          func: function func(value, term) {\n            return value <= term;\n          },\n          regexpSupported: false\n        }\n      };\n\n    }, {\n      \"./orb.utils\": 53\n    }],\n    41: [function(_dereq_, module, exports) {\n\n      module.exports.utils = _dereq_('./orb.utils');\n      module.exports.pgrid = _dereq_('./orb.pgrid');\n      module.exports.pgridwidget = _dereq_('./orb.ui.pgridwidget');\n      module.exports.query = _dereq_('./orb.query');\n      module.exports['export'] = _dereq_('./orb.export.excel');\n\n    }, {\n      \"./orb.export.excel\": 39,\n      \"./orb.pgrid\": 42,\n      \"./orb.query\": 44,\n      \"./orb.ui.pgridwidget\": 50,\n      \"./orb.utils\": 53\n    }],\n    42: [function(_dereq_, module, exports) {\n\n      var PubSub = _dereq_('./orb.pubsub'),\n        axe = _dereq_('./orb.axe'),\n        configuration = _dereq_('./orb.config').config,\n        filtering = _dereq_('./orb.filtering'),\n        query = _dereq_('./orb.query'),\n        utils = _dereq_('./orb.utils');\n\n      var pgrid = module.exports = function(config) {\n\n        var self = this,\n          defaultfield = {\n            name: '#undefined#'\n          },\n          _iCache;\n\n        // inherit PubSub\n        PubSub.call(this);\n\n        this.config = new configuration(config);\n        this.filters = self.config.getPreFilters();\n        this.filteredDataSource = self.config.dataSource;\n\n        this.rows = new axe(self, axe.Type.ROWS);\n        this.columns = new axe(self, axe.Type.COLUMNS);\n        this.dataMatrix = {};\n\n        function refresh(refreshFilters) {\n          if (refreshFilters !== false) {\n            refreshFilteredDataSource();\n          }\n          self.rows.update();\n          self.columns.update();\n          computeValues();\n\n          // publish updated event\n          self.publish(pgrid.EVENT_UPDATED);\n        }\n\n        function refreshFilteredDataSource() {\n          var filterFields = utils.ownProperties(self.filters);\n          if (filterFields.length > 0) {\n            self.filteredDataSource = [];\n\n            for (var i = 0; i < self.config.dataSource.length; i++) {\n              var row = self.config.dataSource[i];\n              var exclude = false;\n              for (var fi = 0; fi < filterFields.length; fi++) {\n                var fieldname = filterFields[fi];\n                var fieldFilter = self.filters[fieldname];\n\n                if (fieldFilter && !fieldFilter.test(row[fieldname])) {\n                  exclude = true;\n                  break;\n                }\n              }\n              if (!exclude) {\n                self.filteredDataSource.push(row);\n              }\n            }\n          } else {\n            self.filteredDataSource = self.config.dataSource;\n          }\n        }\n\n        this.sort = function(axetype, field) {\n          if (axetype === axe.Type.ROWS) {\n            self.rows.sort(field);\n          } else if (axetype === axe.Type.COLUMNS) {\n            self.columns.sort(field);\n          } else {\n            return;\n          }\n\n          self.publish(pgrid.EVENT_SORT_CHANGED);\n        };\n\n        this.moveField = function(fieldname, oldaxetype, newaxetype, position) {\n          if (self.config.moveField(fieldname, oldaxetype, newaxetype, position)) {\n            refresh(false);\n            return true;\n          }\n          return false;\n        };\n\n        this.applyFilter = function(fieldname, operator, term, staticValue, excludeStatic) {\n          self.filters[fieldname] = new filtering.expressionFilter(operator, term, staticValue, excludeStatic);\n          refresh();\n        };\n\n        this.refreshData = function(data) {\n          self.config.dataSource = data;\n          refresh();\n        };\n\n        this.toggleSubtotals = function(axetype) {\n          if (self.config.toggleSubtotals(axetype)) {\n            self.publish(pgrid.EVENT_CONFIG_CHANGED);\n          }\n        };\n\n        this.toggleGrandtotal = function(axetype) {\n          if (self.config.toggleGrandtotal(axetype)) {\n            self.publish(pgrid.EVENT_CONFIG_CHANGED);\n          }\n        };\n\n        this.areSubtotalsVisible = function(axetype) {\n          return self.config.areSubtotalsVisible(axetype);\n        };\n\n        this.isGrandtotalVisible = function(axetype) {\n          return self.config.isGrandtotalVisible(axetype);\n        };\n\n        this.getFieldValues = function(field, filterFunc) {\n          var values1 = [];\n          var values = [];\n          var containsBlank = false;\n          for (var i = 0; i < self.config.dataSource.length; i++) {\n            var row = self.config.dataSource[i];\n            var val = row[field];\n            if (filterFunc !== undefined) {\n              if (filterFunc === true || typeof filterFunc === 'function' && filterFunc(val)) {\n                values1.push(val);\n              }\n            } else {\n              if (val != null) {\n                values1.push(val);\n              } else {\n                containsBlank = true;\n              }\n            }\n          }\n          if (values1.length > 1) {\n            if (utils.isNumber(values1[0]) || utils.isDate(values1[0])) {\n              values1.sort(function(a, b) {\n                return a ? b ? a - b : 1 : b ? -1 : 0;\n              });\n            } else {\n              values1.sort();\n            }\n\n            for (var vi = 0; vi < values1.length; vi++) {\n              if (vi === 0 || values1[vi] !== values[values.length - 1]) {\n                values.push(values1[vi]);\n              }\n            }\n          } else {\n            values = values1;\n          }\n          if (containsBlank) {\n            values.unshift(null);\n          }\n          return values;\n        };\n\n        this.getFieldFilter = function(field) {\n          return self.filters[field];\n        };\n\n        this.isFieldFiltered = function(field) {\n          var filter = self.getFieldFilter(field);\n          return filter != null && !filter.isAlwaysTrue();\n        };\n\n        this.getData = function(field, rowdim, coldim, aggregateFunc) {\n          var value;\n          if (rowdim && coldim) {\n\n            var datafieldName = field || (self.config.dataFields[0] || defaultfield).name;\n            var datafield = self.config.getDataField(datafieldName);\n\n            if (!datafield || aggregateFunc && datafield.aggregateFunc != aggregateFunc) {\n              value = self.calcAggregation(rowdim.isRoot ? null : rowdim.getRowIndexes().slice(0), coldim.isRoot ? null : coldim.getRowIndexes().slice(0), [datafieldName], aggregateFunc)[datafieldName];\n            } else {\n              if (self.dataMatrix[rowdim.id] && self.dataMatrix[rowdim.id][coldim.id]) {\n                value = self.dataMatrix[rowdim.id][coldim.id][datafieldName];\n              } else {\n                value = null;\n              }\n            }\n          }\n\n          return value === undefined ? null : value;\n        };\n\n        this.calcAggregation = function(rowIndexes, colIndexes, fieldNames, aggregateFunc) {\n          return computeValue(rowIndexes, colIndexes, rowIndexes, fieldNames, aggregateFunc);\n        };\n\n        this.getChartData = function() {\n\n          var config = self.config;\n\n          function getAxisLabel(axisFields) {\n            var str = '';\n            for (var ti = 0; ti < axisFields.length; ti++) {\n              str += (ti > 0 ? ' - ' : '') + axisFields[ti].caption;\n            }\n            return str;\n          }\n\n          var hAxisLabel = getAxisLabel(config.columnFields);\n          var vAxisLabel = config.dataFields[0].aggregateFuncName + '(' + config.dataFields[0].caption + ')';\n          var legendsLabel = getAxisLabel(config.rowFields);\n\n          var rowLeafDimensions = self.rows.flattenValues();\n          var colLeafDimensions = self.columns.flattenValues();\n          var data = [];\n\n          for (var ci = 0; ci < colLeafDimensions.length; ci++) {\n            var cdim = colLeafDimensions[ci];\n            var currData = [cdim.name];\n            for (var rri = 0; rri < rowLeafDimensions.length; rri++) {\n              currData.push(self.getData(config.dataFields[0].name, rowLeafDimensions[rri].dim, cdim.dim));\n            }\n            data.push(currData);\n          }\n\n          return {\n            title: vAxisLabel + ': ' + hAxisLabel + ' by ' + legendsLabel,\n            hAxisLabel: hAxisLabel,\n            vAxisLabel: vAxisLabel,\n            legendsLabel: legendsLabel,\n            colNames: rowLeafDimensions.map(function(d) {\n              return d.name;\n            }),\n            dataTable: data\n          };\n        };\n\n        this.query = query(self);\n\n        refresh();\n\n        function computeValue(rowIndexes, colIndexes, origRowIndexes, fieldNames, aggregateFunc) {\n\n          var res = {};\n\n          if (self.config.dataFieldsCount > 0) {\n\n            var intersection;\n\n            if (rowIndexes == null) {\n              intersection = colIndexes;\n            } else if (colIndexes == null) {\n              intersection = rowIndexes;\n            } else {\n              intersection = [];\n              for (var ri = 0; ri < rowIndexes.length; ri++) {\n                var rowindex = rowIndexes[ri];\n                if (rowindex >= 0) {\n                  var colrowindex = colIndexes.indexOf(rowindex);\n                  if (colrowindex >= 0) {\n                    rowIndexes[ri] = 0 - (rowindex + 2);\n                    intersection.push(rowindex);\n                  }\n                }\n              }\n            }\n\n            var emptyIntersection = intersection && intersection.length === 0;\n            var datasource = self.filteredDataSource;\n            var datafield;\n            var datafields = [];\n\n            if (fieldNames) {\n              for (var fieldnameIndex = 0; fieldnameIndex < fieldNames.length; fieldnameIndex++) {\n                datafield = self.config.getDataField(fieldNames[fieldnameIndex]);\n                if (!aggregateFunc) {\n                  if (!datafield) {\n                    datafield = self.config.getField(fieldNames[fieldnameIndex]);\n                    if (datafield) {\n                      aggregateFunc = datafield.dataSettings ? datafield.dataSettings.aggregateFunc() : datafield.aggregateFunc();\n                    }\n                  } else {\n                    aggregateFunc = datafield.aggregateFunc();\n                  }\n                }\n\n                if (datafield && aggregateFunc) {\n                  datafields.push({\n                    field: datafield,\n                    aggregateFunc: aggregateFunc\n                  });\n                }\n              }\n            } else {\n              for (var datafieldIndex = 0; datafieldIndex < self.config.dataFieldsCount; datafieldIndex++) {\n                datafield = self.config.dataFields[datafieldIndex] || defaultfield;\n                if (aggregateFunc || datafield.aggregateFunc) {\n                  datafields.push({\n                    field: datafield,\n                    aggregateFunc: aggregateFunc || datafield.aggregateFunc()\n                  });\n                }\n              }\n            }\n\n            for (var dfi = 0; dfi < datafields.length; dfi++) {\n              datafield = datafields[dfi];\n              // no data\n              if (emptyIntersection) {\n                res[datafield.field.name] = null;\n              } else {\n                res[datafield.field.name] = datafield.aggregateFunc(datafield.field.name, intersection || 'all', self.filteredDataSource, origRowIndexes || rowIndexes, colIndexes);\n              }\n            }\n          }\n\n          return res;\n        }\n\n        function computeRowValues(rowDim) {\n\n          if (rowDim) {\n            var data = {};\n            var rid = 'r' + rowDim.id;\n\n            // set cached row indexes for current row dimension\n            if (_iCache[rid] === undefined) {\n              _iCache[rid] = rowDim.isRoot ? null : _iCache[rowDim.parent.id] || rowDim.getRowIndexes();\n            }\n\n            // calc grand-total cell\n            data[self.columns.root.id] = computeValue(rowDim.isRoot ? null : _iCache[rid].slice(0), null);\n\n            if (self.columns.dimensionsCount > 0) {\n              var p = 0;\n              var parents = [self.columns.root];\n\n              while (p < parents.length) {\n                var parent = parents[p];\n                var rowindexes = rowDim.isRoot ? null : parent.isRoot ? _iCache[rid].slice(0) : _iCache['c' + parent.id].slice(0);\n\n                for (var i = 0; i < parent.values.length; i++) {\n                  var subdim = parent.subdimvals[parent.values[i]];\n                  var cid = 'c' + subdim.id;\n\n                  // set cached row indexes for this column leaf dimension\n                  if (_iCache[cid] === undefined) {\n                    _iCache[cid] = _iCache[cid] || subdim.getRowIndexes().slice(0);\n                  }\n\n                  data[subdim.id] = computeValue(rowindexes, _iCache[cid], rowDim.isRoot ? null : rowDim.getRowIndexes());\n\n                  if (!subdim.isLeaf) {\n                    parents.push(subdim);\n                    if (rowindexes) {\n                      _iCache[cid] = [];\n                      for (var ur = 0; ur < rowindexes.length; ur++) {\n                        var vr = rowindexes[ur];\n                        if (vr != -1 && vr < 0) {\n                          _iCache[cid].push(0 - (vr + 2));\n                          rowindexes[ur] = -1;\n                        }\n                      }\n                    }\n                  }\n                }\n                _iCache['c' + parent.id] = undefined;\n                p++;\n              }\n            }\n\n            return data;\n          }\n        }\n\n        function computeValues() {\n          self.dataMatrix = {};\n          _iCache = {};\n\n          // calc grand total row\n          self.dataMatrix[self.rows.root.id] = computeRowValues(self.rows.root);\n\n          if (self.rows.dimensionsCount > 0) {\n            var parents = [self.rows.root];\n            var p = 0;\n            var parent;\n            while (p < parents.length) {\n              parent = parents[p];\n              // calc children rows\n              for (var i = 0; i < parent.values.length; i++) {\n                var subdim = parent.subdimvals[parent.values[i]];\n                // calc child row\n                self.dataMatrix[subdim.id] = computeRowValues(subdim);\n                // if row is not a leaf, add it to parents array to process its children\n                if (!subdim.isLeaf) {\n                  parents.push(subdim);\n                }\n              }\n              // next parent\n              p++;\n            }\n          }\n        }\n      };\n\n      // pgrid events\n      pgrid.EVENT_UPDATED = 'pgrid:updated';\n      pgrid.EVENT_SORT_CHANGED = 'pgrid:sort-changed';\n      pgrid.EVENT_CONFIG_CHANGED = 'pgrid:config-changed';\n\n    }, {\n      \"./orb.axe\": 36,\n      \"./orb.config\": 37,\n      \"./orb.filtering\": 40,\n      \"./orb.pubsub\": 43,\n      \"./orb.query\": 44,\n      \"./orb.utils\": 53\n    }],\n    43: [function(_dereq_, module, exports) {\n\n      var utils = _dereq_('./orb.utils');\n\n      module.exports = function() {\n        var _topics = {};\n\n        this.subscribe = function(topic, callback) {\n          if (utils.isString(topic) && utils.isFunction(callback)) {\n            _topics[topic] = _topics[topic] || [];\n            _topics[topic].push(callback);\n          }\n        };\n\n        this.publish = function(topic) {\n          if (utils.isString(topic)) {\n            utils.forEach(_topics[topic], function(callback) {\n              callback.apply(null, [topic].concat(Array.prototype.slice.call(arguments, 1)));\n            });\n          }\n        };\n      };\n\n    }, {\n      \"./orb.utils\": 53\n    }],\n    44: [function(_dereq_, module, exports) {\n\n      var _typeof2 = _dereq_('babel-runtime/helpers/typeof');\n\n      var _typeof3 = _interopRequireDefault(_typeof2);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n          default: obj\n        };\n      }\n\n      var utils = _dereq_('./orb.utils');\n      var axe = _dereq_('./orb.axe');\n      var aggregation = _dereq_('./orb.aggregation');\n\n      var queryBase = function queryBase(source, query, filters) {\n\n        var self = this;\n\n        this.source = source;\n        this.query = query;\n        this.filters = filters;\n\n        this.extractResult = function(aggs, options, outerArgs) {\n          if (outerArgs.multi === true) {\n            var res = {};\n            for (var ai = 0; ai < options.multiFieldNames.length; ai++) {\n              res[options.multiFieldNames[ai]] = aggs[self.getCaptionName(options.multiFieldNames[ai])];\n            }\n            return res;\n          } else {\n            return aggs[outerArgs.datafieldname];\n          }\n        };\n\n        this.measureFunc = function(datafieldname, multi, aggregateFunc, fieldsConfig) {\n\n          var outerArgs = {\n            datafieldname: self.getCaptionName(datafieldname),\n            multi: multi,\n            aggregateFunc: aggregateFunc\n          };\n\n          return function(options) {\n            options = self.cleanOptions(options, arguments, outerArgs);\n            var aggs = self.compute(options, fieldsConfig, multi);\n            return self.extractResult(aggs, options, outerArgs);\n          };\n        };\n\n        this.setDefaultAggFunctions = function(param) {\n\n          // if there is a registered field with a name or caption 'val', use 'val_'\n          var valname = self.query.val ? 'val_' : 'val';\n          self.query[valname] = self.measureFunc(undefined, true, undefined, param);\n\n\n          var aggFunctions = utils.ownProperties(aggregation);\n          for (var funcIndex = 0; funcIndex < aggFunctions.length; funcIndex++) {\n            var funcName = aggFunctions[funcIndex];\n            if (funcName !== 'toAggregateFunc') {\n              self.query[funcName] = self.measureFunc(undefined, true, aggregation[funcName], param);\n            }\n          }\n        };\n      };\n\n      var pgridQuery = function pgridQuery(pgrid) {\n\n        queryBase.call(this, pgrid, {}, {});\n\n        var self = this;\n\n        this.getCaptionName = function(caption) {\n          return self.source.config.captionToName(caption);\n        };\n\n        this.cleanOptions = function(options, innerArgs, outerArgs) {\n          var opts = {\n            fieldNames: []\n          };\n\n          if (outerArgs.multi === true) {\n            if (options && (typeof options === 'undefined' ? 'undefined' : (0, _typeof3.default)(options)) === 'object') {\n              opts.aggregateFunc = options.aggregateFunc;\n              opts.multiFieldNames = options.fields;\n            } else {\n              opts.aggregateFunc = outerArgs.aggregateFunc;\n              opts.multiFieldNames = innerArgs;\n            }\n\n            for (var ai = 0; ai < opts.multiFieldNames.length; ai++) {\n              opts.fieldNames.push(self.getCaptionName(opts.multiFieldNames[ai]));\n            }\n          } else {\n            opts.aggregateFunc = options;\n            opts.fieldNames.push(outerArgs.datafieldname);\n          }\n\n          if (opts.aggregateFunc) {\n            opts.aggregateFunc = aggregation.toAggregateFunc(opts.aggregateFunc);\n          }\n\n          return opts;\n        };\n\n        this.setup = function(parameters) {\n          var rowFields = self.source.config.rowFields;\n          var colFields = self.source.config.columnFields;\n          var datafields = self.source.config.dataFields;\n          var fIndex;\n\n          // row fields setup\n          for (fIndex = 0; fIndex < rowFields.length; fIndex++) {\n            self.slice(rowFields[fIndex], axe.Type.ROWS, rowFields.length - fIndex);\n          }\n\n          // column fields setup\n          for (fIndex = 0; fIndex < colFields.length; fIndex++) {\n            self.slice(colFields[fIndex], axe.Type.COLUMNS, colFields.length - fIndex);\n          }\n\n          // data fields setup\n          for (fIndex = 0; fIndex < datafields.length; fIndex++) {\n            var df = datafields[fIndex];\n            var dfname = df.name;\n            var dfcaption = df.caption || dfname;\n\n            self.query[dfname] = self.query[dfcaption] = self.measureFunc(dfname);\n          }\n\n          if (parameters) {\n            for (var param in parameters) {\n              if (parameters.hasOwnProperty(param)) {\n                self.query[param](parameters[param]);\n              }\n            }\n          }\n\n          self.setDefaultAggFunctions();\n\n          return self.query;\n        };\n\n        this.slice = function(field, axetype, depth) {\n          self.query[field.name] = self.query[field.caption || field.name] = function(val) {\n            var f = {\n              name: field.name,\n              val: val,\n              depth: depth\n            };\n            (self.filters[axetype] = self.filters[axetype] || []).push(f);\n            return self.query;\n          };\n        };\n\n        function filterDimensions(upperDims, filter) {\n          return function(dim) {\n            return dim.value === filter.val && (!upperDims || upperDims.some(function(upperDim) {\n              var parent = dim.parent;\n              if (parent) {\n                while (parent.depth < upperDim.depth) {\n                  parent = parent.parent;\n                }\n              }\n              return parent === upperDim;\n            }));\n          };\n        }\n\n        this.applyFilters = function(axetype) {\n          if (self.filters[axetype]) {\n            var sortedFilters = self.filters[axetype].sort(function(f1, f2) {\n              return f2.depth - f1.depth;\n            });\n\n            var currAxe = self.source[axetype === axe.Type.ROWS ? 'rows' : 'columns'];\n            var filterIndex = 0;\n            var filtered = null;\n            while (filterIndex < sortedFilters.length) {\n              var filter = sortedFilters[filterIndex];\n              filtered = currAxe.dimensionsByDepth[filter.depth].filter(filterDimensions(filtered, filter));\n              filterIndex++;\n            }\n            return filtered;\n          }\n          return null;\n        };\n\n        this.compute = function(options) {\n          var rowdims = self.applyFilters(axe.Type.ROWS) || [self.source.rows.root];\n          var coldims = self.applyFilters(axe.Type.COLUMNS) || [self.source.columns.root];\n\n          var aggs;\n\n          if (rowdims.length === 1 && coldims.length === 1) {\n            aggs = {};\n            for (var ai = 0; ai < options.fieldNames.length; ai++) {\n              aggs[options.fieldNames[ai]] = self.source.getData(options.fieldNames[ai], rowdims[0], coldims[0], options.aggregateFunc);\n            }\n          } else {\n            var rowIndexes = [];\n            var colIndexes = [];\n\n            for (var rdi = 0; rdi < rowdims.length; rdi++) {\n              rowIndexes = rowIndexes.concat(rowdims[rdi].getRowIndexes());\n            }\n            for (var cdi = 0; cdi < coldims.length; cdi++) {\n              colIndexes = colIndexes.concat(coldims[cdi].getRowIndexes());\n            }\n\n            aggs = self.source.calcAggregation(rowIndexes, colIndexes, options.fieldNames, options.aggregateFunc);\n          }\n\n          return aggs;\n        };\n      };\n\n      var arrayQuery = function arrayQuery(array) {\n\n        queryBase.call(this, array, {}, []);\n\n        var self = this;\n        var captionToName = {};\n\n        this.setCaptionName = function(caption, name) {\n          captionToName[caption || name] = name;\n        };\n\n        this.getCaptionName = function(caption) {\n          return captionToName[caption] || caption;\n        };\n\n        this.cleanOptions = function(options, innerArgs, outerArgs) {\n          var opts = {\n            fieldNames: []\n          };\n\n          if (outerArgs.multi === true) {\n            if (options && (typeof options === 'undefined' ? 'undefined' : (0, _typeof3.default)(options)) === 'object') {\n              opts.aggregateFunc = options.aggregateFunc;\n              opts.multiFieldNames = options.fields;\n            } else {\n              opts.aggregateFunc = outerArgs.aggregateFunc;\n              opts.multiFieldNames = innerArgs;\n            }\n\n            for (var ai = 0; ai < opts.multiFieldNames.length; ai++) {\n              opts.fieldNames.push(self.getCaptionName(opts.multiFieldNames[ai]));\n            }\n          } else {\n            opts.aggregateFunc = options || outerArgs.aggregateFunc;\n            opts.fieldNames.push(outerArgs.datafieldname);\n          }\n\n          return opts;\n        };\n\n        this.setup = function(fieldsConfig) {\n\n          self.query.slice = function(field, val) {\n            var f = {\n              name: field,\n              val: val\n            };\n            self.filters.push(f);\n            return self.query;\n          };\n\n          if (fieldsConfig) {\n\n            var fieldNames = utils.ownProperties(fieldsConfig);\n\n            for (var fi = 0; fi < fieldNames.length; fi++) {\n              var fname = fieldNames[fi];\n              var f = fieldsConfig[fname];\n              var fcaption = f.caption || f.name;\n              f.name = fname;\n\n              self.setCaptionName(fcaption, fname);\n\n              if (f.toAggregate) {\n                self.query[fname] = self.query[fcaption] = self.measureFunc(fname, false, f.aggregateFunc);\n              } else {\n                self.slice(f);\n              }\n            }\n          }\n\n          self.setDefaultAggFunctions(fieldsConfig);\n\n          return self.query;\n        };\n\n        this.slice = function(field) {\n          self.query[field.name] = self.query[field.caption || field.name] = function(val) {\n            return self.query.slice(field.name, val);\n          };\n        };\n\n        this.applyFilters = function() {\n          var rowIndexes = [];\n\n          for (var i = 0; i < self.source.length; i++) {\n            var row = self.source[i];\n            var include = true;\n            for (var j = 0; j < self.filters.length; j++) {\n              var filter = self.filters[j];\n              if (row[filter.name] !== filter.val) {\n                include = false;\n                break;\n              }\n            }\n            if (include) {\n              rowIndexes.push(i);\n            }\n          }\n\n          return rowIndexes;\n        };\n\n        this.compute = function(options, fieldsConfig, multi) {\n          var rowIndexes = self.applyFilters();\n\n          var aggs = {};\n\n          for (var ai = 0; ai < options.fieldNames.length; ai++) {\n            var datafield = options.fieldNames[ai];\n            var aggFunc = aggregation.toAggregateFunc(multi === true ? options.aggregateFunc || (fieldsConfig && fieldsConfig[datafield] ? fieldsConfig[datafield].aggregateFunc : undefined) : options.aggregateFunc);\n\n            aggs[datafield] = aggFunc(datafield, rowIndexes || 'all', self.source, rowIndexes, null);\n          }\n\n          return aggs;\n        };\n      };\n\n      module.exports = function(source, fieldsConfig) {\n        if (utils.isArray(source)) {\n          return new arrayQuery(source).setup(fieldsConfig);\n        } else {\n          // assume it's a pgrid\n          return function(parameters) {\n            return new pgridQuery(source).setup(parameters);\n          };\n        }\n      };\n\n    }, {\n      \"./orb.aggregation\": 35,\n      \"./orb.axe\": 36,\n      \"./orb.utils\": 53,\n      \"babel-runtime/helpers/typeof\": 3\n    }],\n    45: [function(_dereq_, module, exports) {\n\n      module.exports = function() {\n        var states = {};\n\n        this.set = function(key, state) {\n          states[key] = state;\n        };\n\n        this.get = function(key) {\n          return states[key];\n        };\n      };\n\n    }, {}],\n    46: [function(_dereq_, module, exports) {\n\n      module.exports = function() {\n\n        var currentTheme = 'blue';\n        var themeManager = {};\n\n        function isBootstrap() {\n          return currentTheme === 'bootstrap';\n        }\n\n        themeManager.themes = {\n          red: '#C72C48',\n          blue: '#5bc0de',\n          green: '#3fb618',\n          orange: '#df691a',\n          flower: '#A74AC7',\n          gray: '#808080',\n          black: '#000000',\n          white: '#FFFFFF',\n          rfi: '#9F313A'\n        };\n\n        themeManager.current = function(newTheme) {\n          if (newTheme) {\n            currentTheme = themeManager.validateTheme(newTheme);\n          }\n\n          return currentTheme;\n        };\n\n        themeManager.validateTheme = function(themeName) {\n          themeName = (themeName || '').toString().trim();\n          if (!themeManager.themes[themeName] && themeName !== 'bootstrap') {\n            return 'blue';\n          } else {\n            return themeName;\n          }\n        };\n\n        themeManager.getPivotClasses = function() {\n          return {\n            container: 'orb-container orb-' + currentTheme,\n            table: 'orb' + (isBootstrap() ? ' table' : '')\n          };\n        };\n\n        themeManager.getButtonClasses = function() {\n          return {\n            pivotButton: 'fld-btn' + (isBootstrap() ? ' btn btn-default btn-xs' : ''),\n            orbButton: 'orb-btn' + (isBootstrap() ? ' btn btn-default btn-xs' : ''),\n            scrollBar: isBootstrap() ? ' btn btn-default btn-xs' : ''\n          };\n        };\n\n        themeManager.getFilterClasses = function() {\n          return {\n            container: 'orb-' + currentTheme + ' orb fltr-cntnr'\n          };\n        };\n\n        themeManager.getGridClasses = function() {\n          return {\n            table: isBootstrap() ? 'table table-condensed' : 'orb-table'\n          };\n        };\n\n        themeManager.getDialogClasses = function(visible) {\n          var classes = {\n            overlay: 'orb-overlay orb-overlay-' + (visible ? 'visible' : 'hidden') + ' orb-' + currentTheme,\n            dialog: 'orb-dialog',\n            content: '',\n            header: 'orb-dialog-header',\n            title: '',\n            body: 'orb-dialog-body'\n          };\n\n          if (isBootstrap()) {\n            classes.overlay += ' modal';\n            classes.dialog += ' modal-dialog';\n            classes.content = 'modal-content';\n            classes.header += ' modal-header';\n            classes.title = 'modal-title';\n            classes.body += ' modal-body';\n          }\n          return classes;\n        };\n\n        var utils = themeManager.utils = {\n          hexToRgb: function hexToRgb(hex) {\n            var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n            return result ? {\n              r: parseInt(result[1], 16),\n              g: parseInt(result[2], 16),\n              b: parseInt(result[3], 16)\n            } : null;\n          },\n          rgbaToHex: function rgbaToHex(rgba) {\n            var matches = rgba.match(/rgba\\((\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+(?:\\.\\d+)?)\\s*\\)/);\n            if (matches) {\n              var alpha = parseFloat(matches[4]);\n              return '#' + utils.applyAlphaAndToHex(matches[1], alpha) + utils.applyAlphaAndToHex(matches[2], alpha) + utils.applyAlphaAndToHex(matches[3], alpha);\n            }\n            return null;\n          },\n          rgbaToHexA: function rgbaToHexA(rgba) {\n            var matches = rgba.match(/rgba\\((\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+(?:\\.\\d+)?)\\s*\\)/);\n            if (matches) {\n              var alpha = parseFloat(matches[4]);\n              return '#' + utils.applyAlphaAndToHex(0, alpha) + utils.applyAlphaAndToHex(matches[1], 1) + utils.applyAlphaAndToHex(matches[2], 1) + utils.applyAlphaAndToHex(matches[3], 1);\n            }\n            return null;\n          },\n          applyAlphaAndToHex: function applyAlphaAndToHex(value, alpha) {\n            return (Math.floor(alpha * parseInt(value) + (1 - alpha) * 255) + 256).toString(16).substr(1, 2);\n          },\n          fadeoutColor: function fadeoutColor(color, alpha) {\n            color = utils.hexToRgb(color);\n            return '#' + utils.applyAlphaAndToHex(color.r, alpha) + utils.applyAlphaAndToHex(color.g, alpha) + utils.applyAlphaAndToHex(color.b, alpha);\n          }\n        };\n\n        return themeManager;\n      }();\n\n    }, {}],\n    47: [function(_dereq_, module, exports) {\n\n      var axe = _dereq_('./orb.axe');\n      var uiheaders = _dereq_('./orb.ui.header');\n\n      module.exports = function(axeModel) {\n\n        var self = this;\n\n\n        this.axe = axeModel;\n\n\n        this.headers = [];\n\n        this.dataFieldsCount = function() {\n          return self.axe.pgrid.config.dataHeadersLocation === 'columns' && self.axe.type === axe.Type.COLUMNS || self.axe.pgrid.config.dataHeadersLocation === 'rows' && self.axe.type === axe.Type.ROWS ? self.axe.pgrid.config.dataFieldsCount : 1;\n        };\n\n        this.isMultiDataFields = function() {\n          return self.dataFieldsCount() > 1;\n        };\n\n        this.toggleFieldExpansion = function(field, newState) {\n          var toToggle = [];\n          var allExpanded = true;\n          var hIndex;\n\n          for (var i = 0; i < this.headers.length; i++) {\n            for (hIndex = 0; hIndex < this.headers[i].length; hIndex++) {\n              var header = this.headers[i][hIndex];\n              if (header.type === uiheaders.HeaderType.SUB_TOTAL && (field == null || header.dim.field.name == field.name)) {\n                toToggle.push(header);\n                allExpanded = allExpanded && header.expanded;\n              }\n            }\n          }\n\n          if (newState !== undefined) {\n            allExpanded = !newState;\n          }\n\n          if (toToggle.length > 0) {\n            for (hIndex = 0; hIndex < toToggle.length; hIndex++) {\n              if (allExpanded) {\n                toToggle[hIndex].collapse();\n              } else {\n                toToggle[hIndex].expand();\n              }\n            }\n            return true;\n          }\n\n          return false;\n        };\n      };\n\n    }, {\n      \"./orb.axe\": 36,\n      \"./orb.ui.header\": 49\n    }],\n    48: [function(_dereq_, module, exports) {\n\n      var axe = _dereq_('./orb.axe');\n      var axeUi = _dereq_('./orb.ui.axe');\n      var uiheaders = _dereq_('./orb.ui.header');\n\n      module.exports = function(columnsAxe) {\n\n        var self = this;\n\n        axeUi.call(self, columnsAxe);\n\n        this.leafsHeaders = null;\n\n        this.build = function() {\n          self.headers = [];\n\n          if (self.axe != null) {\n            // Fill columns layout infos\n            if (self.axe.root.values.length > 0 || self.axe.pgrid.config.grandTotal.columnsvisible) {\n              for (var depth = self.axe.root.depth; depth > 1; depth--) {\n                self.headers.push([]);\n                getUiInfo(depth, self.headers);\n              }\n\n              if (self.axe.pgrid.config.grandTotal.columnsvisible) {\n                // add grandtotal header\n                (self.headers[0] = self.headers[0] || []).push(new uiheaders.header(axe.Type.COLUMNS, uiheaders.HeaderType.GRAND_TOTAL, self.axe.root, null, self.dataFieldsCount()));\n              }\n            }\n\n            if (self.headers.length === 0) {\n              self.headers.push([new uiheaders.header(axe.Type.COLUMNS, uiheaders.HeaderType.INNER, self.axe.root, null, self.dataFieldsCount())]);\n            }\n\n            // generate leafs headers\n            generateLeafsHeaders();\n          }\n        };\n\n        function generateLeafsHeaders() {\n\n          var leafsHeaders = [];\n\n          function pushsubtotal(pheader) {\n            if (pheader && pheader.dim.field.subTotal.visible) {\n              leafsHeaders.push(pheader.subtotalHeader);\n            }\n          }\n\n          if (self.headers.length > 0) {\n            // last headers row\n            var infos = self.headers[self.headers.length - 1];\n            var header = infos[0];\n\n            if (header) {\n              var currparent,\n                prevpar = header.parent;\n\n              for (var i = 0; i < infos.length; i++) {\n                header = infos[i];\n                currparent = header.parent;\n                // if current header parent is different than previous header parent,\n                // add previous parent\n                if (currparent != prevpar) {\n                  pushsubtotal(prevpar);\n                  if (currparent != null) {\n                    // walk up parent hierarchy and add grand parents if different\n                    // than current header grand parents\n                    var grandpar = currparent.parent;\n                    var prevgrandpar = prevpar ? prevpar.parent : null;\n                    while (grandpar != prevgrandpar && prevgrandpar != null) {\n                      pushsubtotal(prevgrandpar);\n                      grandpar = grandpar ? grandpar.parent : null;\n                      prevgrandpar = prevgrandpar ? prevgrandpar.parent : null;\n                    }\n                  }\n                  // update previous parent variable\n                  prevpar = currparent;\n                }\n                // push current header\n                leafsHeaders.push(infos[i]);\n\n                // if it's the last header, add all of its parents up to the top\n                if (i === infos.length - 1) {\n                  while (prevpar != null) {\n                    pushsubtotal(prevpar);\n                    prevpar = prevpar.parent;\n                  }\n                }\n              }\n              // grandtotal is visible for columns and if there is more than one dimension in this axe\n              if (self.axe.pgrid.config.grandTotal.columnsvisible && self.axe.dimensionsCount > 1) {\n                // push also grand total header\n                leafsHeaders.push(self.headers[0][self.headers[0].length - 1]);\n              }\n            }\n          }\n\n          // add data headers if more than 1 data field and they willbe the leaf headers\n          if (self.isMultiDataFields()) {\n            self.leafsHeaders = [];\n            for (var leafIndex = 0; leafIndex < leafsHeaders.length; leafIndex++) {\n              for (var datafieldindex = 0; datafieldindex < self.dataFieldsCount(); datafieldindex++) {\n                self.leafsHeaders.push(new uiheaders.dataHeader(self.axe.pgrid.config.dataFields[datafieldindex], leafsHeaders[leafIndex]));\n              }\n            }\n            self.headers.push(self.leafsHeaders);\n          } else {\n            self.leafsHeaders = leafsHeaders;\n          }\n        }\n\n        this.build();\n\n\n        function getUiInfo(depth, headers) {\n\n          var infos = headers[headers.length - 1];\n          var parents = self.axe.root.depth === depth ? [null] : headers[self.axe.root.depth - depth - 1].filter(function(p) {\n            return p.type !== uiheaders.HeaderType.SUB_TOTAL;\n          });\n\n          for (var pi = 0; pi < parents.length; pi++) {\n\n            var parent = parents[pi];\n            var parentDim = parent == null ? self.axe.root : parent.dim;\n\n            for (var di = 0; di < parentDim.values.length; di++) {\n\n              var subvalue = parentDim.values[di];\n              var subdim = parentDim.subdimvals[subvalue];\n\n              var subtotalHeader;\n              if (!subdim.isLeaf && subdim.field.subTotal.visible) {\n                subtotalHeader = new uiheaders.header(axe.Type.COLUMNS, uiheaders.HeaderType.SUB_TOTAL, subdim, parent, self.dataFieldsCount());\n              } else {\n                subtotalHeader = null;\n              }\n\n              var header = new uiheaders.header(axe.Type.COLUMNS, null, subdim, parent, self.dataFieldsCount(), subtotalHeader);\n              infos.push(header);\n\n              if (!subdim.isLeaf && subdim.field.subTotal.visible) {\n                infos.push(subtotalHeader);\n              }\n            }\n          }\n        }\n      };\n\n    }, {\n      \"./orb.axe\": 36,\n      \"./orb.ui.axe\": 47,\n      \"./orb.ui.header\": 49\n    }],\n    49: [function(_dereq_, module, exports) {\n\n      var axe = _dereq_('./orb.axe'),\n        state = new(_dereq_('./orb.state'))();\n\n      var HeaderType = module.exports.HeaderType = {\n        EMPTY: 1,\n        DATA_HEADER: 2,\n        DATA_VALUE: 3,\n        FIELD_BUTTON: 4,\n        INNER: 5,\n        WRAPPER: 6,\n        SUB_TOTAL: 7,\n        GRAND_TOTAL: 8,\n        getHeaderClass: function getHeaderClass(headerType, axetype) {\n          var cssclass = axetype === axe.Type.ROWS ? 'header-row' : axetype === axe.Type.COLUMNS ? 'header-col' : '';\n          switch (headerType) {\n            case HeaderType.EMPTY:\n            case HeaderType.FIELD_BUTTON:\n              cssclass = 'empty';\n              break;\n            case HeaderType.INNER:\n              cssclass = 'header ' + cssclass;\n              break;\n            case HeaderType.WRAPPER:\n              cssclass = 'header ' + cssclass;\n              break;\n            case HeaderType.SUB_TOTAL:\n              cssclass = 'header header-st ' + cssclass;\n              break;\n            case HeaderType.GRAND_TOTAL:\n              cssclass = 'header header-gt ' + cssclass;\n              break;\n          }\n\n          return cssclass;\n        },\n        getCellClass: function getCellClass(rowHeaderType, colHeaderType) {\n          var cssclass = '';\n          switch (rowHeaderType) {\n            case HeaderType.GRAND_TOTAL:\n              cssclass = 'cell-gt';\n              break;\n            case HeaderType.SUB_TOTAL:\n              if (colHeaderType === HeaderType.GRAND_TOTAL) {\n                cssclass = 'cell-gt';\n              } else {\n                cssclass = 'cell-st';\n              }\n              break;\n            default:\n              if (colHeaderType === HeaderType.GRAND_TOTAL) {\n                cssclass = 'cell-gt';\n              } else if (colHeaderType === HeaderType.SUB_TOTAL) {\n                cssclass = 'cell-st';\n              } else {\n                cssclass = '';\n              }\n          }\n          return cssclass;\n        }\n      };\n\n      function CellBase(options) {\n\n        this.axetype = options.axetype;\n\n        this.type = options.type;\n\n        this.template = options.template;\n\n        this.value = options.value;\n\n        this.expanded = true;\n\n        this.cssclass = options.cssclass;\n\n        this.hspan = options.hspan || function() {\n          return 1;\n        };\n\n        this.vspan = options.vspan || function() {\n          return 1;\n        };\n\n        this.visible = options.isvisible || function() {\n          return true;\n        };\n\n        this.key = this.axetype + this.type + this.value;\n        this.getState = function() {\n          return state.get(this.key);\n        };\n        this.setState = function(newState) {\n          state.set(this.key, newState);\n        };\n      }\n\n      module.exports.header = function(axetype, headerType, dim, parent, datafieldscount, subtotalHeader) {\n\n        var self = this;\n\n        var hspan;\n        var vspan;\n        var value;\n\n        var isRowsAxe = axetype === axe.Type.ROWS;\n        headerType = headerType || (dim.depth === 1 ? HeaderType.INNER : HeaderType.WRAPPER);\n\n        switch (headerType) {\n          case HeaderType.GRAND_TOTAL:\n            value = 'Grand Total';\n            hspan = isRowsAxe ? dim.depth - 1 || 1 : datafieldscount;\n            vspan = isRowsAxe ? datafieldscount : dim.depth - 1 || 1;\n            break;\n          case HeaderType.SUB_TOTAL:\n            value = dim.value;\n            hspan = isRowsAxe ? dim.depth : datafieldscount;\n            vspan = isRowsAxe ? datafieldscount : dim.depth;\n            break;\n          default:\n            value = dim.value;\n            hspan = isRowsAxe ? 1 : null;\n            vspan = isRowsAxe ? null : 1;\n            break;\n        }\n\n        CellBase.call(this, {\n          axetype: axetype,\n          type: headerType,\n          template: isRowsAxe ? 'cell-template-row-header' : 'cell-template-column-header',\n          value: value,\n          cssclass: HeaderType.getHeaderClass(headerType, axetype),\n          hspan: hspan != null ? function() {\n            return hspan;\n          } : calcSpan,\n          vspan: vspan != null ? function() {\n            return vspan;\n          } : calcSpan,\n          isvisible: isParentExpanded\n        });\n\n        this.subtotalHeader = subtotalHeader;\n        this.parent = parent;\n        this.subheaders = [];\n        this.dim = dim;\n        this.expanded = this.getState() ? this.getState().expanded : headerType !== HeaderType.SUB_TOTAL || !dim.field.subTotal.collapsed;\n\n        this.expand = function() {\n          self.expanded = true;\n          this.setState({\n            expanded: self.expanded\n          });\n        };\n        this.collapse = function() {\n          self.expanded = false;\n          this.setState({\n            expanded: self.expanded\n          });\n        };\n\n        if (parent != null) {\n          parent.subheaders.push(this);\n        }\n\n        function isParentExpanded() {\n          if (self.type === HeaderType.SUB_TOTAL) {\n            var hparent = self.parent;\n            while (hparent != null) {\n              if (hparent.subtotalHeader && !hparent.subtotalHeader.expanded) {\n                return false;\n              }\n              hparent = hparent.parent;\n            }\n            return true;\n          } else {\n\n            var isexpanded = self.dim.isRoot || self.dim.isLeaf || !self.dim.field.subTotal.visible || self.subtotalHeader.expanded;\n            if (!isexpanded) {\n              return false;\n            }\n\n            var par = self.parent;\n            while (par != null && (!par.dim.field.subTotal.visible || par.subtotalHeader != null && par.subtotalHeader.expanded)) {\n              par = par.parent;\n            }\n            return par == null || par.subtotalHeader == null ? isexpanded : par.subtotalHeader.expanded;\n          }\n        }\n\n        function calcSpan(ignoreVisibility) {\n          var tspan = 0;\n          var subSpan;\n          var addone = false;\n\n          if (isRowsAxe || ignoreVisibility || self.visible()) {\n            if (!self.dim.isLeaf) {\n              // subdimvals 'own' properties are the set of values for this dimension\n              if (self.subheaders.length > 0) {\n                for (var i = 0; i < self.subheaders.length; i++) {\n                  var subheader = self.subheaders[i];\n                  // if its not an array\n                  if (!subheader.dim.isLeaf) {\n                    subSpan = isRowsAxe ? subheader.vspan() : subheader.hspan();\n                    tspan += subSpan;\n                    if (i === 0 && subSpan === 0) {\n                      addone = true;\n                    }\n                  } else {\n                    tspan += datafieldscount;\n                  }\n                }\n              } else {\n                tspan += datafieldscount;\n              }\n            } else {\n              return datafieldscount;\n            }\n            return tspan + (addone ? 1 : 0);\n          }\n          return tspan;\n        }\n      };\n\n      module.exports.dataHeader = function(datafield, parent) {\n\n        CellBase.call(this, {\n          axetype: null,\n          type: HeaderType.DATA_HEADER,\n          template: 'cell-template-dataheader',\n          value: datafield,\n          cssclass: HeaderType.getHeaderClass(parent.type, parent.axetype),\n          isvisible: parent.visible\n        });\n\n        this.parent = parent;\n      };\n\n      module.exports.dataCell = function(pgrid, isvisible, rowinfo, colinfo) {\n\n        this.rowDimension = rowinfo.type === HeaderType.DATA_HEADER ? rowinfo.parent.dim : rowinfo.dim;\n        this.columnDimension = colinfo.type === HeaderType.DATA_HEADER ? colinfo.parent.dim : colinfo.dim;\n        this.rowType = rowinfo.type === HeaderType.DATA_HEADER ? rowinfo.parent.type : rowinfo.type;\n        this.colType = colinfo.type === HeaderType.DATA_HEADER ? colinfo.parent.type : colinfo.type;\n\n        this.datafield = pgrid.config.dataFieldsCount > 1 ? pgrid.config.dataHeadersLocation === 'rows' ? rowinfo.value : colinfo.value : pgrid.config.dataFields[0];\n\n        CellBase.call(this, {\n          axetype: null,\n          type: HeaderType.DATA_VALUE,\n          template: 'cell-template-datavalue',\n          value: pgrid.getData(this.datafield ? this.datafield.name : null, this.rowDimension, this.columnDimension),\n          cssclass: 'cell ' + HeaderType.getCellClass(this.rowType, this.colType),\n          isvisible: isvisible\n        });\n      };\n\n      module.exports.buttonCell = function(field) {\n\n        CellBase.call(this, {\n          axetype: null,\n          type: HeaderType.FIELD_BUTTON,\n          template: 'cell-template-fieldbutton',\n          value: field,\n          cssclass: HeaderType.getHeaderClass(HeaderType.FIELD_BUTTON)\n        });\n      };\n\n      module.exports.emptyCell = function(_hspan, _vspan) {\n\n        CellBase.call(this, {\n          axetype: null,\n          type: HeaderType.EMPTY,\n          template: 'cell-template-empty',\n          value: null,\n          cssclass: HeaderType.getHeaderClass(HeaderType.EMPTY),\n          hspan: function hspan() {\n            return _hspan;\n          },\n          vspan: function vspan() {\n            return _vspan;\n          }\n        });\n      };\n\n    }, {\n      \"./orb.axe\": 36,\n      \"./orb.state\": 45\n    }],\n    50: [function(_dereq_, module, exports) {\n\n      var ReactDOM = _dereq_('react-dom'),\n        React = _dereq_('react'),\n        axe = _dereq_('./orb.axe'),\n        pgrid = _dereq_('./orb.pgrid'),\n        uiheaders = _dereq_('./orb.ui.header'),\n        uirows = _dereq_('./orb.ui.rows'),\n        uicols = _dereq_('./orb.ui.cols'),\n        Dialog = _dereq_('./react/orb.react.Dialog.jsx'),\n        PivotChart = _dereq_('./react/orb.react.PivotChart.jsx'),\n        PivotTable = _dereq_('./react/orb.react.PivotTable.jsx'),\n        Grid = _dereq_('./react/orb.react.Grid.jsx');\n\n      module.exports = function(config) {\n\n        var self = this;\n        var renderElement;\n        var pivotComponent;\n        var dialog = Dialog.create();\n\n\n        this.pgrid = new pgrid(config);\n\n\n        this.rows = null;\n\n        this.columns = null;\n\n\n        this.dataRows = [];\n\n        this.layout = {\n          rowHeaders: {\n\n            width: null,\n\n            height: null\n          },\n          columnHeaders: {\n\n            width: null,\n\n            height: null\n          },\n          pivotTable: {\n\n            width: null,\n\n            height: null\n          }\n        };\n\n        this.expandRow = function(cell) {\n          cell.expand();\n          this.render();\n        };\n\n        this.collapseRow = function(cell) {\n          cell.subtotalHeader.collapse();\n          this.render();\n        };\n\n        this.sort = function(axetype, field) {\n          self.pgrid.sort(axetype, field);\n        };\n\n        this.refreshData = function(data) {\n          self.pgrid.refreshData(data);\n        };\n\n        this.applyFilter = function(fieldname, operator, term, staticValue, excludeStatic) {\n          self.pgrid.applyFilter(fieldname, operator, term, staticValue, excludeStatic);\n        };\n\n        this.moveField = function(field, oldAxeType, newAxeType, position) {\n          self.pgrid.moveField(field, oldAxeType, newAxeType, position);\n        };\n\n        this.toggleFieldExpansion = function(axetype, field, newState) {\n          var axeToExpand = axetype === axe.Type.ROWS ? self.rows : axetype === axe.Type.COLUMNS ? self.columns : null;\n\n          if (axeToExpand && axeToExpand.toggleFieldExpansion(field, newState)) {\n            self.render();\n          }\n        };\n\n        this.toggleSubtotals = function(axetype) {\n          self.pgrid.toggleSubtotals(axetype);\n        };\n\n        this.areSubtotalsVisible = function(axetype) {\n          return self.pgrid.areSubtotalsVisible(axetype);\n        };\n\n        this.toggleGrandtotal = function(axetype) {\n          self.pgrid.toggleGrandtotal(axetype);\n        };\n\n        this.isGrandtotalVisible = function(axetype) {\n          return self.pgrid.isGrandtotalVisible(axetype);\n        };\n\n        this.changeTheme = function(newTheme) {\n          pivotComponent.changeTheme(newTheme);\n        };\n\n        this.render = function(element) {\n          renderElement = element || renderElement;\n          if (renderElement) {\n            var pivotTableFactory = React.createFactory(self.pgrid.config.chartMode.enabled ? PivotChart : PivotTable);\n            var pivottable = pivotTableFactory({\n              pgridwidget: self\n            });\n\n            pivotComponent = ReactDOM.render(pivottable, renderElement);\n          }\n        };\n\n        this.drilldown = function(dataCell, pivotId) {\n          if (dataCell) {\n            var colIndexes = dataCell.columnDimension.getRowIndexes();\n            var data = dataCell.rowDimension.getRowIndexes().filter(function(index) {\n              return colIndexes.indexOf(index) >= 0;\n            }).map(function(index) {\n              return self.pgrid.filteredDataSource[index];\n            });\n\n            var title;\n            if (dataCell.rowType === uiheaders.HeaderType.GRAND_TOTAL && dataCell.colType === uiheaders.HeaderType.GRAND_TOTAL) {\n              title = 'Grand total';\n            } else {\n              if (dataCell.rowType === uiheaders.HeaderType.GRAND_TOTAL) {\n                title = dataCell.columnDimension.value + '/Grand total ';\n              } else if (dataCell.colType === uiheaders.HeaderType.GRAND_TOTAL) {\n                title = dataCell.rowDimension.value + '/Grand total ';\n              } else {\n                title = dataCell.rowDimension.value + '/' + dataCell.columnDimension.value;\n              }\n            }\n\n            dialog.show({\n              title: title,\n              comp: {\n                type: Grid,\n                props: {\n                  headers: self.pgrid.config.getDataSourceFieldCaptions(),\n                  data: data,\n                  theme: self.pgrid.config.theme\n                }\n              },\n              theme: self.pgrid.config.theme,\n              style: pivotComponent.fontStyle\n            });\n          }\n        };\n\n        function init() {\n          self.pgrid.subscribe(pgrid.EVENT_UPDATED, buildUiAndRender);\n          self.pgrid.subscribe(pgrid.EVENT_SORT_CHANGED, buildUiAndRender);\n          self.pgrid.subscribe(pgrid.EVENT_CONFIG_CHANGED, buildUiAndRender);\n\n          buildUi();\n        }\n\n        function buildUi() {\n\n          // build row and column headers\n          self.rows = new uirows(self.pgrid.rows);\n          self.columns = new uicols(self.pgrid.columns);\n\n          var rowsHeaders = self.rows.headers;\n          var columnsLeafHeaders = self.columns.leafsHeaders;\n\n          // set control layout infos\n          self.layout = {\n            rowHeaders: {\n              width: (self.pgrid.rows.fields.length || 1) + (self.pgrid.config.dataHeadersLocation === 'rows' && self.pgrid.config.dataFieldsCount > 1 ? 1 : 0),\n              height: rowsHeaders.length\n            },\n            columnHeaders: {\n              width: self.columns.leafsHeaders.length,\n              height: (self.pgrid.columns.fields.length || 1) + (self.pgrid.config.dataHeadersLocation === 'columns' && self.pgrid.config.dataFieldsCount > 1 ? 1 : 0)\n            }\n          };\n\n          self.layout.pivotTable = {\n            width: self.layout.rowHeaders.width + self.layout.columnHeaders.width,\n            height: self.layout.rowHeaders.height + self.layout.columnHeaders.height\n          };\n\n          var dataRows = [];\n          var arr;\n\n          function createVisibleFunc(rowvisible, colvisible) {\n            return function() {\n              return rowvisible() && colvisible();\n            };\n          }\n          if (rowsHeaders.length > 0) {\n            for (var ri = 0; ri < rowsHeaders.length; ri++) {\n              var rowHeadersRow = rowsHeaders[ri];\n              var rowLeafHeader = rowHeadersRow[rowHeadersRow.length - 1];\n\n              arr = [];\n              for (var colHeaderIndex = 0; colHeaderIndex < columnsLeafHeaders.length; colHeaderIndex++) {\n                var columnLeafHeader = columnsLeafHeaders[colHeaderIndex];\n                var isvisible = createVisibleFunc(rowLeafHeader.visible, columnLeafHeader.visible);\n                arr[colHeaderIndex] = new uiheaders.dataCell(self.pgrid, isvisible, rowLeafHeader, columnLeafHeader);\n              }\n              dataRows.push(arr);\n            }\n          }\n          self.dataRows = dataRows;\n        }\n\n        function buildUiAndRender() {\n          buildUi();\n          self.render();\n        }\n\n        init();\n      };\n\n    }, {\n      \"./orb.axe\": 36,\n      \"./orb.pgrid\": 42,\n      \"./orb.ui.cols\": 48,\n      \"./orb.ui.header\": 49,\n      \"./orb.ui.rows\": 51,\n      \"./react/orb.react.Dialog.jsx\": 55,\n      \"./react/orb.react.Grid.jsx\": 62,\n      \"./react/orb.react.PivotChart.jsx\": 65,\n      \"./react/orb.react.PivotTable.jsx\": 74,\n      \"react\": \"react\",\n      \"react-dom\": \"react-dom\"\n    }],\n    51: [function(_dereq_, module, exports) {\n\n      var axe = _dereq_('./orb.axe');\n      var axeUi = _dereq_('./orb.ui.axe');\n      var uiheaders = _dereq_('./orb.ui.header');\n\n      module.exports = function(rowsAxe) {\n\n        var self = this;\n\n        axeUi.call(self, rowsAxe);\n\n        this.build = function() {\n          var headers = [];\n          var grandtotalHeader;\n\n          if (self.axe != null) {\n            if (self.axe.root.values.length > 0 || self.axe.pgrid.config.grandTotal.rowsvisible) {\n              headers.push([]);\n\n              // Fill Rows layout infos\n              getUiInfo(headers, self.axe.root);\n\n              if (self.axe.pgrid.config.grandTotal.rowsvisible) {\n                var lastrow = headers[headers.length - 1];\n                grandtotalHeader = new uiheaders.header(axe.Type.ROWS, uiheaders.HeaderType.GRAND_TOTAL, self.axe.root, null, self.dataFieldsCount());\n                if (lastrow.length === 0) {\n                  lastrow.push(grandtotalHeader);\n                } else {\n                  headers.push([grandtotalHeader]);\n                }\n              }\n            }\n\n            if (headers.length === 0) {\n              headers.push([grandtotalHeader = new uiheaders.header(axe.Type.ROWS, uiheaders.HeaderType.INNER, self.axe.root, null, self.dataFieldsCount())]);\n            }\n\n            if (grandtotalHeader) {\n              // add grand-total data headers if more than 1 data field and they will be the leaf headers\n              addDataHeaders(headers, grandtotalHeader);\n            }\n          }\n          self.headers = headers;\n        };\n\n        this.build();\n\n        function addDataHeaders(infos, parent) {\n          if (self.isMultiDataFields()) {\n            var lastInfosArray = infos[infos.length - 1];\n            for (var datafieldindex = 0; datafieldindex < self.dataFieldsCount(); datafieldindex++) {\n              lastInfosArray.push(new uiheaders.dataHeader(self.axe.pgrid.config.dataFields[datafieldindex], parent));\n              if (datafieldindex < self.dataFieldsCount() - 1) {\n                infos.push(lastInfosArray = []);\n              }\n            }\n          }\n        }\n\n\n        function getUiInfo(infos, dimension) {\n          if (dimension.values.length > 0) {\n\n            var infosMaxIndex = infos.length - 1;\n            var lastInfosArray = infos[infosMaxIndex];\n            var parent = lastInfosArray.length > 0 ? lastInfosArray[lastInfosArray.length - 1] : null;\n\n            for (var valIndex = 0; valIndex < dimension.values.length; valIndex++) {\n              var subvalue = dimension.values[valIndex];\n              var subdim = dimension.subdimvals[subvalue];\n\n              var subTotalHeader;\n              if (!subdim.isLeaf && subdim.field.subTotal.visible) {\n                subTotalHeader = new uiheaders.header(axe.Type.ROWS, uiheaders.HeaderType.SUB_TOTAL, subdim, parent, self.dataFieldsCount());\n              } else {\n                subTotalHeader = null;\n              }\n\n              var newHeader = new uiheaders.header(axe.Type.ROWS, null, subdim, parent, self.dataFieldsCount(), subTotalHeader);\n\n              if (valIndex > 0) {\n                infos.push(lastInfosArray = []);\n              }\n\n              lastInfosArray.push(newHeader);\n\n              if (!subdim.isLeaf) {\n                getUiInfo(infos, subdim);\n                if (subdim.field.subTotal.visible) {\n                  infos.push([subTotalHeader]);\n\n                  // add sub-total data headers if more than 1 data field and they will be the leaf headers\n                  addDataHeaders(infos, subTotalHeader);\n                }\n              } else {\n                // add data headers if more than 1 data field and they will be the leaf headers\n                addDataHeaders(infos, newHeader);\n              }\n            }\n          }\n        }\n      };\n\n    }, {\n      \"./orb.axe\": 36,\n      \"./orb.ui.axe\": 47,\n      \"./orb.ui.header\": 49\n    }],\n    52: [function(_dereq_, module, exports) {\n\n      module.exports.removeClass = function(element, classname) {\n        if (element && classname) {\n          while (element.className.indexOf(classname) >= 0) {\n            element.className = element.className.replace(classname, '');\n          }\n        }\n      };\n\n      module.exports.addClass = function(element, classname) {\n        if (element && classname) {\n          if (element.className.indexOf(classname) < 0) {\n            element.className += ' ' + classname;\n          }\n        }\n      };\n\n      module.exports.getOffset = function(element) {\n        if (element) {\n          var rect = element.getBoundingClientRect();\n          return {\n            x: rect.left,\n            y: rect.top\n          };\n        }\n        return {\n          x: 0,\n          y: 0\n        };\n      };\n\n      module.exports.getParentOffset = function(element) {\n        if (element) {\n          var rect = element.getBoundingClientRect();\n          var rectParent = element.parentNode != null ? element.parentNode.getBoundingClientRect() : {\n            top: 0,\n            left: 0\n          };\n          return {\n            x: rect.left - rectParent.left,\n            y: rect.top - rectParent.top\n          };\n        }\n        return {\n          x: 0,\n          y: 0\n        };\n      };\n\n      module.exports.getSize = function(element) {\n        if (element) {\n          var rect = element.getBoundingClientRect();\n          return {\n            width: rect.right - rect.left,\n            height: rect.bottom - rect.top\n          };\n        }\n        return {\n          width: 0,\n          height: 0\n        };\n      };\n\n      var reHyphenToUcase = /\\-(\\w)/g;\n\n      function replaceHyphenByUcase(val) {\n        return val.replace(reHyphenToUcase, function(m, m1) {\n          return m1.toUpperCase();\n        });\n      }\n\n      module.exports.getStyle = function(element, styleProps, keepString) {\n        var values = [];\n        if (element && styleProps) {\n          var currStyle, f, fixProp;\n          if (element.currentStyle) {\n            currStyle = element.currentStyle;\n            f = function f(prop) {\n              return currStyle[prop];\n            };\n            fixProp = true;\n          } else if (window && window.getComputedStyle) {\n            currStyle = window.getComputedStyle(element, null);\n            f = function f(prop) {\n              return currStyle.getPropertyValue(prop);\n            };\n          }\n\n          for (var i = 0; i < styleProps.length; i++) {\n            var val = f(fixProp ? replaceHyphenByUcase(styleProps[i]) : styleProps[i]);\n            values.push(val && keepString !== true ? Math.ceil(parseFloat(val)) : val);\n          }\n        }\n        return values;\n      };\n\n      module.exports.isVisible = function(element) {\n        if (element) {\n          return element.style.display !== 'none' && (element.offsetWidth !== 0 || element.offsetHeight !== 0);\n        }\n        return false;\n      };\n\n      module.exports.updateTableColGroup = function(tableNode, widths) {\n        if (tableNode) {\n          var colGroupNode = tableNode.firstChild;\n          if (colGroupNode && colGroupNode.nodeName === 'COLGROUP') {\n            tableNode.style.tableLayout = 'auto';\n            tableNode.style.width = '';\n\n            while (colGroupNode.firstChild) {\n              colGroupNode.removeChild(colGroupNode.firstChild);\n            }\n            for (var i = 0; i < widths.length; i++) {\n              var col = document.createElement('col');\n              col.style.width = widths[i] + 'px';\n              colGroupNode.appendChild(col);\n            }\n            tableNode.style.tableLayout = 'fixed';\n          }\n        }\n      };\n\n    }, {}],\n    53: [function(_dereq_, module, exports) {\n      (function(global) {\n\n        var _stringify = _dereq_('babel-runtime/core-js/json/stringify');\n\n        var _stringify2 = _interopRequireDefault(_stringify);\n\n        function _interopRequireDefault(obj) {\n          return obj && obj.__esModule ? obj : {\n            default: obj\n          };\n        }\n\n        module.exports = {\n\n          ns: function ns(identifier, parent) {\n            var parts = identifier.split('.');\n            var i = 0;\n            parent = parent || window;\n            while (i < parts.length) {\n              parent[parts[i]] = parent[parts[i]] || {};\n              parent = parent[parts[i]];\n              i++;\n            }\n            return parent;\n          },\n\n          ownProperties: function ownProperties(obj) {\n            var arr = [];\n            for (var prop in obj) {\n              if (obj.hasOwnProperty(prop)) {\n                arr.push(prop);\n              }\n            }\n            return arr;\n          },\n\n          forEach: function forEach(list, callback, forceContinue) {\n            var ret;\n            if (list) {\n              for (var i = 0, l = list.length; i < l; i++) {\n                ret = callback(list[i], i);\n                if (ret && forceContinue !== true) {\n                  break;\n                }\n              }\n            }\n            return ret;\n          },\n\n          isArray: function isArray(obj) {\n            return Object.prototype.toString.apply(obj) === '[object Array]';\n          },\n\n          isNumber: function isNumber(obj) {\n            return Object.prototype.toString.apply(obj) === '[object Number]';\n          },\n\n          isDate: function isDate(obj) {\n            return Object.prototype.toString.apply(obj) === '[object Date]';\n          },\n\n          isString: function isString(obj) {\n            return Object.prototype.toString.apply(obj) === '[object String]';\n          },\n\n          isRegExp: function isRegExp(obj) {\n            return Object.prototype.toString.apply(obj) === '[object RegExp]';\n          },\n\n          isFunction: function isFunction(obj) {\n            return Object.prototype.toString.apply(obj) === '[object Function]';\n          },\n\n          escapeRegex: function escapeRegex(re) {\n            return re.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&');\n          },\n\n          findInArray: function findInArray(array, predicate) {\n            if (this.isArray(array) && predicate) {\n              for (var i = 0; i < array.length; i++) {\n                var item = array[i];\n                if (predicate(item)) {\n                  return item;\n                }\n              }\n            }\n            return undefined;\n          },\n\n          jsonStringify: function jsonStringify(obj, censorKeywords) {\n            function censor(key, value) {\n              return censorKeywords && censorKeywords.indexOf(key) > -1 ? undefined : value;\n            }\n            return (0, _stringify2.default)(obj, censor, 2);\n          },\n          addEventListener: function addEventListener(element, eventName, handler) {\n            if (element.addEventListener) {\n              element.addEventListener(eventName, handler, false);\n            } else if (element.attachEvent) {\n              element.attachEvent('on' + eventName, handler);\n            } else {\n              element[\"on\" + eventName] = handler;\n            }\n          },\n          removeEventListener: function removeEventListener(element, eventName, handler) {\n            if (element.removeEventListener) {\n              element.removeEventListener(eventName, handler, false);\n            } else if (element.detachEvent) {\n              element.detachEvent(\"on\" + eventName, handler);\n            } else {\n              element[\"on\" + eventName] = null;\n            }\n          },\n          preventDefault: function preventDefault(e) {\n            e = e || window.event;\n\n            if (e.preventDefault) {\n              e.preventDefault();\n            } else {\n              e.returnValue = false;\n            }\n          },\n          stopPropagation: function stopPropagation(e) {\n            e = e || window.event;\n\n            if (e.stopPropagation) {\n              e.stopPropagation();\n            } else {\n              e.cancelBubble = true;\n            }\n          },\n          getEventButton: function getEventButton(e) {\n            var button = e.button;\n            if ('which' in e) {\n              return button;\n            }\n            // IE 8\n            return button === 1 ? 0 : // left\n              button === 4 ? 1 : // middle\n              2; // right\n          },\n          getMousePageXY: function getMousePageXY(e) {\n            e = e || window.event;\n\n            var pageX = e.pageX;\n            var pageY = e.pageY;\n            if (pageX === undefined) {\n              pageX = e.clientX + document.body.scrollLeft + document.documentElement.scrollLeft;\n              pageY = e.clientY + document.body.scrollTop + document.documentElement.scrollTop;\n            }\n            return {\n              pageX: pageX,\n              pageY: pageY\n            };\n          }\n        };\n\n        // from: https://github.com/davidchambers/Base64.js\n\n        (function(object) {\n          var chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n\n          function InvalidCharacterError(message) {\n            this.message = message;\n          }\n          InvalidCharacterError.prototype = new Error();\n          InvalidCharacterError.prototype.name = 'InvalidCharacterError';\n          // encoder\n          // [https://gist.github.com/999166] by [https://github.com/nignag]\n          object.btoa = global && global.btoa ? function(str) {\n            return global.btoa(str);\n          } : function(input) {\n            var str = String(input);\n            for (\n              // initialize result and counter\n              var block, charCode, idx = 0, map = chars, output = '';\n              // if the next str index does not exist:\n              // change the mapping table to \"=\"\n              // check if d has no fractional digits\n              str.charAt(idx | 0) || (map = '=', idx % 1);\n              // \"8 - idx % 1 * 8\" generates the sequence 2, 4, 6, 8\n              output += map.charAt(63 & block >> 8 - idx % 1 * 8)) {\n              charCode = str.charCodeAt(idx += 3 / 4);\n              if (charCode > 0xFF) {\n                throw new InvalidCharacterError(\"'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.\");\n              }\n              block = block << 8 | charCode;\n            }\n            return output;\n          };\n\n          // decoder\n          // [https://gist.github.com/1020396] by [https://github.com/atk]\n          object.atob = global && global.atob ? function(str) {\n            return global.atob(str);\n          } : function(input) {\n            var str = String(input).replace(/=+$/, '');\n            if (str.length % 4 == 1) {\n              throw new InvalidCharacterError(\"'atob' failed: The string to be decoded is not correctly encoded.\");\n            }\n            for (\n              // initialize result and counters\n              var bc = 0, bs, buffer, idx = 0, output = '';\n              // get next character\n              buffer = str.charAt(idx++);\n              // character found in table? initialize bit storage and add its ascii value;\n              ~buffer && (bs = bc % 4 ? bs * 64 + buffer : buffer,\n                // and if not first of each 4 characters,\n                // convert the first 8 bits to one ascii character\n                bc++ % 4) ? output += String.fromCharCode(255 & bs >> (-2 * bc & 6)) : 0) {\n              // try to find character in table (0-63, not found => -1)\n              buffer = chars.indexOf(buffer);\n            }\n            return output;\n          };\n        })(module.exports);\n\n      }).call(this, typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n    }, {\n      \"babel-runtime/core-js/json/stringify\": 1\n    }],\n    54: [function(_dereq_, module, exports) {\n\n      var React = _dereq_('react'),\n        ReactDOM = _dereq_('react-dom');\n\n      module.exports = React.createClass({\n        displayName: 'exports',\n\n        getInitialState: function getInitialState() {\n          return {\n            canRender: false\n          };\n        },\n        canRender: function canRender() {\n          return this.state.canRender && typeof this.props.chartMode.type === 'string' && typeof google.visualization[this.props.chartMode.type] === 'function';\n        },\n        drawChart: function drawChart() {\n          if (this.canRender()) {\n            var chartData = this.props.pivotTableComp.pgridwidget.pgrid.getChartData();\n            var data = new google.visualization.DataTable();\n\n            data.addColumn('string', chartData.hAxisLabel);\n            for (var ri = 0; ri < chartData.colNames.length; ri++) {\n              data.addColumn('number', chartData.colNames[ri]);\n            }\n\n            data.addRows(chartData.dataTable);\n\n            var options = {\n              title: chartData.title,\n              //isStacked: true,\n              fontName: this.state.chartStyle.fontFamily,\n              fontSize: parseFloat(this.state.chartStyle.fontSize),\n              hAxis: {\n                title: chartData.hAxisLabel\n              },\n              vAxis: {\n                title: chartData.vAxisLabel\n              }\n            };\n\n            if (typeof google.visualization[this.props.chartMode.type] === 'function') {\n              var chart = new google.visualization[this.props.chartMode.type](ReactDOM.findDOMNode(this));\n              chart.draw(data, options);\n            }\n          }\n        },\n        componentDidMount: function componentDidMount() {\n          this.drawChart();\n        },\n        componentDidUpdate: function componentDidUpdate() {\n          this.drawChart();\n        },\n        render: function render() {\n          if (this.canRender()) {\n            return React.createElement('div', {\n              className: 'chart',\n              style: this.state.chartStyle\n            });\n          }\n          return null;\n        }\n      });\n\n    }, {\n      \"react\": \"react\",\n      \"react-dom\": \"react-dom\"\n    }],\n    55: [function(_dereq_, module, exports) {\n\n      var React = _dereq_('react'),\n        ReactDOM = _dereq_('react-dom'),\n        utils = _dereq_('../orb.utils');\n\n      function createOverlay() {\n        var overlayElement = document.createElement('div');\n        overlayElement.className = 'orb-overlay orb-overlay-hidden';\n        document.body.appendChild(overlayElement);\n        return overlayElement;\n      }\n\n      var Dialog = module.exports = React.createClass({\n        displayName: 'exports',\n\n        statics: {\n          create: function create() {\n            var dialogFactory = React.createFactory(Dialog);\n            var overlay = createOverlay();\n\n            return {\n              show: function show(props) {\n                ReactDOM.render(dialogFactory(props), overlay);\n              }\n            };\n          }\n        },\n        overlayElement: null,\n        setOverlayClass: function setOverlayClass(visible) {\n          this.overlayElement.className = this.props.theme.getDialogClasses(visible).overlay;\n        },\n        componentDidMount: function componentDidMount() {\n          this.overlayElement = ReactDOM.findDOMNode(this).parentNode;\n          this.setOverlayClass(true);\n          utils.addEventListener(this.overlayElement, 'click', this.close);\n\n          var dialogElement = this.overlayElement.children[0];\n          var dialogBodyElement = dialogElement.children[0].children[1];\n\n          var screenWidth = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);\n          var screenHeight = Math.max(document.documentElement.clientHeight, window.innerHeight || 0);\n          var maxHeight = 2 * screenHeight / 3;\n          maxHeight = maxHeight < 301 ? 301 : maxHeight;\n          var dWidth = dialogElement.offsetWidth + (dialogElement.offsetHeight > maxHeight ? 11 : 0);\n          var dHeight = dialogElement.offsetHeight > maxHeight ? maxHeight : dialogElement.offsetHeight;\n\n          dialogElement.style.top = (screenHeight > dHeight ? (screenHeight - dHeight) / 2 : 0) + 'px';\n          dialogElement.style.left = (screenWidth > dWidth ? (screenWidth - dWidth) / 2 : 0) + 'px';\n          dialogElement.style.height = dHeight + 'px';\n          dialogBodyElement.style.width = dWidth + 'px';\n          dialogBodyElement.style.height = dHeight - 45 + 'px';\n        },\n        close: function close(e) {\n          var target = e.target || e.srcElement;\n          if (target == this.overlayElement || target.className === 'button-close') {\n            utils.removeEventListener(this.overlayElement, 'click', this.close);\n            ReactDOM.unmountComponentAtNode(this.overlayElement);\n            this.setOverlayClass(false);\n          }\n        },\n        render: function render() {\n          if (this.props.comp) {\n            var comp = React.createElement(this.props.comp.type, this.props.comp.props);\n            var classes = this.props.theme.getDialogClasses();\n\n            return React.createElement(\n              'div', {\n                className: classes.dialog,\n                style: this.props.style || {}\n              },\n              React.createElement(\n                'div', {\n                  className: classes.content\n                },\n                React.createElement(\n                  'div', {\n                    className: classes.header\n                  },\n                  React.createElement('div', {\n                    className: 'button-close',\n                    onClick: this.close\n                  }),\n                  React.createElement(\n                    'div', {\n                      className: classes.title\n                    },\n                    this.props.title\n                  )\n                ),\n                React.createElement(\n                  'div', {\n                    className: classes.body\n                  },\n                  comp\n                )\n              )\n            );\n          }\n        }\n      });\n\n    }, {\n      \"../orb.utils\": 53,\n      \"react\": \"react\",\n      \"react-dom\": \"react-dom\"\n    }],\n    56: [function(_dereq_, module, exports) {\n\n      var ReactDOM = _dereq_('react-dom'),\n        utils = _dereq_('../orb.utils');\n\n      module.exports = function() {\n\n        var _pivotComp = null;\n\n        var _currDragElement = null;\n        var _currDropTarget = null;\n        var _currDropIndicator = null;\n\n        var _dragNode = null;\n        var _dropTargets = [];\n        var _dropIndicators = [];\n\n        function doElementsOverlap(elem1Rect, elem2Rect) {\n          return !(elem1Rect.right < elem2Rect.left || elem1Rect.left > elem2Rect.right || elem1Rect.bottom < elem2Rect.top || elem1Rect.top > elem2Rect.bottom);\n        }\n\n        function setCurrDropTarget(dropTarget, callback) {\n          if (_currDropTarget) {\n            signalDragEnd(_currDropTarget, function() {\n              _currDropTarget = dropTarget;\n              signalDragOver(dropTarget, callback);\n            });\n          } else {\n            _currDropTarget = dropTarget;\n            signalDragOver(dropTarget, callback);\n          }\n        }\n\n        function setCurrDropIndicator(dropIndicator) {\n          if (_currDropIndicator) {\n            signalDragEnd(_currDropIndicator, function() {\n              _currDropIndicator = dropIndicator;\n              signalDragOver(dropIndicator);\n            });\n          } else {\n            _currDropIndicator = dropIndicator;\n            signalDragOver(dropIndicator);\n          }\n        }\n\n        function signalDragOver(target, callback) {\n          if (target && target.onDragOver) {\n            target.onDragOver(callback);\n          } else if (callback) {\n            callback();\n          }\n        }\n\n        function signalDragEnd(target, callback) {\n          if (target && target.onDragEnd) {\n            target.onDragEnd(callback);\n          } else if (callback) {\n            callback();\n          }\n        }\n\n        function getDropTarget() {\n          return utils.forEach(_dropTargets, function(target) {\n            if (target.component.state.isover) {\n              return target;\n            }\n          });\n        }\n\n        function getDropIndicator() {\n          return utils.forEach(_dropIndicators, function(indicator) {\n            if (indicator.component.state.isover) {\n              return indicator;\n            }\n          });\n        }\n\n        var _initialized = false;\n\n        return {\n          init: function init(pivotComp) {\n            _initialized = true;\n            _pivotComp = pivotComp;\n          },\n          setDragElement: function setDragElement(elem) {\n\n            var prevDragElement = _currDragElement;\n            _currDragElement = elem;\n            if (_currDragElement != prevDragElement) {\n              if (elem == null) {\n\n                if (_currDropTarget) {\n                  var position = _currDropIndicator != null ? _currDropIndicator.position : null;\n                  _pivotComp.moveButton(prevDragElement, _currDropTarget.component.props.axetype, position);\n                }\n\n                _dragNode = null;\n                setCurrDropTarget(null);\n                setCurrDropIndicator(null);\n              } else {\n                _dragNode = ReactDOM.findDOMNode(_currDragElement);\n              }\n            }\n          },\n          registerTarget: function registerTarget(target, axetype, dragOverHandler, dargEndHandler) {\n            _dropTargets.push({\n              component: target,\n              axetype: axetype,\n              onDragOver: dragOverHandler,\n              onDragEnd: dargEndHandler\n            });\n          },\n          unregisterTarget: function unregisterTarget(target) {\n            var tindex;\n            for (var i = 0; i < _dropTargets.length; i++) {\n              if (_dropTargets[i].component == target) {\n                tindex = i;\n                break;\n              }\n            }\n            if (tindex != null) {\n              _dropTargets.splice(tindex, 1);\n            }\n          },\n          registerIndicator: function registerIndicator(indicator, axetype, position, dragOverHandler, dargEndHandler) {\n            _dropIndicators.push({\n              component: indicator,\n              axetype: axetype,\n              position: position,\n              onDragOver: dragOverHandler,\n              onDragEnd: dargEndHandler\n            });\n          },\n          unregisterIndicator: function unregisterIndicator(indicator) {\n            var iindex;\n            for (var i = 0; i < _dropIndicators.length; i++) {\n              if (_dropIndicators[i].component == indicator) {\n                iindex = i;\n                break;\n              }\n            }\n            if (iindex != null) {\n              _dropIndicators.splice(iindex, 1);\n            }\n          },\n          elementMoved: function elementMoved() {\n            if (_currDragElement != null) {\n              var dragNodeRect = _dragNode.getBoundingClientRect();\n              var foundTarget;\n\n              utils.forEach(_dropTargets, function(target) {\n                if (!foundTarget) {\n                  var tnodeRect = ReactDOM.findDOMNode(target.component).getBoundingClientRect();\n                  var isOverlap = doElementsOverlap(dragNodeRect, tnodeRect);\n                  if (isOverlap) {\n                    foundTarget = target;\n                    return;\n                  }\n                }\n              });\n\n              if (foundTarget) {\n                setCurrDropTarget(foundTarget, function() {\n                  var foundIndicator = null;\n\n                  utils.forEach(_dropIndicators, function(indicator, index) {\n                    if (!foundIndicator) {\n                      var elementOwnIndicator = indicator.component.props.axetype === _currDragElement.props.axetype && indicator.component.props.position === _currDragElement.props.position;\n\n                      var targetIndicator = indicator.component.props.axetype === foundTarget.component.props.axetype;\n                      if (targetIndicator && !elementOwnIndicator) {\n                        var tnodeRect = ReactDOM.findDOMNode(indicator.component).getBoundingClientRect();\n                        var isOverlap = doElementsOverlap(dragNodeRect, tnodeRect);\n                        if (isOverlap) {\n                          foundIndicator = indicator;\n                          return true;\n                        }\n                      }\n                    }\n                  });\n\n                  if (!foundIndicator) {\n                    var axeIndicators = _dropIndicators.filter(function(indicator) {\n                      return indicator.component.props.axetype === foundTarget.component.props.axetype;\n                    });\n                    if (axeIndicators.length > 0) {\n                      foundIndicator = axeIndicators[axeIndicators.length - 1];\n                    }\n                  }\n                  setCurrDropIndicator(foundIndicator);\n                });\n              }\n            }\n          }\n        };\n      }();\n\n    }, {\n      \"../orb.utils\": 53,\n      \"react-dom\": \"react-dom\"\n    }],\n    57: [function(_dereq_, module, exports) {\n\n      var React = _dereq_('react'),\n        DragManager = _dereq_('./orb.react.DragManager.jsx');\n\n      module.exports = React.createClass({\n        displayName: 'DropIndicator',\n        getInitialState: function getInitialState() {\n          DragManager.registerIndicator(this, this.props.axetype, this.props.position, this.onDragOver, this.onDragEnd);\n          return {\n            isover: false\n          };\n        },\n        componentWillUnmount: function componentWillUnmount() {\n          DragManager.unregisterIndicator(this);\n        },\n        onDragOver: function onDragOver(callback) {\n          if (this.isMounted()) {\n            this.setState({\n              isover: true\n            }, callback);\n          } else if (callback) {\n            callback();\n          }\n        },\n        onDragEnd: function onDragEnd(callback) {\n          if (this.isMounted()) {\n            this.setState({\n              isover: false\n            }, callback);\n          } else if (callback) {\n            callback();\n          }\n        },\n        render: function render() {\n          var classname = 'drp-indic' + (this.props.isVertical ? '-vertical' : '');\n\n          if (this.props.isFirst) {\n            classname += ' drp-indic-first';\n          }\n\n          if (this.props.isLast) {\n            classname += ' drp-indic-last';\n          }\n\n          var style = {};\n          if (this.state.isover) {\n            classname += ' drp-indic-over';\n          }\n\n          return React.createElement('div', {\n            style: style,\n            className: classname\n          });\n        }\n      });\n\n    }, {\n      \"./orb.react.DragManager.jsx\": 56,\n      \"react\": \"react\"\n    }],\n    58: [function(_dereq_, module, exports) {\n\n      var React = _dereq_('react'),\n        DragManager = _dereq_('./orb.react.DragManager.jsx'),\n        DropIndicator = _dereq_('./orb.react.DropIndicator.jsx'),\n        axe = _dereq_('../orb.axe'),\n        dtid = 0;\n\n      module.exports = React.createClass({\n        displayName: 'exports',\n\n        getInitialState: function getInitialState() {\n          this.dtid = ++dtid;\n          return {\n            isover: false\n          };\n        },\n        componentDidMount: function componentDidMount() {\n          DragManager.registerTarget(this, this.props.axetype, this.onDragOver, this.onDragEnd);\n        },\n        componentWillUnmount: function componentWillUnmount() {\n          DragManager.unregisterTarget(this);\n        },\n        onDragOver: function onDragOver(callback) {\n          if (this.isMounted()) {\n            this.setState({\n              isover: true\n            }, callback);\n          } else if (callback) {\n            callback();\n          }\n        },\n        onDragEnd: function onDragEnd(callback) {\n          if (this.isMounted()) {\n            this.setState({\n              isover: false\n            }, callback);\n          } else if (callback) {\n            callback();\n          }\n        },\n        render: function render() {\n          var self = this;\n\n          var buttons = this.props.buttons.map(function(button, index) {\n            if (index < self.props.buttons.length - 1) {\n              return [React.createElement(\n                'td',\n                null,\n                React.createElement(DropIndicator, {\n                  isFirst: index === 0,\n                  position: index,\n                  axetype: self.props.axetype\n                })\n              ), React.createElement(\n                'td',\n                null,\n                button\n              )];\n            } else {\n              return [React.createElement(\n                'td',\n                null,\n                React.createElement(DropIndicator, {\n                  isFirst: index === 0,\n                  position: index,\n                  axetype: self.props.axetype\n                })\n              ), React.createElement(\n                'td',\n                null,\n                button\n              ), React.createElement(\n                'td',\n                null,\n                React.createElement(DropIndicator, {\n                  isLast: true,\n                  position: null,\n                  axetype: self.props.axetype\n                })\n              )];\n            }\n          });\n\n          var style = self.props.axetype === axe.Type.ROWS ? {\n            position: 'absolute',\n            left: 0,\n            bottom: 11\n          } : null;\n\n          return React.createElement(\n            'div', {\n              className: 'drp-trgt' + (this.state.isover ? ' drp-trgt-over' : '') + (buttons.length === 0 ? ' drp-trgt-empty' : ''),\n              style: style\n            },\n            React.createElement(\n              'table',\n              null,\n              React.createElement(\n                'tbody',\n                null,\n                React.createElement(\n                  'tr',\n                  null,\n                  buttons\n                )\n              )\n            )\n          );\n        }\n      });\n\n    }, {\n      \"../orb.axe\": 36,\n      \"./orb.react.DragManager.jsx\": 56,\n      \"./orb.react.DropIndicator.jsx\": 57,\n      \"react\": \"react\"\n    }],\n    59: [function(_dereq_, module, exports) {\n\n      var React = _dereq_('react'),\n        DragManager = _dereq_('./orb.react.DragManager.jsx'),\n        DropIndicator = _dereq_('./orb.react.DropIndicator.jsx'),\n        dtid = 0;\n\n      module.exports = React.createClass({\n        displayName: 'exports',\n\n        getInitialState: function getInitialState() {\n          this.dtid = ++dtid;\n          return {\n            isover: false\n          };\n        },\n        componentDidMount: function componentDidMount() {\n          DragManager.registerTarget(this, this.props.axetype, this.onDragOver, this.onDragEnd);\n        },\n        componentWillUnmount: function componentWillUnmount() {\n          DragManager.unregisterTarget(this);\n        },\n        onDragOver: function onDragOver(callback) {\n          if (this.isMounted()) {\n            this.setState({\n              isover: true\n            }, callback);\n          } else if (callback) {\n            callback();\n          }\n        },\n        onDragEnd: function onDragEnd(callback) {\n          if (this.isMounted()) {\n            this.setState({\n              isover: false\n            }, callback);\n          } else if (callback) {\n            callback();\n          }\n        },\n        render: function render() {\n          var self = this;\n\n          var buttons = this.props.buttons.map(function(button, index) {\n            var currButton = [React.createElement(\n              'tr',\n              null,\n              React.createElement(\n                'td',\n                null,\n                React.createElement(DropIndicator, {\n                  isFirst: index === 0,\n                  position: index,\n                  axetype: self.props.axetype,\n                  isVertical: true\n                })\n              )\n            ), React.createElement(\n              'tr',\n              null,\n              React.createElement(\n                'td',\n                null,\n                button\n              )\n            )];\n\n            if (index == self.props.buttons.length - 1) {\n              currButton.push(React.createElement(\n                'tr',\n                null,\n                React.createElement(\n                  'td',\n                  null,\n                  React.createElement(DropIndicator, {\n                    isLast: true,\n                    position: null,\n                    axetype: self.props.axetype,\n                    isVertical: true\n                  })\n                )\n              ));\n            }\n\n            return currButton;\n          });\n\n          return React.createElement(\n            'div', {\n              className: 'drp-trgt-vertical' + (this.state.isover ? ' drp-trgt-over' : '') + (buttons.length === 0 ? ' drp-trgt-vertical-empty' : '')\n            },\n            React.createElement(\n              'table',\n              null,\n              React.createElement(\n                'tbody',\n                null,\n                buttons\n              )\n            )\n          );\n        }\n      });\n\n    }, {\n      \"./orb.react.DragManager.jsx\": 56,\n      \"./orb.react.DropIndicator.jsx\": 57,\n      \"react\": \"react\"\n    }],\n    60: [function(_dereq_, module, exports) {\n\n      var React = _dereq_('react'),\n        utils = _dereq_('../orb.utils');\n\n      module.exports = React.createClass({\n        displayName: 'exports',\n\n        openOrClose: function openOrClose(e) {\n          var valueNode = this.refs.valueElement;\n          var valuesListNode = this.refs.valuesList;\n          var target = e.target || e.srcElement;\n\n          if (target === valueNode && valuesListNode.style.display === 'none') {\n            valuesListNode.style.display = 'block';\n          } else {\n            valuesListNode.style.display = 'none';\n          }\n        },\n        onMouseEnter: function onMouseEnter() {\n          var valueNode = this.refs.valueElement;\n          valueNode.className = \"orb-tgl-btn-down\";\n          valueNode.style.backgroundPosition = 'right center';\n        },\n        onMouseLeave: function onMouseLeave() {\n          this.refs.valueElement.className = \"\";\n        },\n        componentDidMount: function componentDidMount() {\n          utils.addEventListener(document, 'click', this.openOrClose);\n        },\n        componentWillUnmount: function componentWillUnmount() {\n          utils.removeEventListener(document, 'click', this.openOrClose);\n        },\n        selectValue: function selectValue(e) {\n          var listNode = this.refs.valuesList;\n          var target = e.target || e.srcElement;\n          var isli = false;\n          while (!isli && target != null) {\n            if (target.parentNode == listNode) {\n              isli = true;\n              break;\n            }\n            target = target.parentNode;\n          }\n\n          if (isli) {\n            var value = target.textContent;\n            var valueElement = this.refs.valueElement;\n            if (valueElement.textContent != value) {\n              valueElement.textContent = value;\n              if (this.props.onValueChanged) {\n                this.props.onValueChanged(value);\n              }\n            }\n          }\n        },\n        render: function render() {\n          function createSelectValueFunc(value) {\n            return function() {\n              this.selectValue(value);\n            };\n          }\n\n          var values = [];\n          for (var i = 0; i < this.props.values.length; i++) {\n            values.push(React.createElement('li', {\n              key: 'item' + i,\n              dangerouslySetInnerHTML: {\n                __html: this.props.values[i]\n              }\n            }));\n          }\n\n          return React.createElement(\n            'div', {\n              className: 'orb-select'\n            },\n            React.createElement('div', {\n              ref: 'valueElement',\n              dangerouslySetInnerHTML: {\n                __html: this.props.selectedValue\n              },\n              onMouseEnter: this.onMouseEnter,\n              onMouseLeave: this.onMouseLeave\n            }),\n            React.createElement(\n              'ul', {\n                ref: 'valuesList',\n                style: {\n                  display: 'none'\n                },\n                onClick: this.selectValue\n              },\n              values\n            )\n          );\n        }\n      });\n\n    }, {\n      \"../orb.utils\": 53,\n      \"react\": \"react\"\n    }],\n    61: [function(_dereq_, module, exports) {\n\n      var React = _dereq_('react'),\n        ReactDOM = _dereq_('react-dom'),\n        Dropdown = _dereq_('./orb.react.Dropdown.jsx'),\n        utils = _dereq_('../orb.utils'),\n        filtering = _dereq_('../orb.filtering'),\n        domUtils = _dereq_('../orb.utils.dom');\n\n      module.exports = React.createClass({\n        displayName: 'exports',\n\n        pgridwidget: null,\n        values: null,\n        filterManager: null,\n        getInitialState: function getInitialState() {\n          this.pgridwidget = this.props.pivotTableComp.pgridwidget;\n          return {};\n        },\n        destroy: function destroy() {\n          var container = ReactDOM.findDOMNode(this).parentNode;\n          ReactDOM.unmountComponentAtNode(container);\n          container.parentNode.removeChild(container);\n        },\n        onFilter: function onFilter(operator, term, staticValue, excludeStatic) {\n          this.props.pivotTableComp.applyFilter(this.props.field, operator, term, staticValue, excludeStatic);\n          this.destroy();\n        },\n        onMouseDown: function onMouseDown(e) {\n          var container = ReactDOM.findDOMNode(this).parentNode;\n          var target = e.target || e.srcElement;\n          while (target != null) {\n            if (target == container) {\n              return true;\n            }\n            target = target.parentNode;\n          }\n\n          this.destroy();\n        },\n        onMouseWheel: function onMouseWheel(e) {\n          var valuesTable = this.refs.valuesTable;\n          var target = e.target || e.srcElement;\n          while (target != null) {\n            if (target == valuesTable) {\n              if (valuesTable.scrollHeight <= valuesTable.clientHeight) {\n                utils.stopPropagation(e);\n                utils.preventDefault(e);\n              }\n              return;\n            }\n            target = target.parentNode;\n          }\n\n          this.destroy();\n        },\n        componentWillMount: function componentWillMount() {\n          utils.addEventListener(document, 'mousedown', this.onMouseDown);\n          utils.addEventListener(document, 'wheel', this.onMouseWheel);\n          utils.addEventListener(window, 'resize', this.destroy);\n        },\n        componentDidMount: function componentDidMount() {\n          this.filterManager.init(ReactDOM.findDOMNode(this));\n        },\n        componentWillUnmount: function componentWillUnmount() {\n          utils.removeEventListener(document, 'mousedown', this.onMouseDown);\n          utils.removeEventListener(document, 'wheel', this.onMouseWheel);\n          utils.removeEventListener(window, 'resize', this.destroy);\n        },\n        render: function render() {\n          var checkboxes = [];\n\n          this.filterManager = new FilterManager(this, this.pgridwidget.pgrid.getFieldFilter(this.props.field));\n          this.values = this.pgridwidget.pgrid.getFieldValues(this.props.field);\n\n          function addCheckboxRow(value, text) {\n            return checkboxes.push(React.createElement(\n              'tr', {\n                key: value\n              },\n              React.createElement(\n                'td', {\n                  className: 'fltr-chkbox'\n                },\n                React.createElement('input', {\n                  type: 'checkbox',\n                  value: value,\n                  defaultChecked: 'checked'\n                })\n              ),\n              React.createElement(\n                'td', {\n                  className: 'fltr-val',\n                  title: text || value\n                },\n                text || value\n              )\n            ));\n          }\n\n          addCheckboxRow(filtering.ALL, '(Show All)');\n\n          for (var i = 0; i < this.values.length; i++) {\n            if (this.values[i] != null) {\n              addCheckboxRow(this.values[i]);\n            } else {\n              addCheckboxRow(filtering.BLANK, '(Blank)');\n            }\n          }\n\n          var buttonClass = this.props.pivotTableComp.pgrid.config.theme.getButtonClasses().orbButton;\n          var style = this.props.pivotTableComp.fontStyle;\n\n          var currentFilter = this.pgridwidget.pgrid.getFieldFilter(this.props.field);\n\n          return React.createElement(\n            'table', {\n              className: 'fltr-scntnr',\n              style: style\n            },\n            React.createElement(\n              'tbody',\n              null,\n              React.createElement(\n                'tr',\n                null,\n                React.createElement(\n                  'td', {\n                    className: 'srchop-col'\n                  },\n                  React.createElement(Dropdown, {\n                    values: [filtering.Operators.MATCH.name, filtering.Operators.NOTMATCH.name, filtering.Operators.EQ.name, filtering.Operators.NEQ.name, filtering.Operators.GT.name, filtering.Operators.GTE.name, filtering.Operators.LT.name, filtering.Operators.LTE.name],\n                    selectedValue: currentFilter && currentFilter.operator ? currentFilter.operator.name : filtering.Operators.MATCH.name,\n                    onValueChanged: this.filterManager.onOperatorChanged\n                  })\n                ),\n                React.createElement(\n                  'td', {\n                    className: 'srchtyp-col',\n                    title: 'Enable/disable Regular expressions'\n                  },\n                  '.*'\n                ),\n                React.createElement(\n                  'td', {\n                    className: 'srchbox-col'\n                  },\n                  React.createElement(\n                    'table', {\n                      style: {\n                        width: '100%'\n                      }\n                    },\n                    React.createElement(\n                      'tbody',\n                      null,\n                      React.createElement(\n                        'tr',\n                        null,\n                        React.createElement(\n                          'td',\n                          null,\n                          React.createElement('input', {\n                            type: 'text',\n                            placeholder: 'search'\n                          })\n                        ),\n                        React.createElement(\n                          'td',\n                          null,\n                          React.createElement(\n                            'div', {\n                              className: 'srchclear-btn',\n                              onClick: this.clearFilter\n                            },\n                            'x'\n                          )\n                        )\n                      )\n                    )\n                  )\n                )\n              ),\n              React.createElement(\n                'tr',\n                null,\n                React.createElement(\n                  'td', {\n                    colSpan: '3',\n                    className: 'fltr-vals-col'\n                  },\n                  React.createElement(\n                    'table', {\n                      className: 'fltr-vals-tbl',\n                      ref: 'valuesTable'\n                    },\n                    React.createElement(\n                      'tbody',\n                      null,\n                      checkboxes\n                    )\n                  )\n                )\n              ),\n              React.createElement(\n                'tr', {\n                  className: 'bottom-row'\n                },\n                React.createElement(\n                  'td', {\n                    className: 'cnfrm-btn-col',\n                    colSpan: '2'\n                  },\n                  React.createElement('input', {\n                    type: 'button',\n                    className: buttonClass,\n                    value: 'Ok',\n                    style: {\n                      float: 'left'\n                    }\n                  }),\n                  React.createElement('input', {\n                    type: 'button',\n                    className: buttonClass,\n                    value: 'Cancel',\n                    style: {\n                      float: 'left'\n                    }\n                  })\n                ),\n                React.createElement(\n                  'td', {\n                    className: 'resize-col'\n                  },\n                  React.createElement('div', null)\n                )\n              )\n            )\n          );\n        }\n      });\n\n      function FilterManager(reactComp, initialFilterObject) {\n\n        var self = this;\n        var INDETERMINATE = 'indeterminate';\n\n        var savedCheckedValues;\n        var isSearchMode = false;\n        var isRegexMode = false;\n        var operator = filtering.Operators.MATCH;\n        var lastSearchTerm = '';\n\n        var elems = {\n          filterContainer: null,\n          checkboxes: {},\n          searchBox: null,\n          operatorBox: null,\n          allCheckbox: null,\n          addCheckbox: null,\n          enableRegexButton: null,\n          clearSearchButton: null,\n          okButton: null,\n          cancelButton: null,\n          resizeGrip: null\n        };\n\n        var resizeManager;\n\n        this.init = function(filterContainerElement) {\n\n          elems.filterContainer = filterContainerElement;\n          elems.checkboxes = {};\n          elems.searchBox = elems.filterContainer.rows[0].cells[2].children[0].rows[0].cells[0].children[0];\n          elems.clearSearchButton = elems.filterContainer.rows[0].cells[2].children[0].rows[0].cells[1].children[0];\n          elems.operatorBox = elems.filterContainer.rows[0].cells[0].children[0];\n          elems.okButton = elems.filterContainer.rows[2].cells[0].children[0];\n          elems.cancelButton = elems.filterContainer.rows[2].cells[0].children[1];\n          elems.resizeGrip = elems.filterContainer.rows[2].cells[1].children[0];\n\n          var rows = elems.filterContainer.rows[1].cells[0].children[0].rows;\n          for (var i = 0; i < rows.length; i++) {\n            var checkbox = rows[i].cells[0].children[0];\n            elems.checkboxes[checkbox.value] = checkbox;\n          }\n\n          elems.allCheckbox = elems.checkboxes[filtering.ALL];\n          elems.blanckCheckbox = elems.checkboxes[filtering.BLANK];\n          elems.addCheckbox = null;\n          elems.enableRegexButton = elems.filterContainer.rows[0].cells[1];\n\n          resizeManager = new ResizeManager(elems.filterContainer.parentNode, elems.filterContainer.rows[1].cells[0].children[0], elems.resizeGrip);\n\n          applyInitialFilterObject();\n          addEventListeners();\n        };\n\n        this.onOperatorChanged = function(newOperator) {\n          if (operator.name !== newOperator) {\n            operator = filtering.Operators.get(newOperator);\n            self.toggleRegexpButtonVisibility();\n            self.searchChanged('operatorChanged');\n          }\n        };\n\n        function checkboxVisible(checkbox, isVisible) {\n          if (isVisible != null) {\n            checkbox.parentNode.parentNode.style.display = isVisible ? '' : 'none';\n          } else {\n            return checkbox.parentNode.parentNode.style.display != 'none';\n          }\n        }\n\n        function applyInitialFilterObject() {\n          if (initialFilterObject) {\n            var staticInfos = {\n              values: initialFilterObject.staticValue,\n              toExclude: initialFilterObject.excludeStatic\n            };\n\n            if (initialFilterObject.term) {\n              isSearchMode = true;\n\n              operator = initialFilterObject.operator;\n              self.toggleRegexpButtonVisibility();\n\n              if (initialFilterObject.regexpMode) {\n                isRegexMode = true;\n                self.toggleRegexpButtonState();\n                lastSearchTerm = initialFilterObject.term.source;\n              } else {\n                lastSearchTerm = initialFilterObject.term;\n              }\n\n              elems.searchBox.value = lastSearchTerm;\n\n              self.applyFilterTerm(initialFilterObject.operator, initialFilterObject.term);\n            } else {\n              savedCheckedValues = staticInfos;\n            }\n\n            self.updateCheckboxes(staticInfos);\n            self.updateAllCheckbox();\n          }\n        }\n\n        function addEventListeners() {\n          self.toggleRegexpButtonVisibility();\n\n          utils.addEventListener(elems.filterContainer, 'click', self.valueChecked);\n          utils.addEventListener(elems.searchBox, 'keyup', self.searchChanged);\n\n          utils.addEventListener(elems.clearSearchButton, 'click', self.clearSearchBox);\n\n          utils.addEventListener(elems.okButton, 'click', function() {\n            var checkedObj = self.getCheckedValues();\n            reactComp.onFilter(operator.name, operator.regexpSupported && isSearchMode && isRegexMode ? new RegExp(lastSearchTerm, 'i') : lastSearchTerm, checkedObj.values, checkedObj.toExclude);\n          });\n          utils.addEventListener(elems.cancelButton, 'click', function() {\n            reactComp.destroy();\n          });\n        }\n\n        function ResizeManager(outerContainerElem, valuesTableElem, resizeGripElem) {\n\n          var minContainerWidth = 301;\n          var minContainerHeight = 223;\n\n          var mousedownpos = {\n            x: 0,\n            y: 0\n          };\n          var isMouseDown = false;\n\n          this.resizeMouseDown = function(e) {\n            // drag/sort with left mouse button\n            if (utils.getEventButton(e) !== 0) return;\n\n            var mousePageXY = utils.getMousePageXY(e);\n\n            isMouseDown = true;\n            document.body.style.cursor = 'se-resize';\n\n            mousedownpos.x = mousePageXY.pageX;\n            mousedownpos.y = mousePageXY.pageY;\n\n            // prevent event bubbling (to prevent text selection while dragging for example)\n            utils.stopPropagation(e);\n            utils.preventDefault(e);\n          };\n\n          this.resizeMouseUp = function() {\n            isMouseDown = false;\n            document.body.style.cursor = 'auto';\n            return true;\n          };\n\n          this.resizeMouseMove = function(e) {\n            // if the mouse is not down while moving, return (no drag)\n            if (!isMouseDown) return;\n\n            var mousePageXY = utils.getMousePageXY(e);\n\n            var resizeGripSize = resizeGripElem.getBoundingClientRect();\n            var outerContainerSize = outerContainerElem.getBoundingClientRect();\n            var valuesTableSize = valuesTableElem.tBodies[0].getBoundingClientRect();\n\n            var outerContainerWidth = outerContainerSize.right - outerContainerSize.left;\n            var outerContainerHeight = outerContainerSize.bottom - outerContainerSize.top;\n\n            var offset = {\n              x: outerContainerWidth <= minContainerWidth && mousePageXY.pageX < resizeGripSize.left ? 0 : mousePageXY.pageX - mousedownpos.x,\n              y: outerContainerHeight <= minContainerHeight && mousePageXY.pageY < resizeGripSize.top ? 0 : mousePageXY.pageY - mousedownpos.y\n            };\n\n            var newContainerWidth = outerContainerWidth + offset.x;\n            var newContainerHeight = outerContainerHeight + offset.y;\n\n            mousedownpos.x = mousePageXY.pageX;\n            mousedownpos.y = mousePageXY.pageY;\n\n            if (newContainerWidth >= minContainerWidth) {\n              outerContainerElem.style.width = newContainerWidth + 'px';\n            }\n\n            if (newContainerHeight >= minContainerHeight) {\n              outerContainerElem.style.height = newContainerHeight + 'px';\n              valuesTableElem.tBodies[0].style.height = valuesTableSize.bottom - valuesTableSize.top + offset.y + 'px';\n            }\n\n            utils.stopPropagation(e);\n            utils.preventDefault(e);\n          };\n\n          utils.addEventListener(resizeGripElem, 'mousedown', this.resizeMouseDown);\n          utils.addEventListener(document, 'mouseup', this.resizeMouseUp);\n          utils.addEventListener(document, 'mousemove', this.resizeMouseMove);\n        }\n\n        this.clearSearchBox = function() {\n          elems.searchBox.value = '';\n          self.searchChanged();\n        };\n\n        this.toggleRegexpButtonVisibility = function() {\n          if (operator.regexpSupported) {\n            utils.addEventListener(elems.enableRegexButton, 'click', self.regexpActiveChanged);\n            domUtils.removeClass(elems.enableRegexButton, 'srchtyp-col-hidden');\n          } else {\n            utils.removeEventListener(elems.enableRegexButton, 'click', self.regexpActiveChanged);\n            domUtils.addClass(elems.enableRegexButton, 'srchtyp-col-hidden');\n          }\n        };\n\n        this.toggleRegexpButtonState = function() {\n          elems.enableRegexButton.className = elems.enableRegexButton.className.replace('srchtyp-col-active', '');\n          if (isRegexMode) {\n            domUtils.addClass(elems.enableRegexButton, 'srchtyp-col-active');\n          } else {\n            domUtils.removeClass(elems.enableRegexButton, 'srchtyp-col-active');\n          }\n        };\n\n        this.regexpActiveChanged = function() {\n          isRegexMode = !isRegexMode;\n          self.toggleRegexpButtonState();\n          self.searchChanged('regexModeChanged');\n        };\n\n        this.valueChecked = function(e) {\n          var target = e.target || e.srcElement;\n          if (target && target.type && target.type === 'checkbox') {\n            if (target == elems.allCheckbox) {\n              self.updateCheckboxes({\n                values: elems.allCheckbox.checked\n              });\n            } else {\n              self.updateAllCheckbox();\n            }\n          }\n        };\n\n        this.applyFilterTerm = function(operator, term) {\n          var defaultVisible = term ? false : true;\n          var opterm = operator.regexpSupported && isSearchMode ? isRegexMode ? term : utils.escapeRegex(term) : term;\n          checkboxVisible(elems.allCheckbox, defaultVisible);\n          for (var i = 0; i < reactComp.values.length; i++) {\n            var val = reactComp.values[i];\n            var checkbox = val != null ? elems.checkboxes[val] : elems.blanckCheckbox;\n            var visible = !isSearchMode || operator.func(val, opterm);\n            checkboxVisible(checkbox, visible);\n            checkbox.checked = visible;\n          }\n        };\n\n        this.searchChanged = function(e) {\n          var search = (elems.searchBox.value || '').trim();\n          if (e === 'operatorChanged' || e === 'regexModeChanged' && search || search != lastSearchTerm) {\n            lastSearchTerm = search;\n\n            var previousIsSearchMode = isSearchMode;\n            isSearchMode = search !== '';\n\n            if (isSearchMode && !previousIsSearchMode) {\n              savedCheckedValues = self.getCheckedValues();\n            }\n\n            //var searchTerm = operator.regexpSupported && isSearchMode ? new RegExp(isRegexMode ? search : utils.escapeRegex(search), 'i') : search;\n            if (e !== 'operatorChanged' || isSearchMode) {\n              self.applyFilterTerm(operator, search);\n            }\n\n            if (!isSearchMode && previousIsSearchMode) {\n              self.updateCheckboxes(savedCheckedValues);\n            }\n\n            self.updateAllCheckbox();\n          }\n        };\n\n        this.getCheckedValues = function() {\n          if (!isSearchMode && !elems.allCheckbox.indeterminate) {\n            return {\n              values: elems.allCheckbox.checked ? filtering.ALL : filtering.NONE,\n              toExclude: false\n            };\n          } else {\n            var staticValue;\n            var i, val, checkbox;\n            var valuesCount = 0,\n              checkedCount = 0;\n\n            for (i = 0; i < reactComp.values.length; i++) {\n              val = reactComp.values[i];\n              checkbox = val != null ? elems.checkboxes[val] : elems.blanckCheckbox;\n              if (checkboxVisible(checkbox)) {\n                valuesCount++;\n                if (checkbox.checked) {\n                  checkedCount++;\n                }\n              }\n            }\n\n            var excludeUnchecked = false;\n\n            if (checkedCount === 0) {\n              staticValue = filtering.NONE;\n            } else if (checkedCount == valuesCount) {\n              staticValue = filtering.ALL;\n            } else {\n              staticValue = [];\n              excludeUnchecked = checkedCount > valuesCount / 2 + 1;\n\n              for (i = 0; i < reactComp.values.length; i++) {\n                val = reactComp.values[i];\n                checkbox = val != null ? elems.checkboxes[val] : elems.blanckCheckbox;\n                if (checkboxVisible(checkbox)) {\n                  if (!excludeUnchecked && checkbox.checked || excludeUnchecked && !checkbox.checked) {\n                    staticValue.push(val);\n                  }\n                }\n              }\n            }\n            return {\n              values: staticValue,\n              toExclude: excludeUnchecked\n            };\n          }\n        };\n\n        this.updateCheckboxes = function(checkedList) {\n          var values = checkedList ? checkedList.values : null;\n          var allchecked = utils.isArray(values) ? null : values == null || values === filtering.ALL ? true : values === filtering.NONE ? false : !!values;\n          for (var i = 0; i < reactComp.values.length; i++) {\n            var val = reactComp.values[i];\n            var checkbox = val != null ? elems.checkboxes[val] : elems.blanckCheckbox;\n            if (checkboxVisible(checkbox)) {\n              if (allchecked != null) {\n                checkbox.checked = allchecked;\n              } else {\n                var valInList = values.indexOf(val) >= 0;\n                checkbox.checked = checkedList.toExclude ? !valInList : valInList;\n              }\n            }\n          }\n        };\n\n        this.updateAllCheckbox = function() {\n          if (!isSearchMode) {\n            var allchecked = null;\n            for (var i = 0; i < reactComp.values.length; i++) {\n              var val = reactComp.values[i];\n              var checkbox = val != null ? elems.checkboxes[val] : elems.blanckCheckbox;\n              if (allchecked == null) {\n                allchecked = checkbox.checked;\n              } else {\n                if (allchecked !== checkbox.checked) {\n                  allchecked = INDETERMINATE;\n                  break;\n                }\n              }\n            }\n\n            if (allchecked === INDETERMINATE) {\n              elems.allCheckbox.indeterminate = true;\n              elems.allCheckbox.checked = false;\n            } else {\n              elems.allCheckbox.indeterminate = false;\n              elems.allCheckbox.checked = allchecked;\n            }\n          }\n        };\n      }\n\n    }, {\n      \"../orb.filtering\": 40,\n      \"../orb.utils\": 53,\n      \"../orb.utils.dom\": 52,\n      \"./orb.react.Dropdown.jsx\": 60,\n      \"react\": \"react\",\n      \"react-dom\": \"react-dom\"\n    }],\n    62: [function(_dereq_, module, exports) {\n\n      var React = _dereq_('react'),\n        utils = _dereq_('../orb.utils');\n\n      module.exports = React.createClass({\n        displayName: 'exports',\n\n        render: function render() {\n          var data = this.props.data;\n          var headers = this.props.headers;\n          var tableClasses = this.props.theme.getGridClasses();\n\n          var rows = [];\n\n          if (headers && headers.length > 0) {\n            var headerRow = [];\n            for (var h = 0; h < headers.length; h++) {\n              headerRow.push(React.createElement(\n                'th', {\n                  key: 'h' + h\n                },\n                headers[h]\n              ));\n            }\n            rows.push(React.createElement(\n              'tr', {\n                key: 'h'\n              },\n              headerRow\n            ));\n          }\n\n          if (data && data.length > 0) {\n            for (var i = 0; i < data.length; i++) {\n              var row = [];\n              if (utils.isArray(data[i])) {\n                for (var j = 0; j < data[i].length; j++) {\n                  row.push(React.createElement(\n                    'td', {\n                      key: i + '' + j\n                    },\n                    data[i][j]\n                  ));\n                }\n              } else {\n                for (var prop in data[i]) {\n                  if (data[i].hasOwnProperty(prop)) {\n                    row.push(React.createElement(\n                      'td', {\n                        key: i + '' + prop\n                      },\n                      data[i][prop]\n                    ));\n                  }\n                }\n              }\n              rows.push(React.createElement(\n                'tr', {\n                  key: i\n                },\n                row\n              ));\n            }\n          }\n\n          return React.createElement(\n            'table', {\n              className: tableClasses.table\n            },\n            React.createElement(\n              'tbody',\n              null,\n              rows\n            )\n          );\n        }\n      });\n\n    }, {\n      \"../orb.utils\": 53,\n      \"react\": \"react\"\n    }],\n    63: [function(_dereq_, module, exports) {\n\n      var React = _dereq_('react'),\n        ReactDOM = _dereq_('react-dom'),\n        FilterPanel = _dereq_('./orb.react.FilterPanel.jsx'),\n        DragManager = _dereq_('./orb.react.DragManager.jsx'),\n        utils = _dereq_('../orb.utils'),\n        axe = _dereq_('../orb.axe'),\n        domUtils = _dereq_('../orb.utils.dom'),\n        pbid = 0;\n\n      module.exports = React.createClass({\n        displayName: 'PivotButton',\n        getInitialState: function getInitialState() {\n          this.pbid = ++pbid;\n\n          // initial state, all zero.\n          return {\n            pos: {\n              x: 0,\n              y: 0\n            },\n            startpos: {\n              x: 0,\n              y: 0\n            },\n            mousedown: false,\n            dragging: false\n          };\n        },\n        onFilterMouseDown: function onFilterMouseDown(e) {\n          // left mouse button only\n          if (e.button !== 0) return;\n\n          var filterButton = this.refs.filterButton;\n          var filterButtonPos = domUtils.getOffset(filterButton);\n          var filterContainer = document.createElement('div');\n\n          var filterPanelFactory = React.createFactory(FilterPanel);\n          var filterPanel = filterPanelFactory({\n            field: this.props.field.name,\n            pivotTableComp: this.props.pivotTableComp\n          });\n\n          filterContainer.className = this.props.pivotTableComp.pgrid.config.theme.getFilterClasses().container;\n          filterContainer.style.top = filterButtonPos.y + 'px';\n          filterContainer.style.left = filterButtonPos.x + 'px';\n          document.body.appendChild(filterContainer);\n\n          ReactDOM.render(filterPanel, filterContainer);\n\n          // prevent event bubbling (to prevent text selection while dragging for example)\n          utils.stopPropagation(e);\n          utils.preventDefault(e);\n        },\n        componentDidUpdate: function componentDidUpdate() {\n          if (this.props.pivotTableComp.pgrid.config.canMoveFields) {\n            if (!this.state.mousedown) {\n              // mouse not down, don't care about mouse up/move events.\n              DragManager.setDragElement(null);\n              utils.removeEventListener(document, 'mousemove', this.onMouseMove);\n            } else if (this.state.mousedown) {\n              // mouse down, interested by mouse up/move events.\n              DragManager.setDragElement(this);\n              utils.addEventListener(document, 'mousemove', this.onMouseMove);\n            }\n          }\n        },\n        componentDidMount: function componentDidMount() {\n          this.props.pivotTableComp.registerThemeChanged(this.updateClasses);\n        },\n        componentWillUnmount: function componentWillUnmount() {\n          this.props.pivotTableComp.unregisterThemeChanged(this.updateClasses);\n          utils.removeEventListener(document, 'mousemove', this.onMouseMove);\n        },\n        onMouseDown: function onMouseDown(e) {\n          // drag/sort with left mouse button\n          if (e.button !== 0) return;\n\n          if (e.ctrlKey) {\n            this.props.pivotTableComp.pgridwidget.toggleFieldExpansion(this.props.axetype, this.props.field);\n          } else {\n\n            var thispos = domUtils.getOffset(ReactDOM.findDOMNode(this));\n            var mousePageXY = utils.getMousePageXY(e);\n\n            // inform mousedown, save start pos\n            this.setState({\n              mousedown: true,\n              mouseoffset: {\n                x: thispos.x - mousePageXY.pageX,\n                y: thispos.y - mousePageXY.pageY\n              },\n              startpos: {\n                x: mousePageXY.pageX,\n                y: mousePageXY.pageY\n              }\n            });\n          }\n\n          // prevent event bubbling (to prevent text selection while dragging for example)\n          utils.stopPropagation(e);\n          utils.preventDefault(e);\n        },\n        onMouseUp: function onMouseUp(e) {\n\n          var isdragged = this.state.dragging;\n\n          this.setState({\n            mousedown: false,\n            dragging: false,\n            size: null,\n            pos: {\n              x: 0,\n              y: 0\n            }\n          });\n\n          if (!e.ctrlKey && !isdragged) {\n            // if button was not dragged, proceed as a click\n            this.props.pivotTableComp.sort(this.props.axetype, this.props.field);\n          }\n        },\n        onMouseMove: function onMouseMove(e) {\n          // if the mouse is not down while moving, return (no drag)\n          if (!this.props.pivotTableComp.pgrid.config.canMoveFields || !this.state.mousedown) return;\n\n          var size = null;\n          var mousePageXY = utils.getMousePageXY(e);\n\n          if (!this.state.dragging) {\n            size = domUtils.getSize(ReactDOM.findDOMNode(this));\n          } else {\n            size = this.state.size;\n          }\n\n          var newpos = {\n            x: mousePageXY.pageX + this.state.mouseoffset.x,\n            y: mousePageXY.pageY + this.state.mouseoffset.y\n          };\n\n          if (!this.state.dragging || newpos.x != this.state.pos.x || newpos.y != this.state.pos.y) {\n            this.setState({\n              dragging: true,\n              size: size,\n              pos: newpos\n            });\n\n            DragManager.elementMoved();\n          }\n\n          utils.stopPropagation(e);\n          utils.preventDefault(e);\n        },\n        updateClasses: function updateClasses() {\n          ReactDOM.findDOMNode(this).className = this.props.pivotTableComp.pgrid.config.theme.getButtonClasses().pivotButton;\n        },\n        render: function render() {\n          var self = this;\n          var divstyle = {\n            left: self.state.pos.x + 'px',\n            top: self.state.pos.y + 'px',\n            position: self.state.dragging ? 'fixed' : '',\n            zIndex: 101\n          };\n\n          if (self.state.size) {\n            divstyle.width = self.state.size.width + 'px';\n          }\n\n          var sortDirectionClass = self.props.field.sort.order === 'asc' ? 'sort-asc' :\n            //' \\u2191' :\n            self.props.field.sort.order === 'desc' ? 'sort-desc' :\n            //' \\u2193' :\n            '';\n          var filterClass = (self.state.dragging ? '' : 'fltr-btn') + (this.props.pivotTableComp.pgrid.isFieldFiltered(this.props.field.name) ? ' fltr-btn-active' : '');\n          var fieldAggFunc = '';\n          if (self.props.axetype === axe.Type.DATA) {\n            fieldAggFunc = React.createElement(\n              'small',\n              null,\n              ' (' + self.props.field.aggregateFuncName + ')'\n            );\n          }\n\n          return React.createElement(\n            'div', {\n              key: self.props.field.name,\n              className: this.props.pivotTableComp.pgrid.config.theme.getButtonClasses().pivotButton,\n              onMouseDown: this.onMouseDown,\n              onMouseUp: this.onMouseUp,\n              style: divstyle\n            },\n            React.createElement(\n              'table',\n              null,\n              React.createElement(\n                'tbody',\n                null,\n                React.createElement(\n                  'tr',\n                  null,\n                  React.createElement(\n                    'td', {\n                      className: 'caption'\n                    },\n                    self.props.field.caption,\n                    fieldAggFunc\n                  ),\n                  React.createElement(\n                    'td',\n                    null,\n                    React.createElement('div', {\n                      className: 'sort-indicator ' + sortDirectionClass\n                    })\n                  ),\n                  React.createElement(\n                    'td', {\n                      className: 'filter'\n                    },\n                    React.createElement('div', {\n                      ref: 'filterButton',\n                      className: filterClass,\n                      onMouseDown: self.state.dragging ? null : this.onFilterMouseDown\n                    })\n                  )\n                )\n              )\n            )\n          );\n        }\n      });\n\n    }, {\n      \"../orb.axe\": 36,\n      \"../orb.utils\": 53,\n      \"../orb.utils.dom\": 52,\n      \"./orb.react.DragManager.jsx\": 56,\n      \"./orb.react.FilterPanel.jsx\": 61,\n      \"react\": \"react\",\n      \"react-dom\": \"react-dom\"\n    }],\n    64: [function(_dereq_, module, exports) {\n\n      var React = _dereq_('react'),\n        ReactDOM = _dereq_('react-dom'),\n        uiheaders = _dereq_('../orb.ui.header'),\n        domUtils = _dereq_('../orb.utils.dom'),\n        _paddingLeft = null,\n        _borderLeft = null;\n\n      module.exports = React.createClass({\n        displayName: 'exports',\n\n        expand: function expand() {\n          this.props.pivotTableComp.pgridwidget.expandRow(this.props.cell);\n        },\n        collapse: function collapse() {\n          this.props.pivotTableComp.pgridwidget.collapseRow(this.props.cell);\n        },\n        updateCellInfos: function updateCellInfos() {\n          var node = ReactDOM.findDOMNode(this);\n          var cell = this.props.cell;\n          node.__orb = node.__orb || {};\n\n          if (!cell.visible()) {\n\n            node.__orb._visible = false;\n          } else {\n            var cellContentNode = this.refs.cellContent;\n\n            var propList = [];\n            var retPaddingLeft = _paddingLeft == null;\n            var retBorderLeft = !this.props.leftmost && _borderLeft == null;\n            var text = node.textContent || node.innerText;\n\n            if (retPaddingLeft) {\n              propList.push('padding-left');\n            }\n\n            if (retBorderLeft) {\n              propList.push('border-left-width');\n            }\n\n            if (propList.length > 0) {\n              var nodeStyle = domUtils.getStyle(node, propList, true);\n\n              if (retPaddingLeft) {\n                _paddingLeft = parseFloat(nodeStyle[0]);\n              }\n\n              if (retBorderLeft) {\n                _borderLeft = parseFloat(nodeStyle[retPaddingLeft ? 1 : 0]);\n              }\n            }\n\n            domUtils.removeClass(node, 'cell-hidden');\n\n            node.__orb._visible = true;\n            if (text != node.__orb._lastText || !node.__orb._textWidth) {\n              node.__orb._lastText = text;\n              node.__orb._textWidth = domUtils.getSize(cellContentNode).width;\n            }\n            node.__orb._colSpan = this.props.cell.hspan(true) || 1;\n            node.__orb._rowSpan = this.props.cell.vspan(true) || 1;\n            node.__orb._paddingLeft = _paddingLeft;\n            node.__orb._paddingRight = _paddingLeft;\n            node.__orb._borderLeftWidth = this.props.leftmost ? 0 : _borderLeft;\n            node.__orb._borderRightWidth = 0;\n          }\n        },\n        componentDidMount: function componentDidMount() {\n          this.updateCellInfos();\n        },\n        componentDidUpdate: function componentDidUpdate() {\n          this.updateCellInfos();\n        },\n        shouldComponentUpdate: function shouldComponentUpdate(nextProps, nextState) {\n          if (nextProps.cell && nextProps.cell == this.props.cell && !this._latestVisibleState && !nextProps.cell.visible()) {\n            return false;\n          }\n          return true;\n        },\n        _latestVisibleState: false,\n        render: function render() {\n          var self = this;\n          var cell = this.props.cell;\n          var divcontent = [];\n          var value;\n          var cellClick;\n          var headerPushed = false;\n\n          this._latestVisibleState = cell.visible();\n\n          switch (cell.template) {\n            case 'cell-template-row-header':\n            case 'cell-template-column-header':\n              var isWrapper = cell.type === uiheaders.HeaderType.WRAPPER && cell.dim.field.subTotal.visible && cell.dim.field.subTotal.collapsible;\n              var isSubtotal = cell.type === uiheaders.HeaderType.SUB_TOTAL && !cell.expanded;\n              if (isWrapper || isSubtotal) {\n                headerPushed = true;\n\n                divcontent.push(React.createElement(\n                  'table', {\n                    key: 'header-value',\n                    ref: 'cellContent'\n                  },\n                  React.createElement(\n                    'tbody',\n                    null,\n                    React.createElement(\n                      'tr',\n                      null,\n                      React.createElement(\n                        'td', {\n                          className: 'orb-tgl-btn'\n                        },\n                        React.createElement('div', {\n                          className: 'orb-tgl-btn-' + (isWrapper ? 'down' : 'right'),\n                          onClick: isWrapper ? this.collapse : this.expand\n                        })\n                      ),\n                      React.createElement(\n                        'td', {\n                          className: 'hdr-val'\n                        },\n                        React.createElement('div', {\n                          dangerouslySetInnerHTML: {\n                            __html: cell.value || '&#160;'\n                          }\n                        })\n                      )\n                    )\n                  )\n                ));\n              } else {\n                value = (cell.value || '&#160;') + (cell.type === uiheaders.HeaderType.SUB_TOTAL ? ' Total' : '');\n              }\n              break;\n            case 'cell-template-dataheader':\n              value = cell.value.caption;\n              break;\n            case 'cell-template-datavalue':\n              value = cell.datafield && cell.datafield.formatFunc ? cell.datafield.formatFunc()(cell.value) : cell.value;\n              cellClick = function cellClick() {\n                self.props.pivotTableComp.pgridwidget.drilldown(cell, self.props.pivotTableComp.id);\n              };\n              break;\n            default:\n              break;\n          }\n\n          if (!headerPushed) {\n            var headerClassName;\n            switch (cell.template) {\n              case 'cell-template-datavalue':\n                headerClassName = 'cell-data';\n                break;\n              default:\n                if (cell.template != 'cell-template-dataheader' && cell.type !== uiheaders.HeaderType.GRAND_TOTAL) {\n                  headerClassName = 'hdr-val';\n                }\n            }\n            divcontent.push(React.createElement(\n              'div', {\n                key: 'cell-value',\n                ref: 'cellContent',\n                className: headerClassName\n              },\n              React.createElement('div', {\n                dangerouslySetInnerHTML: {\n                  __html: value || '&#160;'\n                }\n              })\n            ));\n          }\n\n          return React.createElement(\n            'td', {\n              className: getClassname(this.props),\n              onDoubleClick: cellClick,\n              colSpan: cell.hspan(),\n              rowSpan: cell.vspan()\n            },\n            React.createElement(\n              'div',\n              null,\n              divcontent\n            )\n          );\n        }\n      });\n\n      function getClassname(compProps) {\n        var cell = compProps.cell;\n        var classname = cell.cssclass;\n        var isEmpty = cell.template === 'cell-template-empty';\n\n        if (!cell.visible()) {\n          classname += ' cell-hidden';\n        }\n\n        if (cell.type === uiheaders.HeaderType.SUB_TOTAL && cell.expanded) {\n          classname += ' header-st-exp';\n        }\n\n        if (cell.type === uiheaders.HeaderType.GRAND_TOTAL) {\n          if (cell.dim.depth === 1) {\n            classname += ' header-nofields';\n          } else if (cell.dim.depth > 2) {\n            classname += ' header-gt-exp';\n          }\n        }\n\n        if (compProps.leftmost) {\n          classname += ' ' + (cell.template === 'cell-template-datavalue' ? 'cell' : 'header') + '-leftmost';\n        }\n\n        if (compProps.topmost) {\n          classname += ' cell-topmost';\n        }\n\n        return classname;\n      }\n\n    }, {\n      \"../orb.ui.header\": 49,\n      \"../orb.utils.dom\": 52,\n      \"react\": \"react\",\n      \"react-dom\": \"react-dom\"\n    }],\n    65: [function(_dereq_, module, exports) {\n\n      var React = _dereq_('react'),\n        ReactDOM = _dereq_('react-dom'),\n        DragManager = _dereq_('./orb.react.DragManager.jsx'),\n        SizingManager = _dereq_('./orb.react.PivotTable.SizingManager.jsx'),\n        Toolbar = _dereq_('./orb.react.Toolbar.jsx'),\n        UpperButtons = _dereq_('./orb.react.PivotTable.UpperButtons.jsx'),\n        ColumnButtons = _dereq_('./orb.react.PivotTable.ColumnButtons.jsx'),\n        RowButtons = _dereq_('./orb.react.PivotTable.RowButtons.jsx'),\n        Chart = _dereq_('./orb.react.Chart.jsx'),\n        domUtils = _dereq_('../orb.utils.dom'),\n        pivotId = 1,\n        themeChangeCallbacks = {};\n\n      module.exports = React.createClass({\n        displayName: 'exports',\n\n        id: pivotId++,\n        pgrid: null,\n        pgridwidget: null,\n        fontStyle: null,\n        getInitialState: function getInitialState() {\n          DragManager.init(this);\n\n          themeChangeCallbacks[this.id] = [];\n          this.registerThemeChanged(this.updateClasses);\n\n          this.pgridwidget = this.props.pgridwidget;\n          this.pgrid = this.pgridwidget.pgrid;\n          return {};\n        },\n        sort: function sort(axetype, field) {\n          this.pgridwidget.sort(axetype, field);\n        },\n        moveButton: function moveButton(button, newAxeType, position) {\n          this.pgridwidget.moveField(button.props.field.name, button.props.axetype, newAxeType, position);\n        },\n        applyFilter: function applyFilter(fieldname, operator, term, staticValue, excludeStatic) {\n          this.pgridwidget.applyFilter(fieldname, operator, term, staticValue, excludeStatic);\n        },\n        registerThemeChanged: function registerThemeChanged(compCallback) {\n          if (compCallback) {\n            themeChangeCallbacks[this.id].push(compCallback);\n          }\n        },\n        unregisterThemeChanged: function unregisterThemeChanged(compCallback) {\n          var i;\n          if (compCallback && (i = themeChangeCallbacks[this.id].indexOf(compCallback)) >= 0) {\n            themeChangeCallbacks[this.id].splice(i, 1);\n          }\n        },\n        changeTheme: function changeTheme(newTheme) {\n          if (this.pgridwidget.pgrid.config.setTheme(newTheme)) {\n            // notify self/sub-components of the theme change\n            for (var i = 0; i < themeChangeCallbacks[this.id].length; i++) {\n              themeChangeCallbacks[this.id][i]();\n            }\n          }\n        },\n        updateClasses: function updateClasses() {\n          var thisnode = ReactDOM.findDOMNode(this);\n          var classes = this.pgridwidget.pgrid.config.theme.getPivotClasses();\n          thisnode.className = classes.container;\n          thisnode.children[1].className = classes.table;\n        },\n        componentDidUpdate: function componentDidUpdate() {\n          this.synchronizeWidths();\n        },\n        componentDidMount: function componentDidMount() {\n          var fontInfos = domUtils.getStyle(ReactDOM.findDOMNode(this), ['font-family', 'font-size'], true);\n          this.fontStyle = {\n            fontFamily: fontInfos[0],\n            fontSize: fontInfos[1]\n          };\n\n          this.synchronizeWidths();\n        },\n        synchronizeWidths: function synchronizeWidths() {\n          var chartStyle = SizingManager.synchronizeWidths(this);\n          chartStyle.fontFamily = this.fontStyle.fontFamily;\n          chartStyle.fontSize = this.fontStyle.fontSize;\n\n          this.refs.chart.setState({\n            canRender: true,\n            chartStyle: chartStyle\n          });\n        },\n        render: function render() {\n\n          var self = this;\n\n          var config = this.pgridwidget.pgrid.config;\n          var classes = config.theme.getPivotClasses();\n\n          var tblStyle = {};\n          if (config.width) {\n            tblStyle.width = config.width;\n          }\n          if (config.height) {\n            tblStyle.height = config.height;\n          }\n\n          return React.createElement(\n            'div', {\n              className: classes.container,\n              style: tblStyle,\n              ref: 'pivot'\n            },\n            React.createElement(\n              'table', {\n                id: 'tbl-' + self.id,\n                ref: 'pivotWrapperTable',\n                className: classes.table\n              },\n              React.createElement(\n                'colgroup',\n                null,\n                React.createElement('col', {\n                  ref: 'column1'\n                }),\n                React.createElement('col', {\n                  ref: 'column2'\n                })\n              ),\n              React.createElement(\n                'tbody',\n                null,\n                React.createElement(\n                  'tr', {\n                    ref: 'upperButtons'\n                  },\n                  React.createElement(\n                    'td', {\n                      colSpan: '2'\n                    },\n                    React.createElement(UpperButtons, {\n                      pivotTableComp: self\n                    })\n                  )\n                ),\n                React.createElement(\n                  'tr', {\n                    ref: 'colButtons'\n                  },\n                  React.createElement('td', null),\n                  React.createElement(\n                    'td', {\n                      style: {\n                        padding: '11px 4px !important'\n                      }\n                    },\n                    React.createElement(ColumnButtons, {\n                      pivotTableComp: self\n                    })\n                  )\n                ),\n                React.createElement(\n                  'tr',\n                  null,\n                  React.createElement(\n                    'td', {\n                      style: {\n                        position: 'relative'\n                      }\n                    },\n                    React.createElement(RowButtons, {\n                      pivotTableComp: self,\n                      ref: 'rowButtons'\n                    })\n                  ),\n                  React.createElement(\n                    'td',\n                    null,\n                    React.createElement(Chart, {\n                      pivotTableComp: self,\n                      chartMode: config.chartMode,\n                      ref: 'chart'\n                    })\n                  )\n                )\n              )\n            )\n          );\n        }\n      });\n\n    }, {\n      \"../orb.utils.dom\": 52,\n      \"./orb.react.Chart.jsx\": 54,\n      \"./orb.react.DragManager.jsx\": 56,\n      \"./orb.react.PivotTable.ColumnButtons.jsx\": 67,\n      \"./orb.react.PivotTable.RowButtons.jsx\": 70,\n      \"./orb.react.PivotTable.SizingManager.jsx\": 72,\n      \"./orb.react.PivotTable.UpperButtons.jsx\": 73,\n      \"./orb.react.Toolbar.jsx\": 76,\n      \"react\": \"react\",\n      \"react-dom\": \"react-dom\"\n    }],\n    66: [function(_dereq_, module, exports) {\n\n      var React = _dereq_('react'),\n        PivotCell = _dereq_('./orb.react.PivotCell.jsx'),\n        axe = _dereq_('../orb.axe');\n\n      module.exports = React.createClass({\n        displayName: 'exports',\n\n        render: function render() {\n          var self = this;\n\n          var lastCellIndex = this.props.row.length - 1;\n          var cell0 = this.props.row[0];\n          var leftmostCellFound = false;\n          var layoutInfos = self.props.layoutInfos;\n          var cells;\n\n          var rowstyle = {};\n\n          var istopmost = false;\n\n          cells = this.props.row.map(function(cell, index) {\n\n            var isleftmost = false;\n\n            // If current cells are column/data headers and left most cell is not found yet\n            // and last row left most cell does not span vertically over the current one and current one is visible\n            // then mark IT as the left most cell\n            if (cell.visible() && layoutInfos) {\n              if (cell.dim) {\n                if (cell.dim.isRoot && layoutInfos.topMostCells[cell.dim.depth - 1] === undefined || !cell.dim.isRoot && layoutInfos.topMostCells[cell.dim.depth] === undefined && (cell.dim.parent.isRoot || layoutInfos.topMostCells[cell.dim.depth + 1] === cell.dim.parent)) {\n                  istopmost = true;\n                  layoutInfos.topMostCells[cell.dim.depth] = cell.dim;\n                }\n              } else if (!layoutInfos.topMostCells['0']) {\n                istopmost = layoutInfos.topMostCells['0'] = true;\n              }\n\n              if (!leftmostCellFound && (self.props.axetype === axe.Type.DATA || self.props.axetype === axe.Type.COLUMNS) && layoutInfos.lastLeftMostCellVSpan === 0) {\n\n                isleftmost = leftmostCellFound = true;\n                layoutInfos.lastLeftMostCellVSpan = cell.vspan() - 1;\n              }\n            }\n\n            return React.createElement(PivotCell, {\n              key: index,\n              cell: cell,\n              leftmost: isleftmost,\n              topmost: istopmost,\n              pivotTableComp: self.props.pivotTableComp\n            });\n          });\n\n          // decrement lastLeftMostCellVSpan\n          if (layoutInfos && layoutInfos.lastLeftMostCellVSpan > 0 && !leftmostCellFound) {\n            layoutInfos.lastLeftMostCellVSpan--;\n          }\n\n          return React.createElement(\n            'tr', {\n              style: rowstyle\n            },\n            cells\n          );\n        }\n      });\n\n    }, {\n      \"../orb.axe\": 36,\n      \"./orb.react.PivotCell.jsx\": 64,\n      \"react\": \"react\"\n    }],\n    67: [function(_dereq_, module, exports) {\n\n      var React = _dereq_('react'),\n        axe = _dereq_('../orb.axe'),\n        PivotButton = _dereq_('./orb.react.PivotButton.jsx'),\n        DropTarget = _dereq_('./orb.react.DropTarget.jsx');\n\n      module.exports = React.createClass({\n        displayName: 'exports',\n\n        render: function render() {\n          var self = this;\n          var config = this.props.pivotTableComp.pgridwidget.pgrid.config;\n\n          var columnButtons = config.columnFields.map(function(field, index) {\n            return React.createElement(PivotButton, {\n              key: field.name,\n              field: field,\n              axetype: axe.Type.COLUMNS,\n              position: index,\n              pivotTableComp: self.props.pivotTableComp\n            });\n          });\n\n          return React.createElement(DropTarget, {\n            buttons: columnButtons,\n            axetype: axe.Type.COLUMNS\n          });\n        }\n      });\n\n    }, {\n      \"../orb.axe\": 36,\n      \"./orb.react.DropTarget.jsx\": 58,\n      \"./orb.react.PivotButton.jsx\": 63,\n      \"react\": \"react\"\n    }],\n    68: [function(_dereq_, module, exports) {\n\n      var React = _dereq_('react'),\n        axe = _dereq_('../orb.axe'),\n        PivotRow = _dereq_('./orb.react.PivotRow.jsx');\n\n      module.exports = React.createClass({\n        displayName: 'exports',\n\n        render: function render() {\n          var self = this;\n          var pgridwidget = this.props.pivotTableComp.pgridwidget;\n          var cntrClass = pgridwidget.columns.headers.length === 0 ? '' : ' columns-cntr';\n\n          var layoutInfos = {\n            lastLeftMostCellVSpan: 0,\n            topMostCells: {}\n          };\n\n          var columnHeaders = pgridwidget.columns.headers.map(function(headerRow, index) {\n            return React.createElement(PivotRow, {\n              key: index,\n              row: headerRow,\n              axetype: axe.Type.COLUMNS,\n              pivotTableComp: self.props.pivotTableComp,\n              layoutInfos: layoutInfos\n            });\n          });\n\n          return React.createElement(\n            'div', {\n              className: 'inner-table-container' + cntrClass,\n              onWheel: this.props.pivotTableComp.onWheel\n            },\n            React.createElement(\n              'table', {\n                className: 'inner-table'\n              },\n              React.createElement('colgroup', null),\n              React.createElement(\n                'tbody',\n                null,\n                columnHeaders\n              )\n            )\n          );\n        }\n      });\n\n    }, {\n      \"../orb.axe\": 36,\n      \"./orb.react.PivotRow.jsx\": 66,\n      \"react\": \"react\"\n    }],\n    69: [function(_dereq_, module, exports) {\n\n      var React = _dereq_('react'),\n        axe = _dereq_('../orb.axe'),\n        PivotRow = _dereq_('./orb.react.PivotRow.jsx');\n\n      module.exports = React.createClass({\n        displayName: 'exports',\n\n        render: function render() {\n          var self = this;\n          var pgridwidget = this.props.pivotTableComp.pgridwidget;\n          var layoutInfos = {\n            lastLeftMostCellVSpan: 0,\n            topMostCells: {}\n          };\n\n          var dataCells = pgridwidget.dataRows.map(function(dataRow, index) {\n            return React.createElement(PivotRow, {\n              key: index,\n              row: dataRow,\n              axetype: axe.Type.DATA,\n              layoutInfos: layoutInfos,\n              pivotTableComp: self.props.pivotTableComp\n            });\n          });\n\n          return React.createElement(\n            'div', {\n              className: 'inner-table-container data-cntr',\n              onWheel: this.props.pivotTableComp.onWheel\n            },\n            React.createElement(\n              'table', {\n                className: 'inner-table'\n              },\n              React.createElement('colgroup', null),\n              React.createElement(\n                'tbody',\n                null,\n                dataCells\n              )\n            )\n          );\n        }\n      });\n\n    }, {\n      \"../orb.axe\": 36,\n      \"./orb.react.PivotRow.jsx\": 66,\n      \"react\": \"react\"\n    }],\n    70: [function(_dereq_, module, exports) {\n\n      var React = _dereq_('react'),\n        PivotButton = _dereq_('./orb.react.PivotButton.jsx'),\n        DropTarget = _dereq_('./orb.react.DropTarget.jsx'),\n        DropTargetVertical = _dereq_('./orb.react.DropTargetVertical.jsx'),\n        axe = _dereq_('../orb.axe');\n\n      module.exports = React.createClass({\n        displayName: 'exports',\n\n        render: function render() {\n          var self = this;\n          var config = this.props.pivotTableComp.pgridwidget.pgrid.config;\n\n          var rowButtons = config.rowFields.map(function(field, index) {\n            return React.createElement(PivotButton, {\n              key: field.name,\n              field: field,\n              axetype: axe.Type.ROWS,\n              position: index,\n              pivotTableComp: self.props.pivotTableComp\n            });\n          });\n\n          if (config.chartMode.enabled) {\n            return React.createElement(DropTargetVertical, {\n              buttons: rowButtons,\n              axetype: axe.Type.ROWS\n            });\n          } else {\n            return React.createElement(DropTarget, {\n              buttons: rowButtons,\n              axetype: axe.Type.ROWS\n            });\n          }\n        }\n      });\n\n    }, {\n      \"../orb.axe\": 36,\n      \"./orb.react.DropTarget.jsx\": 58,\n      \"./orb.react.DropTargetVertical.jsx\": 59,\n      \"./orb.react.PivotButton.jsx\": 63,\n      \"react\": \"react\"\n    }],\n    71: [function(_dereq_, module, exports) {\n\n      var React = _dereq_('react'),\n        ReactDOM = _dereq_('react-dom'),\n        PivotRow = _dereq_('./orb.react.PivotRow.jsx'),\n        axe = _dereq_('../orb.axe');\n\n      module.exports = React.createClass({\n        displayName: 'exports',\n\n        setColGroup: function setColGroup(widths) {\n          var node = ReactDOM.findDOMNode(this);\n          var colGroupNode = this.refs.colgroup;\n          node.style.tableLayout = 'auto';\n\n          colGroupNode.innerHTML = '';\n          for (var i = 0; i < widths.length; i++) {\n            var col = document.createElement('col');\n            col.style.width = widths[i] + 8 + 'px';\n            colGroupNode.appendChild(col);\n          }\n          node.style.tableLayout = 'fixed';\n        },\n        render: function render() {\n          var self = this;\n          var pgridwidget = this.props.pivotTableComp.pgridwidget;\n          var cntrClass = pgridwidget.rows.headers.length === 0 ? '' : ' rows-cntr';\n\n          var layoutInfos = {\n            lastLeftMostCellVSpan: 0,\n            topMostCells: {}\n          };\n\n          var rowHeaders = pgridwidget.rows.headers.map(function(headerRow, index) {\n            return React.createElement(PivotRow, {\n              key: index,\n              row: headerRow,\n              axetype: axe.Type.ROWS,\n              layoutInfos: layoutInfos,\n              pivotTableComp: self.props.pivotTableComp\n            });\n          });\n\n          return React.createElement(\n            'div', {\n              className: 'inner-table-container' + cntrClass,\n              onWheel: this.props.pivotTableComp.onWheel\n            },\n            React.createElement(\n              'table', {\n                className: 'inner-table'\n              },\n              React.createElement('colgroup', {\n                ref: 'colgroup'\n              }),\n              React.createElement(\n                'tbody',\n                null,\n                rowHeaders\n              )\n            )\n          );\n        }\n      });\n\n    }, {\n      \"../orb.axe\": 36,\n      \"./orb.react.PivotRow.jsx\": 66,\n      \"react\": \"react\",\n      \"react-dom\": \"react-dom\"\n    }],\n    72: [function(_dereq_, module, exports) {\n\n      var ReactDOM = _dereq_('react-dom'),\n        domUtils = _dereq_('../orb.utils.dom');\n\n      var SizingManager = module.exports = {\n        synchronizeWidths: function synchronizeWidths(pivotComp) {\n          if (pivotComp.pgridwidget.pgrid.config.chartMode.enabled) {\n            return SizingManager.synchronizePivotChartWidths(pivotComp);\n          } else {\n            SizingManager.synchronizePivotTableWidths(pivotComp);\n          }\n        },\n        synchronizePivotChartWidths: function synchronizePivotChartWidths(pivotComp) {\n          var pivotWrapperTable = pivotComp.refs.pivotWrapperTable,\n            pivot = new ComponentSizeInfo(pivotComp.refs.pivot),\n            topBtns = new ComponentSizeInfo(pivotComp.refs.upperButtons),\n            cBtns = new ComponentSizeInfo(pivotComp.refs.colButtons),\n            rBtnsTbl = new ComponentSizeInfo(pivotComp.refs.rowButtons),\n            chart = new ComponentSizeInfo(pivotComp.refs.chart),\n            rBtnsWidth = Math.max(rBtnsTbl.w, 67),\n            chartWidth = pivot.w - rBtnsWidth,\n            pivotHeight = pivotComp.pgridwidget.pgrid.config.height,\n            chartHeight = !pivotHeight ? null : pivotHeight - (topBtns.h + cBtns.h);\n\n          // set pivotWrapperTable columns width to fixed value\n          domUtils.updateTableColGroup(pivotWrapperTable, [rBtnsWidth, chartWidth]);\n\n          return {\n            width: chartWidth,\n            height: chartHeight\n          };\n        },\n        synchronizePivotTableWidths: function synchronizePivotTableWidths(pivotComp) {\n\n          var pivotWrapperTable = pivotComp.refs.pivotWrapperTable,\n            pivot = new ComponentSizeInfo(pivotComp.refs.pivot),\n            toolbar = new ComponentSizeInfo(pivotComp.refs.toolbar),\n            cHeadersTbl = new ComponentSizeInfo(pivotComp.refs.colHeaders, true, 'table'),\n            rHeadersTbl = new ComponentSizeInfo(pivotComp.refs.rowHeaders, true, 'table'),\n            dataCellsTbl = new ComponentSizeInfo(pivotComp.refs.dataCells, true, 'table'),\n            topBtns = new ComponentSizeInfo(pivotComp.refs.upperButtons),\n            cBtns = new ComponentSizeInfo(pivotComp.refs.colButtons),\n            rBtnsTbl = new ComponentSizeInfo(pivotComp.refs.rowButtons, true),\n            hScroll = new ComponentSizeInfo(pivotComp.refs.horizontalScrollBar),\n            vScroll = new ComponentSizeInfo(pivotComp.refs.verticalScrollBar),\n            dataCellsWidths = dataCellsTbl.getLargestWidths(cHeadersTbl),\n            rHeadersWidth = Math.max(rHeadersTbl.w, rBtnsTbl.w, 67),\n            dataCellsContainerWidth = Math.min(dataCellsWidths.total + 1, pivot.w - rHeadersWidth - vScroll.w),\n            pivotHeight = pivotComp.pgridwidget.pgrid.config.height,\n            dataCellsRemHeight = !pivotHeight ? null : pivotHeight - (toolbar ? toolbar.h + 17 : 0) - (topBtns.h + cBtns.h + cHeadersTbl.h + hScroll.h),\n            dataCellsTableHeight = !dataCellsRemHeight ? null : Math.ceil(Math.min(dataCellsRemHeight, dataCellsTbl.h));\n\n          // get rowHeaders table width to match with rowButtons table width\n          rHeadersTbl.addToWidth(rHeadersWidth - rHeadersTbl.w);\n\n          // Set dataCellsTable cells widths according to the computed dataCellsWidths\n          domUtils.updateTableColGroup(dataCellsTbl.node, dataCellsWidths.max);\n\n          // Set colHeadersTable cells widths according to the computed dataCellsWidths\n          domUtils.updateTableColGroup(cHeadersTbl.node, dataCellsWidths.max);\n\n          // Set rowHeadersTable cells widths\n          domUtils.updateTableColGroup(rHeadersTbl.node, rHeadersTbl.colWidths);\n\n          dataCellsTbl.setStyle('width', dataCellsWidths.total);\n          cHeadersTbl.setStyle('width', dataCellsWidths.total);\n          rHeadersTbl.setStyle('width', rHeadersWidth);\n\n          // Adjust data cells container and column headers container width\n          dataCellsTbl.setParentStyle('width', dataCellsContainerWidth);\n          cHeadersTbl.setParentStyle('width', dataCellsContainerWidth);\n\n          if (dataCellsTableHeight) {\n            // Adjust data cells container and row headers container height\n            dataCellsTbl.setParentStyle('height', dataCellsTableHeight);\n            rHeadersTbl.setParentStyle('height', dataCellsTableHeight);\n          }\n\n          // set pivotWrapperTable columns width to fixed value\n          domUtils.updateTableColGroup(pivotWrapperTable, [rHeadersWidth, dataCellsContainerWidth, vScroll.w, Math.max(pivot.w - (rHeadersWidth + dataCellsContainerWidth + vScroll.w), 0)]);\n\n          pivotComp.refs.horizontalScrollBar.refresh();\n          pivotComp.refs.verticalScrollBar.refresh();\n        }\n      };\n\n      function ComponentSizeInfo(component, isWrapper, childType) {\n        var self = this,\n          node = ReactDOM.findDOMNode(component),\n          size;\n\n        this.node = isWrapper ? node.children[0] : node;\n\n        size = domUtils.getSize(this.node);\n        this.w = size.width;\n        this.h = size.height;\n\n        this.setStyle = function(styleProp, value) {\n          self.node.style[styleProp] = value + 'px';\n        };\n\n        this.setParentStyle = function(styleProp, value) {\n          self.node.parentNode.style[styleProp] = value + 'px';\n        };\n\n        this.getLargestWidths = function(otherCompInfo) {\n          var result = {\n            max: [],\n            total: 0\n          };\n\n          // get the array of max widths between dataCellsTable and colHeadersTable\n          for (var i = 0; i < self.colWidths.length; i++) {\n            result.max.push(Math.max(self.colWidths[i], otherCompInfo.colWidths[i]));\n            result.total += result.max[i];\n          }\n\n          return result;\n        };\n\n        this.addToWidth = function(value) {\n          if (value > 0) {\n            self.w += value;\n            self.colWidths[self.colWidths.length - 1] += value;\n          }\n        };\n\n        if (childType === 'table') {\n          // get array of column widths\n          getAllColumnsWidth(this);\n        }\n      }\n\n      function getAllColumnsWidth(tblObject) {\n        if (tblObject && tblObject.node) {\n\n          var tbl = tblObject.node;\n          var colWidths = [];\n\n          for (var rowIndex = 0; rowIndex < tbl.rows.length; rowIndex++) {\n            // current row\n            var currRow = tbl.rows[rowIndex];\n            // reset colWidths index\n            var arrayIndex = 0;\n            var currWidth = null;\n\n            // get the width of each cell within current row\n            for (var cellIndex = 0; cellIndex < currRow.cells.length; cellIndex++) {\n              // current cell\n              var currCell = currRow.cells[cellIndex];\n\n              if (currCell.__orb._visible) {\n                // cell width\n                //var cellwidth = Math.ceil(domUtils.getSize(currCell.children[0]).width/currCell.colSpan);\n                var cellwidth = Math.ceil(currCell.__orb._textWidth / currCell.__orb._colSpan + currCell.__orb._paddingLeft + currCell.__orb._paddingRight + currCell.__orb._borderLeftWidth + currCell.__orb._borderRightWidth);\n                // whether current cell spans vertically to the last row\n                var rowsSpan = currCell.__orb._rowSpan > 1 && currCell.__orb._rowSpan >= tbl.rows.length - rowIndex;\n\n                // if current cell spans over more than one column, add its width (its) 'colSpan' number of times\n                for (var cspan = 0; cspan < currCell.__orb._colSpan; cspan++) {\n                  // If cell span over more than 1 row: insert its width into colWidths at arrayIndex\n                  // Else: either expand colWidths if necessary or replace the width if its smaller than current cell width\n\n                  currWidth = colWidths[arrayIndex];\n                  // skip inhibited widths (width that belongs to an upper cell than spans vertically to current row)\n                  while (currWidth && currWidth.inhibit > 0) {\n                    currWidth.inhibit--;\n                    arrayIndex++;\n                    currWidth = colWidths[arrayIndex];\n                  }\n\n                  if (colWidths.length - 1 < arrayIndex) {\n                    colWidths.push({\n                      width: cellwidth\n                    });\n                  } else if (cellwidth > colWidths[arrayIndex].width) {\n                    colWidths[arrayIndex].width = cellwidth;\n                  }\n\n                  colWidths[arrayIndex].inhibit = currCell.__orb._rowSpan - 1;\n\n                  // increment colWidths index\n                  arrayIndex++;\n                }\n              }\n            }\n\n            // decrement inhibited state of all widths unsed in colWidths (not reached by current row cells)\n            currWidth = colWidths[arrayIndex];\n            while (currWidth) {\n              if (currWidth.inhibit > 0) {\n                currWidth.inhibit--;\n              }\n              arrayIndex++;\n              currWidth = colWidths[arrayIndex];\n            }\n          }\n\n          // set colWidths to the tblObject\n          tblObject.w = 0;\n          tblObject.colWidths = colWidths.map(function(item, index) {\n            tblObject.w += item.width;\n            return item.width;\n          });\n        }\n      }\n\n      function setTableWidths(tblObject, colWidths) {\n        if (tblObject && tblObject.node) {\n\n          // reset table width\n          (tblObject.size = tblObject.size || {}).width = 0;\n\n          var tbl = tblObject.node;\n\n          // for each row, set its cells width\n          for (var rowIndex = 0; rowIndex < tbl.rows.length; rowIndex++) {\n\n            // current row\n            var currRow = tbl.rows[rowIndex];\n            // index in colWidths\n            var arrayIndex = 0;\n            var currWidth = null;\n\n            // set width of each cell\n            for (var cellIndex = 0; cellIndex < currRow.cells.length; cellIndex++) {\n\n              // current cell\n              var currCell = currRow.cells[cellIndex];\n              if (currCell.__orb._visible) {\n                // cell width\n                var newCellWidth = 0;\n                // whether current cell spans vertically more than 1 row\n                var rowsSpan = currCell.__orb._rowSpan > 1 && rowIndex < tbl.rows.length - 1;\n\n                // current cell width is the sum of (its) \"colspan\" items in colWidths starting at 'arrayIndex'\n                // 'arrayIndex' should be incremented by an amount equal to current cell 'colspan' but should also skip 'inhibited' cells\n                for (var cspan = 0; cspan < currCell.__orb._colSpan; cspan++) {\n                  currWidth = colWidths[arrayIndex];\n                  // skip inhibited widths (width that belongs to an upper cell than spans vertically to current row)\n                  while (currWidth && currWidth.inhibit > 0) {\n                    currWidth.inhibit--;\n                    arrayIndex++;\n                    currWidth = colWidths[arrayIndex];\n                  }\n\n                  if (currWidth) {\n                    // add width of cells participating in the span\n                    newCellWidth += currWidth.width;\n                    // if current cell spans vertically more than 1 row, mark its width as inhibited for all cells participating in this span\n                    if (rowsSpan) {\n                      currWidth.inhibit = currCell.__orb._rowSpan - 1;\n                    }\n\n                    // advance colWidths index\n                    arrayIndex++;\n                  }\n                }\n\n                currCell.children[0].style.width = newCellWidth + 'px';\n\n                // set table width (only in first iteration)\n                if (rowIndex === 0) {\n                  var outerCellWidth = 0;\n                  if (currCell.__orb) {\n                    outerCellWidth = currCell.__orb._colSpan * Math.ceil(currCell.__orb._paddingLeft + currCell.__orb._paddingRight + currCell.__orb._borderLeftWidth + currCell.__orb._borderRightWidth);\n                  }\n                  tblObject.w += newCellWidth + outerCellWidth;\n                }\n              }\n            }\n\n            // decrement inhibited state of all widths unsed in colWidths (not reached by current row cells)\n            currWidth = colWidths[arrayIndex];\n            while (currWidth) {\n              if (currWidth.inhibit > 0) {\n                currWidth.inhibit--;\n              }\n              arrayIndex++;\n              currWidth = colWidths[arrayIndex];\n            }\n          }\n        }\n      }\n\n    }, {\n      \"../orb.utils.dom\": 52,\n      \"react-dom\": \"react-dom\"\n    }],\n    73: [function(_dereq_, module, exports) {\n\n      var React = _dereq_('react'),\n        PivotButton = _dereq_('./orb.react.PivotButton.jsx'),\n        DropTarget = _dereq_('./orb.react.DropTarget.jsx'),\n        axe = _dereq_('../orb.axe');\n\n      module.exports = React.createClass({\n        displayName: 'exports',\n\n        render: function render() {\n          var self = this;\n          var config = this.props.pivotTableComp.pgridwidget.pgrid.config;\n\n          var fieldsDropTarget;\n          if (config.canMoveFields) {\n            var fieldsButtons = config.availablefields().map(function(field, index) {\n              return React.createElement(PivotButton, {\n                key: field.name,\n                field: field,\n                axetype: null,\n                position: index,\n                pivotTableComp: self.props.pivotTableComp\n              });\n            });\n            fieldsDropTarget = React.createElement(\n              'tr',\n              null,\n              React.createElement(\n                'td', {\n                  className: 'flds-grp-cap av-flds text-muted'\n                },\n                React.createElement(\n                  'div',\n                  null,\n                  'Fields'\n                )\n              ),\n              React.createElement(\n                'td', {\n                  className: 'av-flds'\n                },\n                React.createElement(DropTarget, {\n                  buttons: fieldsButtons,\n                  axetype: null\n                })\n              )\n            );\n          } else {\n            fieldsDropTarget = null;\n          }\n\n          var dataButtons = config.dataFields.map(function(field, index) {\n            return React.createElement(PivotButton, {\n              key: field.name,\n              field: field,\n              axetype: axe.Type.DATA,\n              position: index,\n              pivotTableComp: self.props.pivotTableComp\n            });\n          });\n\n          var dataDropTarget = React.createElement(\n            'tr',\n            null,\n            React.createElement(\n              'td', {\n                className: 'flds-grp-cap text-muted'\n              },\n              React.createElement(\n                'div',\n                null,\n                'Data'\n              )\n            ),\n            React.createElement(\n              'td', {\n                className: 'empty'\n              },\n              React.createElement(DropTarget, {\n                buttons: dataButtons,\n                axetype: axe.Type.DATA\n              })\n            )\n          );\n\n          return React.createElement(\n            'table', {\n              className: 'inner-table upper-buttons'\n            },\n            React.createElement(\n              'tbody',\n              null,\n              fieldsDropTarget,\n              dataDropTarget\n            )\n          );\n        }\n      });\n\n    }, {\n      \"../orb.axe\": 36,\n      \"./orb.react.DropTarget.jsx\": 58,\n      \"./orb.react.PivotButton.jsx\": 63,\n      \"react\": \"react\"\n    }],\n    74: [function(_dereq_, module, exports) {\n\n      var React = _dereq_('react'),\n        ReactDOM = _dereq_('react-dom'),\n        DragManager = _dereq_('./orb.react.DragManager.jsx'),\n        SizingManager = _dereq_('./orb.react.PivotTable.SizingManager.jsx'),\n        Toolbar = _dereq_('./orb.react.Toolbar.jsx'),\n        UpperButtons = _dereq_('./orb.react.PivotTable.UpperButtons.jsx'),\n        ColumnButtons = _dereq_('./orb.react.PivotTable.ColumnButtons.jsx'),\n        RowButtons = _dereq_('./orb.react.PivotTable.RowButtons.jsx'),\n        RowHeaders = _dereq_('./orb.react.PivotTable.RowHeaders.jsx'),\n        ColumnHeaders = _dereq_('./orb.react.PivotTable.ColumnHeaders.jsx'),\n        DataCells = _dereq_('./orb.react.PivotTable.DataCells.jsx'),\n        ScrollBars = _dereq_('./orb.react.ScrollBars.jsx'),\n        HorizontalScrollBar = ScrollBars.HorizontalScrollBar,\n        VerticalScrollBar = ScrollBars.VerticalScrollBar,\n        utils = _dereq_('../orb.utils'),\n        domUtils = _dereq_('../orb.utils.dom'),\n        pivotId = 1,\n        themeChangeCallbacks = {};\n\n      module.exports = React.createClass({\n        displayName: 'exports',\n\n        id: pivotId++,\n        pgrid: null,\n        pgridwidget: null,\n        fontStyle: null,\n        getInitialState: function getInitialState() {\n          DragManager.init(this);\n\n          themeChangeCallbacks[this.id] = [];\n          this.registerThemeChanged(this.updateClasses);\n\n          this.pgridwidget = this.props.pgridwidget;\n          this.pgrid = this.pgridwidget.pgrid;\n          return {};\n        },\n        sort: function sort(axetype, field) {\n          this.pgridwidget.sort(axetype, field);\n        },\n        moveButton: function moveButton(button, newAxeType, position) {\n          this.pgridwidget.moveField(button.props.field.name, button.props.axetype, newAxeType, position);\n        },\n        toggleSubtotals: function toggleSubtotals(axetype) {\n          this.pgridwidget.toggleSubtotals(axetype);\n        },\n        toggleGrandtotal: function toggleGrandtotal(axetype) {\n          this.pgridwidget.toggleGrandtotal(axetype);\n        },\n        applyFilter: function applyFilter(fieldname, operator, term, staticValue, excludeStatic) {\n          this.pgridwidget.applyFilter(fieldname, operator, term, staticValue, excludeStatic);\n        },\n        registerThemeChanged: function registerThemeChanged(compCallback) {\n          if (compCallback) {\n            themeChangeCallbacks[this.id].push(compCallback);\n          }\n        },\n        unregisterThemeChanged: function unregisterThemeChanged(compCallback) {\n          var i;\n          if (compCallback && (i = themeChangeCallbacks[this.id].indexOf(compCallback)) >= 0) {\n            themeChangeCallbacks[this.id].splice(i, 1);\n          }\n        },\n        changeTheme: function changeTheme(newTheme) {\n          if (this.pgridwidget.pgrid.config.setTheme(newTheme)) {\n            // notify self/sub-components of the theme change\n            for (var i = 0; i < themeChangeCallbacks[this.id].length; i++) {\n              themeChangeCallbacks[this.id][i]();\n            }\n          }\n        },\n        updateClasses: function updateClasses() {\n          var thisnode = ReactDOM.findDOMNode(this);\n          var classes = this.pgridwidget.pgrid.config.theme.getPivotClasses();\n          thisnode.className = classes.container;\n          thisnode.children[1].className = classes.table;\n        },\n        componentDidUpdate: function componentDidUpdate() {\n          this.synchronizeWidths();\n        },\n        componentDidMount: function componentDidMount() {\n          var fontInfos = domUtils.getStyle(ReactDOM.findDOMNode(this), ['font-family', 'font-size'], true);\n          this.fontStyle = {\n            fontFamily: fontInfos[0],\n            fontSize: fontInfos[1]\n          };\n\n          var dataCellsNode = ReactDOM.findDOMNode(this.refs.dataCells);\n          var dataCellsTableNode = dataCellsNode.children[0];\n          var colHeadersNode = ReactDOM.findDOMNode(this.refs.colHeaders);\n          var rowHeadersNode = ReactDOM.findDOMNode(this.refs.rowHeaders);\n\n          this.refs.horizontalScrollBar.setScrollClient(dataCellsNode, function(scrollPercent) {\n            var scrollAmount = Math.ceil(scrollPercent * (domUtils.getSize(dataCellsTableNode).width - domUtils.getSize(dataCellsNode).width));\n            colHeadersNode.scrollLeft = scrollAmount;\n            dataCellsNode.scrollLeft = scrollAmount;\n          });\n\n          this.refs.verticalScrollBar.setScrollClient(dataCellsNode, function(scrollPercent) {\n            var scrollAmount = Math.ceil(scrollPercent * (domUtils.getSize(dataCellsTableNode).height - domUtils.getSize(dataCellsNode).height));\n            rowHeadersNode.scrollTop = scrollAmount;\n            dataCellsNode.scrollTop = scrollAmount;\n          });\n\n          this.synchronizeWidths();\n        },\n        onWheel: function onWheel(e) {\n          var elem;\n          var scrollbar;\n          var amount;\n\n          if (e.currentTarget == (elem = ReactDOM.findDOMNode(this.refs.colHeaders))) {\n            scrollbar = this.refs.horizontalScrollBar;\n            amount = e.deltaX || e.deltaY;\n          } else if (e.currentTarget == (elem = ReactDOM.findDOMNode(this.refs.rowHeaders)) || e.currentTarget == (elem = ReactDOM.findDOMNode(this.refs.dataCells))) {\n            scrollbar = this.refs.verticalScrollBar;\n            amount = e.deltaY;\n          }\n\n          if (scrollbar && scrollbar.scroll(amount, e.deltaMode)) {\n            utils.stopPropagation(e);\n            utils.preventDefault(e);\n          }\n        },\n        synchronizeWidths: function synchronizeWidths() {\n          SizingManager.synchronizeWidths(this);\n          this.refs.horizontalScrollBar.refresh();\n          this.refs.verticalScrollBar.refresh();\n        },\n        render: function render() {\n\n          var self = this;\n\n          var config = this.pgridwidget.pgrid.config;\n          var classes = config.theme.getPivotClasses();\n\n          var tblStyle = {};\n          if (config.width) {\n            tblStyle.width = config.width;\n          }\n          if (config.height) {\n            tblStyle.height = config.height;\n          }\n\n          return React.createElement(\n            'div', {\n              className: classes.container,\n              style: tblStyle,\n              ref: 'pivot'\n            },\n            config.toolbar && config.toolbar.visible ? React.createElement(\n              'div', {\n                ref: 'toolbar',\n                className: 'orb-toolbar'\n              },\n              React.createElement(Toolbar, {\n                pivotTableComp: self\n              })\n            ) : null,\n            React.createElement(\n              'table', {\n                id: 'tbl-' + self.id,\n                ref: 'pivotWrapperTable',\n                className: classes.table,\n                style: {\n                  tableLayout: 'fixed'\n                }\n              },\n              React.createElement(\n                'colgroup',\n                null,\n                React.createElement('col', {\n                  ref: 'column1'\n                }),\n                React.createElement('col', {\n                  ref: 'column2'\n                }),\n                React.createElement('col', {\n                  ref: 'column3'\n                }),\n                React.createElement('col', {\n                  ref: 'column4'\n                })\n              ),\n              React.createElement(\n                'tbody',\n                null,\n                React.createElement(\n                  'tr', {\n                    ref: 'upperButtons',\n                    className: 'orb-upper-buttons'\n                  },\n                  React.createElement(\n                    'td', {\n                      colSpan: '4'\n                    },\n                    React.createElement(UpperButtons, {\n                      pivotTableComp: self\n                    })\n                  )\n                ),\n                React.createElement(\n                  'tr', {\n                    ref: 'colButtons',\n                    className: 'orb-column-buttons'\n                  },\n                  React.createElement('td', null),\n                  React.createElement(\n                    'td', {\n                      style: {\n                        padding: '11px 4px !important'\n                      }\n                    },\n                    React.createElement(ColumnButtons, {\n                      pivotTableComp: self\n                    })\n                  ),\n                  React.createElement('td', {\n                    colSpan: '2'\n                  })\n                ),\n                React.createElement(\n                  'tr',\n                  null,\n                  React.createElement(\n                    'td', {\n                      style: {\n                        position: 'relative'\n                      }\n                    },\n                    React.createElement(RowButtons, {\n                      pivotTableComp: self,\n                      ref: 'rowButtons'\n                    })\n                  ),\n                  React.createElement(\n                    'td',\n                    null,\n                    React.createElement(ColumnHeaders, {\n                      pivotTableComp: self,\n                      ref: 'colHeaders'\n                    })\n                  ),\n                  React.createElement('td', {\n                    colSpan: '2'\n                  })\n                ),\n                React.createElement(\n                  'tr',\n                  null,\n                  React.createElement(\n                    'td',\n                    null,\n                    React.createElement(RowHeaders, {\n                      pivotTableComp: self,\n                      ref: 'rowHeaders'\n                    })\n                  ),\n                  React.createElement(\n                    'td',\n                    null,\n                    React.createElement(DataCells, {\n                      pivotTableComp: self,\n                      ref: 'dataCells'\n                    })\n                  ),\n                  React.createElement(\n                    'td',\n                    null,\n                    React.createElement(VerticalScrollBar, {\n                      pivotTableComp: self,\n                      ref: 'verticalScrollBar'\n                    })\n                  ),\n                  React.createElement('td', null)\n                ),\n                React.createElement(\n                  'tr',\n                  null,\n                  React.createElement('td', null),\n                  React.createElement(\n                    'td',\n                    null,\n                    React.createElement(HorizontalScrollBar, {\n                      pivotTableComp: self,\n                      ref: 'horizontalScrollBar'\n                    })\n                  ),\n                  React.createElement('td', {\n                    colSpan: '2'\n                  })\n                )\n              )\n            ),\n            React.createElement('div', {\n              className: 'orb-overlay orb-overlay-hidden',\n              id: 'drilldialog' + self.id\n            })\n          );\n        }\n      });\n\n    }, {\n      \"../orb.utils\": 53,\n      \"../orb.utils.dom\": 52,\n      \"./orb.react.DragManager.jsx\": 56,\n      \"./orb.react.PivotTable.ColumnButtons.jsx\": 67,\n      \"./orb.react.PivotTable.ColumnHeaders.jsx\": 68,\n      \"./orb.react.PivotTable.DataCells.jsx\": 69,\n      \"./orb.react.PivotTable.RowButtons.jsx\": 70,\n      \"./orb.react.PivotTable.RowHeaders.jsx\": 71,\n      \"./orb.react.PivotTable.SizingManager.jsx\": 72,\n      \"./orb.react.PivotTable.UpperButtons.jsx\": 73,\n      \"./orb.react.ScrollBars.jsx\": 75,\n      \"./orb.react.Toolbar.jsx\": 76,\n      \"react\": \"react\",\n      \"react-dom\": \"react-dom\"\n    }],\n    75: [function(_dereq_, module, exports) {\n\n      var React = _dereq_('react'),\n        ReactDOM = _dereq_('react-dom'),\n        utils = _dereq_('../orb.utils'),\n        domUtils = _dereq_('../orb.utils.dom');\n\n      var scrollBarMixin = {\n        scrollEvent: null,\n        scrollClient: null,\n        getInitialState: function getInitialState() {\n          // initial state, all zero.\n          return {\n            size: 16,\n            mousedown: false,\n            thumbOffset: 0\n          };\n        },\n        componentDidMount: function componentDidMount() {\n          this.scrollEvent = new ScrollEvent(this);\n        },\n        componentDidUpdate: function componentDidUpdate() {\n          if (!this.state.mousedown) {\n            // mouse not down, don't care about mouse up/move events.\n            utils.removeEventListener(document, 'mousemove', this.onMouseMove);\n            utils.removeEventListener(document, 'mouseup', this.onMouseUp);\n          } else if (this.state.mousedown) {\n            // mouse down, interested by mouse up/move events.\n            utils.addEventListener(document, 'mousemove', this.onMouseMove);\n            utils.addEventListener(document, 'mouseup', this.onMouseUp);\n          }\n        },\n        componentWillUnmount: function componentWillUnmount() {\n          utils.removeEventListener(document, 'mousemove', this.onMouseMove);\n          utils.removeEventListener(document, 'mouseup', this.onMouseUp);\n        },\n        onMouseDown: function onMouseDown(e) {\n          // drag with left mouse button\n          if (e.button !== 0) return;\n\n          var thumbElem = this.refs.scrollThumb;\n          var thumbposInParent = domUtils.getParentOffset(thumbElem);\n          var mousePageXY = utils.getMousePageXY(e);\n\n          domUtils.addClass(thumbElem, 'orb-scrollthumb-hover');\n\n          // inform mousedown, save start pos\n          this.setState({\n            mousedown: true,\n            mouseoffset: mousePageXY[this.mousePosProp],\n            thumbOffset: thumbposInParent[this.posProp]\n          });\n\n          // prevent event bubbling (to prevent text selection while dragging for example)\n          utils.stopPropagation(e);\n          utils.preventDefault(e);\n        },\n        onMouseUp: function onMouseUp() {\n\n          if (this.state.mousedown) {\n            var thumbElem = this.refs.scrollThumb;\n            domUtils.removeClass(thumbElem, 'orb-scrollthumb-hover');\n          }\n\n          this.setState({\n            mousedown: false\n          });\n        },\n        onMouseMove: function onMouseMove(e) {\n\n          // if the mouse is not down while moving, return (no drag)\n          if (!this.state.mousedown) return;\n\n          utils.stopPropagation(e);\n          utils.preventDefault(e);\n\n          var mousePageXY = utils.getMousePageXY(e);\n          var amount = mousePageXY[this.mousePosProp] - this.state.mouseoffset;\n          this.state.mouseoffset = mousePageXY[this.mousePosProp];\n\n          this.scroll(amount);\n        },\n        getScrollSize: function getScrollSize() {\n          if (this.scrollClient != null) {\n            return domUtils.getSize(this.scrollClient)[this.sizeProp];\n          } else {\n            return domUtils.getSize(ReactDOM.findDOMNode(this))[this.sizeProp];\n          }\n        },\n        setScrollClient: function setScrollClient(scrollClient, scrollCallback) {\n          this.scrollClient = scrollClient;\n          this.scrollEvent.callback = scrollCallback;\n        },\n        getScrollPercent: function getScrollPercent() {\n          var maxOffset = this.getScrollSize() - this.state.size;\n          return maxOffset <= 0 ? 0 : this.state.thumbOffset / maxOffset;\n        },\n        refresh: function refresh() {\n          if (this.scrollClient) {\n            var scrolledElement = this.scrollClient.children[0];\n\n            var clientSize = domUtils.getSize(this.scrollClient);\n            var elementSize = domUtils.getSize(scrolledElement);\n\n            var scrollBarContainerSize = this.getScrollSize();\n            var newSize = clientSize[this.sizeProp] >= elementSize[this.sizeProp] ? 0 : clientSize[this.sizeProp] / elementSize[this.sizeProp] * scrollBarContainerSize;\n\n            this.setState({\n              containerSize: scrollBarContainerSize,\n              size: newSize,\n              thumbOffset: Math.min(this.state.thumbOffset, scrollBarContainerSize - newSize)\n            }, this.scrollEvent.raise);\n          }\n        },\n        scroll: function scroll(amount, mode) {\n          if (this.state.size > 0) {\n            if (mode == 1) amount *= 8;\n\n            var maxOffset = this.getScrollSize() - this.state.size;\n            var newOffset = this.state.thumbOffset + amount;\n            if (newOffset < 0) newOffset = 0;\n            if (newOffset > maxOffset) newOffset = maxOffset;\n\n            if (this.state.thumbOffset != newOffset) {\n              this.setState({\n                thumbOffset: newOffset\n              }, this.scrollEvent.raise);\n              return true;\n            }\n          }\n          return false;\n        },\n        onWheel: function onWheel(e) {\n          this.scroll(e.deltaY, e.deltaMode);\n          utils.stopPropagation(e);\n          utils.preventDefault(e);\n        },\n        render: function render() {\n          var self = this;\n\n          var thumbStyle = {\n            padding: 0\n          };\n          thumbStyle[this.sizeProp] = this.state.size;\n          thumbStyle[this.offsetCssProp] = this.state.thumbOffset;\n\n          var thisStyle = {};\n          thisStyle[this.sizeProp] = this.state.containerSize;\n\n          var thumbClass = \"orb-scrollthumb \" + this.props.pivotTableComp.pgrid.config.theme.getButtonClasses().scrollBar;\n\n          var scrollThumb = this.state.size <= 0 ? null : React.createElement('div', {\n            className: thumbClass,\n            style: thumbStyle,\n            ref: 'scrollThumb',\n            onMouseDown: this.onMouseDown\n          });\n\n          return React.createElement(\n            'div', {\n              className: this.cssClass,\n              style: thisStyle,\n              onWheel: this.onWheel\n            },\n            scrollThumb\n          );\n        }\n      };\n\n      function ScrollEvent(scrollBarComp) {\n        var self = this;\n        this.scrollBarComp = scrollBarComp;\n        this.callback = null;\n        this.raise = function() {\n          if (self.callback) {\n            self.callback(self.scrollBarComp.getScrollPercent());\n          }\n        };\n      }\n\n      module.exports.HorizontalScrollBar = React.createClass({\n        displayName: 'HorizontalScrollBar',\n\n        mixins: [scrollBarMixin],\n        posProp: 'x',\n        mousePosProp: 'pageX',\n        sizeProp: 'width',\n        offsetCssProp: 'left',\n        cssClass: 'orb-h-scrollbar'\n      });\n\n      module.exports.VerticalScrollBar = React.createClass({\n        displayName: 'VerticalScrollBar',\n\n        mixins: [scrollBarMixin],\n        posProp: 'y',\n        mousePosProp: 'pageY',\n        sizeProp: 'height',\n        offsetCssProp: 'top',\n        cssClass: 'orb-v-scrollbar'\n      });\n\n    }, {\n      \"../orb.utils\": 53,\n      \"../orb.utils.dom\": 52,\n      \"react\": \"react\",\n      \"react-dom\": \"react-dom\"\n    }],\n    76: [function(_dereq_, module, exports) {\n\n      var React = _dereq_('react'),\n        axe = _dereq_('../orb.axe'),\n        domUtils = _dereq_('../orb.utils.dom');\n\n      module.exports = React.createClass({\n        displayName: 'exports',\n\n        _toInit: [],\n        componentDidMount: function componentDidMount() {\n          for (var i = 0; i < this._toInit.length; i++) {\n            var btn = this._toInit[i];\n            btn.init(this.props.pivotTableComp, this.refs[btn.ref]);\n          }\n        },\n        componentDidUpdate: function componentDidUpdate() {\n          for (var i = 0; i < this._toInit.length; i++) {\n            var btn = this._toInit[i];\n            btn.init(this.props.pivotTableComp, this.refs[btn.ref]);\n          }\n        },\n        createCallback: function createCallback(action) {\n          if (action != null) {\n            var pgridComponent = this.props.pivotTableComp;\n            return function(e) {\n              action(pgridComponent, e.target || e.srcElement);\n            };\n          }\n          return null;\n        },\n        render: function render() {\n\n          var config = this.props.pivotTableComp.pgridwidget.pgrid.config;\n\n          if (config.toolbar && config.toolbar.visible) {\n\n            var configButtons = config.toolbar.buttons ? defaultToolbarConfig.buttons.concat(config.toolbar.buttons) : defaultToolbarConfig.buttons;\n\n            var buttons = [];\n            for (var i = 0; i < configButtons.length; i++) {\n              var btnConfig = configButtons[i];\n              var refName = 'btn' + i;\n\n              if (btnConfig.type == 'separator') {\n                buttons.push(React.createElement('div', {\n                  key: i,\n                  className: 'orb-tlbr-sep'\n                }));\n              } else if (btnConfig.type == 'label') {\n                buttons.push(React.createElement(\n                  'div', {\n                    key: i,\n                    className: 'orb-tlbr-lbl'\n                  },\n                  btnConfig.text\n                ));\n              } else {\n                buttons.push(React.createElement('div', {\n                  key: i,\n                  className: 'orb-tlbr-btn ' + btnConfig.cssClass,\n                  title: btnConfig.tooltip,\n                  ref: refName,\n                  onClick: this.createCallback(btnConfig.action)\n                }));\n              }\n              if (btnConfig.init) {\n                this._toInit.push({\n                  ref: refName,\n                  init: btnConfig.init\n                });\n              }\n            }\n\n            return React.createElement(\n              'div',\n              null,\n              buttons\n            );\n          }\n\n          return React.createElement('div', null);\n        }\n      });\n\n      var excelExport = _dereq_('../orb.export.excel');\n\n      var defaultToolbarConfig = {\n        exportToExcel: function exportToExcel(pgridComponent, button) {\n          var a = document.createElement('a');\n          a.download = \"orbpivotgrid.xls\";\n          a.href = excelExport(pgridComponent.props.pgridwidget);\n          document.body.appendChild(a);\n          a.click();\n          document.body.removeChild(a);\n        },\n        expandAllRows: function expandAllRows(pgridComponent, button) {\n          pgridComponent.pgridwidget.toggleFieldExpansion(axe.Type.ROWS, null, true);\n        },\n        collapseAllRows: function collapseAllRows(pgridComponent, button) {\n          pgridComponent.pgridwidget.toggleFieldExpansion(axe.Type.ROWS, null, false);\n        },\n        expandAllColumns: function expandAllColumns(pgridComponent, button) {\n          pgridComponent.pgridwidget.toggleFieldExpansion(axe.Type.COLUMNS, null, true);\n        },\n        collapseAllColumns: function collapseAllColumns(pgridComponent, button) {\n          pgridComponent.pgridwidget.toggleFieldExpansion(axe.Type.COLUMNS, null, false);\n        },\n        updateSubtotalsButton: function updateSubtotalsButton(axetype, pgridComponent, button) {\n          var subTotalsState = pgridComponent.pgridwidget.areSubtotalsVisible(axetype);\n          button.style.display = subTotalsState === null ? 'none' : '';\n\n          var classToAdd = '';\n          var classToRemove = '';\n          if (subTotalsState) {\n            classToAdd = 'subtotals-visible';\n            classToRemove = 'subtotals-hidden';\n          } else {\n            classToAdd = 'subtotals-hidden';\n            classToRemove = 'subtotals-visible';\n          }\n\n          domUtils.removeClass(button, classToRemove);\n          domUtils.addClass(button, classToAdd);\n        },\n        initSubtotals: function initSubtotals(axetype) {\n          var self = this;\n          return function(pgridComponent, button) {\n            self.updateSubtotalsButton(axetype, pgridComponent, button);\n          };\n        },\n        toggleSubtotals: function toggleSubtotals(axetype) {\n          var self = this;\n          return function(pgridComponent, button) {\n            pgridComponent.toggleSubtotals(axetype);\n            self.updateSubtotalsButton(axetype, pgridComponent, button);\n          };\n        },\n        updateGrandtotalButton: function updateGrandtotalButton(axetype, pgridComponent, button) {\n          var subTotalsState = pgridComponent.pgridwidget.isGrandtotalVisible(axetype);\n          button.style.display = subTotalsState === null ? 'none' : '';\n\n          var classToAdd = '';\n          var classToRemove = '';\n          if (subTotalsState) {\n            classToAdd = 'grndtotal-visible';\n            classToRemove = 'grndtotal-hidden';\n          } else {\n            classToAdd = 'grndtotal-hidden';\n            classToRemove = 'grndtotal-visible';\n          }\n\n          domUtils.removeClass(button, classToRemove);\n          domUtils.addClass(button, classToAdd);\n        },\n        initGrandtotal: function initGrandtotal(axetype) {\n          var self = this;\n          return function(pgridComponent, button) {\n            self.updateGrandtotalButton(axetype, pgridComponent, button);\n          };\n        },\n        toggleGrandtotal: function toggleGrandtotal(axetype) {\n          var self = this;\n          return function(pgridComponent, button) {\n            pgridComponent.toggleGrandtotal(axetype);\n            self.updateGrandtotalButton(axetype, pgridComponent, button);\n          };\n        }\n      };\n\n      defaultToolbarConfig.buttons = [{\n        type: 'label',\n        text: 'Rows:'\n      }, {\n        type: 'button',\n        tooltip: 'Expand all rows',\n        cssClass: 'expand-all',\n        action: defaultToolbarConfig.expandAllRows\n      }, {\n        type: 'button',\n        tooltip: 'Collapse all rows',\n        cssClass: 'collapse-all',\n        action: defaultToolbarConfig.collapseAllRows\n      }, {\n        type: 'button',\n        tooltip: 'Toggle rows sub totals',\n        init: defaultToolbarConfig.initSubtotals(axe.Type.ROWS),\n        action: defaultToolbarConfig.toggleSubtotals(axe.Type.ROWS)\n      }, {\n        type: 'button',\n        tooltip: 'Toggle rows grand total',\n        init: defaultToolbarConfig.initGrandtotal(axe.Type.ROWS),\n        action: defaultToolbarConfig.toggleGrandtotal(axe.Type.ROWS)\n      }, {\n        type: 'separator'\n      }, {\n        type: 'label',\n        text: 'Columns:'\n      }, {\n        type: 'button',\n        tooltip: 'Expand all columns',\n        cssClass: 'expand-all',\n        action: defaultToolbarConfig.expandAllColumns\n      }, {\n        type: 'button',\n        tooltip: 'Collapse all columns',\n        cssClass: 'collapse-all',\n        action: defaultToolbarConfig.collapseAllColumns\n      }, {\n        type: 'button',\n        tooltip: 'Toggle columns sub totals',\n        init: defaultToolbarConfig.initSubtotals(axe.Type.COLUMNS),\n        action: defaultToolbarConfig.toggleSubtotals(axe.Type.COLUMNS)\n      }, {\n        type: 'button',\n        tooltip: 'Toggle columns grand total',\n        init: defaultToolbarConfig.initGrandtotal(axe.Type.COLUMNS),\n        action: defaultToolbarConfig.toggleGrandtotal(axe.Type.COLUMNS)\n      }, {\n        type: 'separator'\n      }, {\n        type: 'label',\n        text: 'Export:'\n      }, {\n        type: 'button',\n        tooltip: 'Export to Excel',\n        cssClass: 'export-xls',\n        action: defaultToolbarConfig.exportToExcel\n      }];\n\n    }, {\n      \"../orb.axe\": 36,\n      \"../orb.export.excel\": 39,\n      \"../orb.utils.dom\": 52,\n      \"react\": \"react\"\n    }]\n  }, {}, [41])(41)\n});"],"sourceRoot":"/source/"}